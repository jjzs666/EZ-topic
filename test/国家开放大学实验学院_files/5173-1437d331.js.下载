(self.webpackChunklms=self.webpackChunklms||[]).push([[5173,29375,17176,1438,74075],{84359:(e,t,n)=>{"use strict";n.r(t);n(241539),n(788674);var i=n(887757),r=n.n(i),o=(n(535666),n(74104)),a=n(370538),s=n(904072);function c(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}"$url"in a.default.prototype||a.default.use(o.ZP),s(".header.gtm-category").length&&new a.default({el:"#announcement",data:{announcements:[]},created:function(){var e,t=this;return(e=r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/api/announcement");case 2:n=e.sent,t.announcements=n.data.announcements;case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){c(o,i,r,a,s,"next",e)}function s(e){c(o,i,r,a,s,"throw",e)}a(void 0)}))})()},components:{"vue-announcement":n(618511).Z}})},940635:(e,t,n)=>{var i=n(904072),r=n(963764),o=n(708468);n(892222),n(57327),n(226699),n(224812),n(968309),n(923157),n(30138),n(692624),n(902637),n(749807),n(148510);var a=i("html").attr("lang"),s=n(978571),c=n(704873),u=n(103982),l=n(726356),d=n(926082),f=n(942518),p=n(19e4),h=n(635224),_=n(752104),m=n(932135),v=n(693604),b=n(507710).Z,g=["ngRoute","stringFormat","ngProgress","monospaced.qrcode","ui.select2","ng-sortable","duScroll","ngSanitize","ui.calendar","linkify","angular-clipboard","i18n"];window.CONFIGS&&window.CONFIGS.sentryClientKey&&g.push("ngSentry"),e.exports=r.module("base",g).directive("avatar",n(267038)).directive("svgIcon",n(845032)).directive("fdSlider",n(746794)).directive("expandableContent",s.expandableContent).directive("expandableContentNew",s.expandableContentNew).directive("expandableContentRemember",s.expandableContentRemember).directive("expandableContentIsolate",s.expandableContentIsolate).directive("foldableContentRemember",s.foldableContentRemember).directive("toggleGroupManager",s.toggleGroupManager).directive("datepicker",s.datepicker).directive("datetimepicker",s.datetimepicker).directive("timepicker",s.timepicker).directive("confirmDialog",s.confirmDialog).directive("revealModal",c.revealModal).directive("resetable",c.resetable).directive("reveal",c.reveal).directive("closePopup",c.closePopup).directive("closePlayerPopup",c.closePlayerPopup).directive("serverValidated",u.serverValidated).directive("errorFor",u.errorFor).directive("errorForTreeView",u.errorForTreeView).directive("closeDropdown",s.closeDropdown).directive("uiSelect2",s.uiSelect2).directive("addSlideSelect2",s.addSlideSelect2).directive("focus",s.focus).directive("simEditor",s.simEditor).directive("formatScore",s.formatScore).directive("multiSelect",l).directive("multipleSelect",d).directive("scrollable",s.scrollable).directive("simditorAudio",s.simditorAudio).directive("ngCompileHtml",s.ngCompileHtml).directive("enterPress",s.enterPress).directive("escPress",s.escPress).directive("scrollableTimeline",s.scrollableTimeline).directive("videoPlayer",s.videoPlayer).directive("vueVideoMultiPlayer",s.vueVideoMultiPlayer).directive("vueSlider",s.vueSlider).directive("vueWrapper",s.vueWrapper).directive("sortable",s.sortable).directive("dragCloneable",s.dragCloneable).directive("tipsy",s.tipsy).directive("tipsyLiteral",s.tipsyLiteral).directive("tipsyAuto",s.tipsyAuto).directive("fixableNav",s.fixableNav).directive("fixableButtons",s.fixableButtons).directive("fixableListHeader",s.fixableListHeader).directive("scrollToTop",s.scrollToTop).directive("onModalStateChange",n(716858).p).directive("indeterminateCheckbox",s.indeterminateCheckbox).directive("ngPlaceholder",n(450171).w4).directive("focusPlaceholder",n(450171).he).directive("uiSelect2KeyPress",s.uiSelect2KeyPress).directive("stopPropagation",s.stopPropagation).directive("contentLengthLimit",s.contentLengthLimit).directive("modelPatron",s.modelPatron).directive("modelScorePatron",s.modelScorePatron).directive("modelTimeScorePatron",s.modelTimeScorePatron).directive("contentLengthLeft",s.contentLengthLeft).directive("toggleDropdownList",s.toggleDropdownList).directive("expandHeight",s.expandHeight).directive("autoResizeTextarea",n(864604)).directive("dotdotdot",n(80320)).directive("formatDatetime",s.formatDatetime).directive("parseInteger",s.parseInteger).directive("parseBoolean",s.parseBoolean).directive("goBack",s.goBack).directive("autoSelect",s.autoSelect).directive("onFileSelected",s.onFileSelected).directive("floatPrecision",s.floatPrecision).directive("alert",s.alert).directive("spaceTrim",n(625167)).directive("previewer",s.previewer).directive("resourceReferencePreviewer",s.resourceReferencePreviewer).directive("hypothesisStat",s.hypothesisStat).directive("integerLimit",s.integerLimit).directive("uuidFormatter",s.uuidFormatter).directive("wgPlaceholder",n(450171).jC).directive("toggleDropdown",n(956212)).directive("togglePopup",n(908760)).directive("refreshOn",s.refreshOn).directive("backgroundImage",s.backgroundImage).directive("beforeController",s.beforeController).directive("activityCheckpointLock",s.activityCheckpointLock).directive("rootScopeVariable",s.rootScopeVariable).directive("fixNgModelName",s.fixNgModelName).directive("hasSecondLevelMenu",s.hasSecondLevelMenu).directive("treeView",s.treeView).directive("draggable",s.draggable).directive("swfObject",n(529149)).directive("calcElementHeight",n(985396)).directive("mathjax",n(892958)).directive("code",s.code).directive("groupSelector",s.groupSelector).directive("injectContext",s.injectContext).directive("checkUploadStatus",s.checkUploadStatus).directive("iframeonload",s.iframeonload).directive("ngContenteditable",s.ngContenteditable).filter("duration",f.duration).filter("formatTime",f.formatTime).filter("statFormatTime",f.statFormatTime).filter("humanizeBytes",f.humanizeBytes).filter("humanizeSpeed",f.humanizeSpeed).filter("courseFilter",f.courseFilter).filter("limitLength",f.limitLength).filter("statDatetime",f.statDatetime).filter("datetime",h.datetime).filter("date",h.date).filter("time",h.time).filter("secondsToHms",_).filter("percent",f.percent).filter("formatScore",f.formatScore).filter("truncateText",f.truncateText).filter("fileName",f.fileName).filter("fileExtension",f.fileExtension).filter("clearText",f.clearText).filter("sanitizeHtml",f.sanitizeHtml).filter("year",f.year).filter("month",f.month).filter("day",f.day).filter("trustSrc",f.trustSrc).filter("scoreAsActivity",f.scoreAsActivity).filter("uuidFilter",f.uuidFilter).filter("intToChar",f.intToChar).filter("trustAsHtml",f.trustAsHtml).filter("removeHtmlTag",f.removeHtmlTag).filter("replaceImgTag",f.replaceImgTag).filter("unescapeHtmlChar",f.unescape).filter("displayName",f.displayName).filter("insert",f.insert).filter("removeNaN",f.removeNaN).directive("formatValidated",p.formatValidated).config(["$locationProvider",function(e){e.hashPrefix("")}]).config(["$interpolateProvider",function(e){return e.startSymbol("[["),e.endSymbol("]]")}]).config(["$httpProvider",function(e){return e.defaults.headers.patch={"Content-Type":"application/json;charset=utf-8"},e.defaults.useXDomain=!0,e.interceptors.push(m.progressInterceptor),e.interceptors.push(m.cacheBusterInterceptor)}]).config(["$sanitizeProvider",function(e){e.addValidAttrs(["data-latex","data-non-image"])}]).run(["uiSelect2Config",function(e){e.formatResult=function(e){var t=i("<div></div>");t.addClass("select2-line-content"),t.attr("title",e.text).text(e.text);var n=i("<span></span>");return n.addClass("truncate-text"),n.tipsy({ellipsis:!0,gravity:i.fn.tipsy.autoBounds(37,"sw"),opacity:1,html:!0}),t.append(n),t},e.formatSelection=function(e){return"<div title ='".concat(e.text,"' class='select2-line-content'>").concat(o.escape(e.text),"</div>")}}]).run(["$rootScope",function(e){return e.$t=b.t.bind(b),e.$tc=b.tc.bind(b),e.$te=b.te.bind(b),e.$on("$routeChangeSuccess",(function(e,t){i(".tipsy").remove()})),e.isIE9=window.isIE9,e.lang=a,["en-US","en-GB"].includes(e.lang)?e.langForTca="en":["zh-TW","zh-MO"].includes(e.lang)?e.langForTca="zh-TW":e.langForTca=a,e.isEnglish=v.startsWith(a,"en"),e.canPreview=function(e){return["document","image","video","audio","scorm","evercam","swf","video-quiz","link","other"].includes(e.type)},e.canShowResource=function(e,t){return t||!(null!=e&&e.audit_status)||"agree"===(null==e?void 0:e.audit_status)},e.openChatRobot=function(){var e=new CustomEvent("chat-robot:open");window.dispatchEvent(e)},e.canEditByPdfEditor=function(e){return["document","image"].includes(e.type)},e.isIE9CannotUploadFile=function(){return e.isIE9&&"QINIU"===e.storageType},e.fileTypeByExtension=v.fileTypeByExtension,e.wpsPreview=v.wpsPreview,Foundation.libs.reveal.settings.animation=null,e.$watch((function(){if(window.MathJax&&MathJax.Hub)return MathJax.Hub.Queue(["Typeset",MathJax.Hub]),!0}))}]).run(["highlight",function(e){return r.element.prototype.highlight=e.highlight}]).run(["$rootScope","$route","$location",function(e,t,n){var i=n.path;return n.path=function(r,o){if(!0===o&&!1===o)var a=t.current,s=e.$on("$locationChangeSuccess",(function(){return t.current=a,s()}));return i.apply(n,[r])}}]).name},16578:e=>{e.exports=["$scope","$http","toastr","$timeout",function(e,t,n,i){return e.copiedCode=function(){return i((function(){return n.success(e.copiedSuccessfullyText)}))},e.fallbackToManuallyCopy=function(t){return window.prompt(e.copyFallbackText,t)},e.resetAssociationCode=function(){return t.put("/api/user/association-code").success((function(t){return n.success(e.resetSuccessfullyText),e.associationCode=t.association_code})).error((function(){return n.error(e.resetFailedText)}))}}]},608632:(e,t,n)=>{var i=n(904072),r=n(293789),o=n(708468);n(969826),n(968309),n(556977),n(454678),n(891058),n(974916),n(323123);var a=n(693604);e.exports=["$rootScope","$scope","$timeout","$http","$window",function(e,t,n,s,c){t.ui={isPlaying:!1,isMuting:!1,currentTimeStr:"00:00",durationStr:"00:00",maskWidth:0};var u={isSliding:!1,isOnAudioUpdate:!1,currentTime:0,duration:0,volume:60,seekingThreshold:0},l=function(e){return t.ui.currentTimeStr=a.secondsToHms(e.currentTime),t.ui.durationStr=a.secondsToHms(e.duration),t.$apply()};t.deleteClass=function(){return i(".audio-wrapper .slider-bar").removeClass("has-warning"),i(".slider-tip-arrow").css("display","none"),!0};t.refreshPos=function(e){var t=i(".audio-wrapper .slider-bar");t.addClass("has-warning");var n=i(".audio-wrapper .slider-bar").offset().left+15,r=e.pageX-n;r<0&&t.removeClass("has-warning");var o=i(".audio-wrapper .audio")[0],a=i(".audio-slider").width();o.duration&&d(o,a,r)};var d=function(n,r,o){var s,c,l,d=i(".slider-tip"),f=i(".slider-tip-arrow"),p=o-d.width()/2+7.5+"px",h=o+10+"px";if(o<function(t,n){var i=e.refuseForwardSeeking?u.seekingThreshold:t.duration;return n/t.duration*i}(n,r)){c={padding:"0  5px",top:"-5px"},s={display:"none"};var _=parseFloat(o/r*100).toFixed(1)/100*n.duration;t.currentTime=_,t.sliderTip=a.secondsToHms(_),t.enterSliderMask=!1}else c={padding:"12px",top:"-30px"},s={left:h,display:"block"},t.sliderTip="",t.enterSliderMask=!0;c.left=p,d.css(c),f.css(s),l=o,i(".slider-tip-line").css("left",l+15+"px")};t.downloadBlob=function(){var e=r.guard(null!=t.activity?t.activity.uploads:void 0,(function(e){return e[0]}));if(e)return statistics.track({activity_type:"courseware",activity_id:t.activity.id,sub_type:e.name.split(".").pop(),sub_id:e.id,action:statistics.enums.CourseWareAction.download,mode:statistics.enums.Mode.normal,channel:statistics.enums.Channel.web})},t.togglePlay=function(e){var n=i(e.target).parents(".audio-wrapper").find("audio")[0];return t.ui.isPlaying?n.pause():n.play(),t.ui.isPlaying=!t.ui.isPlaying},t.toggleVolume=function(e){var n=i(e.target).parents(".audio-wrapper");t.ui.isMuting=!t.ui.isMuting,t.ui.isMuting?n.find(".volume-slider").slider({value:0}):n.find(".volume-slider").slider({value:u.volume})};var f=function(e){return u.seekingThreshold=Math.max(u.seekingThreshold,e.currentTime),p()},p=function(){var e=i(".audio-wrapper .audio")[0];if(!e||!e.duration)return 0;var n=parseFloat(u.seekingThreshold/e.duration).toFixed(4),r=i(".audio-wrapper .audio-slider").width();return t.ui.maskWidth=String((1-n)*r)};return t.init=function(){return i(".audio").each((function(r,s){var d;return e.refuseForwardSeeking&&(d=o.find(t.activitiesRead,{activity_type:"learning_activity",activity_id:t.activity.id}),u.seekingThreshold=function(e){if(e&&e.data&&e.data.ranges&&e.data.ranges.length>0)return e.data.ranges[e.data.ranges.length-1][1]}(d)||0,p()),function(e){var n=i(e).parent().find(".audio-slider");n.slider({step:Math.pow(10,-1),range:"max",value:0,min:0,max:100,slide:function(){return u.isSliding=!0},start:function(){return i(e).trigger("beforeSeeking",{timeBeforSeeking:e.currentTime})},change:function(){if(!u.isOnAudioUpdate){var t=n.slider("value");return e.currentTime=parseInt(t/100*e.duration)||0,u.isSliding=!1}},stop:function(){if(t.enterSliderMask){var i=parseFloat(100/e.duration*u.seekingThreshold).toFixed(1);return n.slider("value",i)}}});var r=i(e).parent().find(".volume-slider");r.slider({range:"max",value:u.volume,min:0,max:100,orientation:"vertical",change:function(){var n=r.slider("value");return t.ui.isMuting=!n>0,n>0&&(u.volume=n),function(e,t){return e.volume=t}(e,n/100)}})}(s),(t.pauseWhenLeavingWindow||t.activity.data.pause_when_leaving_window)&&c.addEventListener("blur",(function(){s&&(s.pause(),t.ui.isPlaying=!1)})),n((function(){!function(n){i(n).on("timeupdate",(function(){if(!u.isSliding&&u.duration){u.isOnAudioUpdate=!0;var r=parseInt(100*n.currentTime/n.duration);return i(n).parent().find(".audio-slider").slider({value:r}),n.currentTime===n.duration&&(t.ui.isPlaying=!1),u.isOnAudioUpdate=!1,l(n),e.refuseForwardSeeking&&f(n),u.currentTime=n.currentTime}})),i(n).on("durationchange",(function(){return l(n),u.duration=n.duration})),(t.activity&&!t.canGuestPreview||t.resource)&&a.enableTrack(t,i(n),t.activity,"audio",t.resource)}(s);var n=i(s).find("source").attr("src");return n&&sessionStorage.setItem("audioSrc",n),s.src=sessionStorage.getItem("audioSrc"),s.currentTime=t.lastPlayed||0}))})),!1}}]},646321:(e,t,n)=>{var i=n(904072),r=n(722085);r.config.set("basePath","/static/js/ace"),e.exports=["$rootScope","$scope","$timeout",function(e,t,n){var o=i("#code-editor");o.on("codeInit",(function(e,i){n((function(){i.content&&t.editor.setValue(i.content,0),i.lang&&(t.mode=i.lang,t.changeMode()),t.editor.focus()}))})),init=function(){t.editor=r.edit("editor"),t.modes=["javascript","python"],t.mode="javascript",t.editor.session.setMode("ace/mode/javascript"),t.editor.focus()},t.save=function(){var e,n;e=t.editor.getValue(),n={lang:t.mode,content:e},o.trigger("codeEdited",n),t.close()},t.close=function(){t.editor.setValue("",0),t.editor.destroy(),n((function(){o.foundation("reveal","close")}))},t.changeMode=function(){t.editor.session.setMode("ace/mode/".concat(t.mode))},init()}]},406177:(e,t,n)=>{var i=n(904072),r=n(708468);n(892222),n(57327),n(489554),n(226699),n(569600),n(821249),n(968309),n(556977),n(241539),n(891058),n(788674),n(974916),n(327852),n(132023),n(804723),n(454747),n(932564);n(887757);n(535666);var o=n(693604),a=n(693604).Timer,s=n(751840).default,c=n(942783);e.exports=["$rootScope","$scope","$http","$window","$location","activityRepository","toastr","courseManagementApi",function(e,t,n,u,l,d,f,p){var h=i("#courseId").val();t.vueParam={courseCode:""},t.ui={hideCompleteness:!0},t.displayedName="",t.location="",t.teachingClasses="",t.enableEnterDingTalkChat=!1,t.showDingTalkChatButton=!1,t.dingTalkUserInfo={},t.shouldSync=!1,t.hasSubCourses=!1,t.isShowMoodleImportButton=!1,t.isShowMoodleImportPopup=!1,t.isShowMoodleImportPopupFooter=!1,t.moodleImporterStatus=void 0,t.isDeletingContent=!1,t.vueMethods={isShowMoodleImportButton:function(e){t.isShowMoodleImportButton=e,t.$apply()},isShowMoodleImportPopupFooter:function(e){t.isShowMoodleImportPopupFooter=e,t.$apply()},moodleImporterStatus:function(e){t.moodleImporterStatus=e,t.$apply(),A()},hasSubCourses:function(e){t.hasSubCourses=!!e}},t.errorMessage="",t.syncJobDetails=[],t.pagination=c(t,l,"syncJobDetail"),t.intervalSyncDetailsChecker=null,t.syncCheckInterval=6e3,t.childrenSyncSuccess=!0;var _=new a,m=new a,v=function(e){return t.pages=e.pages,t.pagedJobs=e.data};t.changePage=function(e){return t.pagination.changePageAtFrontEnd(e,t.syncJobDetails,v)};var b=function(){d.initUserReadsRecords("course_teaching_mode_update").then((function(e){e.show_teaching_mode_change_info&&i("#child-course-teaching-mode-popup").foundation("reveal","open")}))};t.checkRoleButton=function(e){n.put("/api/course/".concat(h,"/role"),{active:e}).success((function(){u.location.reload()})).error((function(e){f.error(e.message)}))};var g=function(){d.initUserReadsRecords("course_score_percentage_update").then((function(n){n.show_score_percent_remind?(t.usersReadsCourseScorePercentageInfo=n,n.consumed_child_score_percent>n.child_score_percent?(e.courseScoreSetting={popupType:"excess",limitCourseScorePercent:t.usersReadsCourseScorePercentageInfo.child_score_percent,currentPercentage:t.usersReadsCourseScorePercentageInfo.consumed_child_score_percent,excessPercentage:t.usersReadsCourseScorePercentageInfo.consumed_child_score_percent-t.usersReadsCourseScorePercentageInfo.child_score_percent,warningTemplate:'<span class="error-detail">'.concat(t.usersReadsCourseScorePercentageInfo.child_score_percent,"%</span>")},i("#score-percentage-popup").foundation("reveal","open"),t.$on("scorePercentageUpdated",(function(){t.knew()}))):i("#course-score-synchronized-remind-popup").foundation("reveal","open")):b()}))},y=function(e,t){n.get("/api/course/".concat(h,"/sync-status?status_key=").concat(e)).success(t).error((function(){}))},E=function(){if(1===t.isDeletingContent){var e=function(e){1!==e.status&&(m.stop(),location.reload())};m.start((function(){y("is_deleting_content",e)}),5e3)}},A=function(){var e=function(e){null!==e.status&&1!==e.status&&2!==e.status||(_.stop(),1===e.status&&location.reload())};_.start((function(){y("moodle_importer_status",e)}),5e3)},w=function(){var e,n=null===(e=t.course.course_attributes.data)||void 0===e?void 0:e.moodle_importer_status;void 0===n||2===n?t.isShowMoodleImportButton=!0:0===n&&A(),t.moodleImporterStatus=n,t.isImportingContent=0===t.moodleImporterStatus},C=function(){return u.location.href="/course/"+h+"/content"};t.inviteUsers=function(){return e.invitingCourseUsers=!0},t.addNewModule=function(){return o.endsWith(l.absUrl(),"/content#/")?e.$emit("$addNewModule"):u.location.href="/course/".concat(h,"/content")},t.previewCourse=function(){return n.put("/api/courses/".concat(h,"/preview")).success(C).error((function(){}))},t.enterClassmode=function(e){return s({action:"inclass.enter",course_id:e}),window.open("/inclass/courses/".concat(e)),!1},t.validateLiteCourseConditions=function(e){n.get("/api/courses/".concat(e,"/validate-lite-course-condition")).success((function(){i("#switch-lite-course").foundation("reveal","open")})).error((function(e){t.ui.disableLiteCourse=!0,i("#switch-lite-course").foundation("reveal","open")}))},t.switchToLiteCourse=function(e){n.put("/api/courses/".concat(e,"/switch-lite")).success(C).error((function(e){if(e.message)return f.warning(e.message)}))},t.switchToNormalCourse=function(e){n.put("/api/courses/".concat(e,"/switch-normal")).success(C).error((function(){}))},t.cancelPreview=function(){return n.delete("/api/courses/".concat(h,"/preview")).success(C).error((function(){}))},t.cancelInspect=function(){return C=function(e){return window.opener||location.href.match("role=supervisor")?u.close():u.location.href=e.refer||"/management/course#/"},n.delete("/api/courses/".concat(h,"/inspect")).success(C).error((function(){}))},t.displayTeacherPortfolio=function(e){e.portfolio_url&&u.open(e.portfolio_url,"_blank")},t.deleteCourseContent=function(){!t.childrenSyncSuccess||t.isImportingContent||t.isDeletingContent||i("#delete-course-content-popup").foundation("reveal","open")},t.confirmDeleteContent=function(){if(!t.isDeletingContent){t.isDeletingContent||(t.isDeletingContent=!0,n.put("/api/course/".concat(h,"/delete-content")).success((function(e){f.success(e.message),i("#delete-course-content-popup").foundation("reveal","close"),f.success(e.message),u.location.href="/course/".concat(h,"/content")})).error((function(e){f.error(e.message),i("#delete-course-content-popup").foundation("reveal","close"),u.location.href="/course/".concat(h,"/content")})))}},t.hasKlassInfo=function(){if(!e.course)return!1;var n=e.course,i=n.academic_year?n.academic_year.name:null,o=n.semester?n.semester:null,a=n.department?n.department.name:null,s=n.grade?n.grade.name:null,c=n.klass?n.klass.name:null,u=n.subject_code?"("+n.subject_code+")":null;return t.message=r.compact([i,o,a,s,c,u]).join(" "),Boolean(i||o||a||s||c||u)};t.enterDingtalkChat=function(){t.enableEnterDingTalkChat&&n.put("/api/ding-talk/chat?course_id=".concat(h),{users_2_add:[t.dingTalkUserInfo.dingtalk_user_id]}).then((function(){t.enableEnterDingTalkChat=!1}))},t.confirmSynchronize=function(){t.shouldSync?t.shouldSync&&!t.errorMessage&&n.post("/api/blueprint-course/".concat(h,"/synchronize")).success((function(e){f.success(e.message),i("#synchronize-course-popup").foundation("reveal","close"),t.childrenSyncSuccess=!1})).error((function(e){t.shouldSync=!1,t.errorMessage=e.message})):i("#synchronize-course-popup").foundation("reveal","close")},t.synchronizeCourse=function(){t.isDeletingContent||t.isImportingContent||n.get("/api/blueprint-course/".concat(h,"/should-synchronize")).success((function(e){t.shouldSync=e.should_synchronize,t.errorMessage=e.message,i("#synchronize-course-popup").foundation("reveal","open")})).error((function(){}))};var $=function(e){r.forEach(e,(function(e){"initial"===e.status?e.progress=0:r.has(e,"total")?e.progress=parseInt(100*(e.success/e.total).toFixed(2)):e.progress="--"})),t.syncJobDetails=e;var n=r.filter(t.syncJobDetails,(function(e){return"processing"===e.status||"initial"===e.status}));r.isEmpty(n)&&clearInterval(t.intervalSyncDetailsChecker);var i=r.filter(t.syncJobDetails,(function(e){return"success"!==e.status}));r.isEmpty(i)&&(t.childrenSyncSuccess=!0),t.changePage(1)},x=function(){n.get("/api/blueprint-course/".concat(h,"/all-children-sync-success")).success((function(e){t.childrenSyncSuccess=e.sync_success}))},S=function(){n.get("/api/blueprint-course/".concat(h,"/sync-details")).success((function(e){$(e.sync_details)})).error((function(){}))},I=function(){clearInterval(t.intervalSyncDetailsChecker),t.intervalSyncDetailsChecker=setInterval(S,t.syncCheckInterval)};t.retry=function(e,i){n.post("/api/blueprint-course/".concat(e,"/sync-retry")).success((function(e){f.success(e.message),t.syncJobDetails[i].status="initial",t.syncJobDetails[i].progress=0,I()})).error((function(e){f.error(e.message)}))},t.showJobErrorMessage=function(e){alert(e.error_message)},t.closeSyncDetailModal=function(){console.log("clear interval: ".concat(t.intervalSyncDetailsChecker)),clearInterval(t.intervalSyncDetailsChecker)},t.showSyncProgress=function(){n.get("/api/blueprint-course/".concat(h,"/sync-details")).success((function(e){I(),$(e.sync_details),i("#synchronization-detail-popup").foundation("reveal","open")})).error((function(){}))},t.knew=function(){n.post("/api/course/".concat(h,"/record-user-reads"),{type:"course_score_percentage_update"}).success((function(){b()}))},t.showSubCourseList=function(){i("#sub-course-list-popup").foundation("reveal","open")},t.showCourseImport=function(){t.isImportingContent||t.isDeletingContent||!t.childrenSyncSuccess||(i("#moodle-course-import-popup").foundation("reveal","open"),t.isShowMoodleImportPopup=!0)},t.closeCourseImportPopup=function(){i("#moodle-course-import-popup").foundation("reveal","close"),t.isShowMoodleImportPopup=!1,t.isShowMoodleImportPopupFooter=!1},t.confirmTeachingMode=function(){n.post("/api/course/".concat(h,"/record-user-reads"),{type:"course_teaching_mode_update"})},t.publishCourse=function(){i("#course-publish-popup").hasClass("open")||i("#course-publish-popup").foundation("reveal","open")},t.confirmPublish=function(e){t.updateCoursePublishStatus(e),i("#course-publish-popup").foundation("reveal","close")},t.updateCoursePublishStatus=function(e){return p.updateCoursePublishStatus(e.id,!e.course_attributes.published,(function(){u.location.reload()}),(function(e){return f.error(e.errors.published[0])}))};var k=function(){return p.getCourseCanUnPublished(t.course.id,(function(e){t.courseCanUnpublished=e.can_unpublished}),(function(){}))};t.testChangeUrl=function(){l.path("/bulletin")},d.initCourseInfo(h).then((function(n){var o,a,s;e.course=n,t.course=n,t.course.is_master&&x(),t.displayedName=n.display_name,t.isDeletingContent=(null===(o=n.course_attributes.data)||void 0===o?void 0:o.is_deleting_content)||!1,E(),t.courseNeedPublish=null===(a=u.featureToggles)||void 0===a?void 0:a.courseNeedPublish;var c,l="True"===i("#enrollmentIsInstructor").val();t.courseNeedPublish&&l&&(k(),t.coursePublished=null===(c=n.course_attributes)||void 0===c?void 0:c.published);var d="checkpoint"===n.learning_mode?"True":"False";i("#is-course-in-checkpoint-mode").val(d),t.vueParam.courseCode=n.course_code,w(),n.instructorNames=r.map(n.instructors,"name").join(" / "),!t.isSimulatingInstructor&&t.allowCourseCatlogEdit&&null!==(s=window.globalData)&&void 0!==s&&s.isOpenUniversity&&g()}))}]},581986:(e,t,n)=>{var i=n(708468),r=n(904072);n(34553),e.exports=["$rootScope","$scope","navSettingRepository","$timeout",function(e,t,n,o){var a;t.ui={inMateriaList:!1,showMateriaList:!1,inGroupList:!1,showGroupList:!1},t.courseNeedPublish=null===(a=window.featureToggles)||void 0===a?void 0:a.courseNeedPublish,t.hasMenu=function(e){return i.any(t.courseMenus,{type:e,disabled:!1})},t.showMaterialList=function(){return r(".course-menu-material .dropdown").focus(),t.ui.showMateriaList=!0},t.hideMaterialList=function(){if(!t.ui.inMateriaList)return t.ui.showMateriaList=!1},t.showGroupList=function(){return r(".course-menu-group .dropdown").focus(),t.ui.showGroupList=!0},t.hideGroupList=function(){if(!t.ui.inGroupList)return t.ui.showGroupList=!1},t.inviteUsers=function(){return e.invitingCourseUsers=!0},t.findEnabledItemOfParent=function(e){return-1!==i.findIndex(t.courseMenus,{parent:e,disabled:!1,can_disabled:!0})};var s;return s=r("#courseId").val(),n.initNavSetting(s).then((function(n){return t.courseMenus=n.nav_setting,t.$emit("fetchCourseNavSetting",n),o((function(){return e.$emit("initCourseMenuFinished")}),300)}))}]},66129:(e,t,n)=>{var i=n(904072),r=n(693604);e.exports=["$rootScope","$scope",function(e,t){var n=i("#embed-video-popup");init=function(){t.orginalUrl="",t.embedUrl="",t.errors={}},t.checkUrl=function(){r.isSupportedOnlineVideoLink(t.orginalUrl)?t.errors={}:t.errors.orginalUrl=!0};t.save=function(){var e;t.checkUrl(),r.isSupportedOnlineVideoLink(t.orginalUrl)&&(t.embedUrl=r.parseOnlineVideoUrl(t.orginalUrl),e={url:t.embedUrl},n.trigger("urlEntered",e),t.close())},t.close=function(){n.foundation("reveal","close")},init()}]},211376:(e,t,n)=>{var i=n(904072);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(126541),n(489554),n(66992),n(569600),n(821249),n(968309),n(369070),n(241539),n(974916),n(864765),n(454747),n(333948);var s=n(180736);e.exports=["$rootScope","$scope","$http",function(e,t,n){var r=s(t);t.close=function(){i("#entries-select").foundation("reveal","close")},t.searching=!1,t.isSelectAll=!1,t.keyword="",t.save=function(){e.$broadcast("selectEntry"),t.close()};var a=function(n){var i=n.data.result,a=i.entries.map((function(e){var t,n,i=e.keywords?e.keywords.map((function(e){return e.name})).join(" ; "):"";return o(o({},e),{},{keywordsStr:i,fileCount:null!==(t=null===(n=e.uploads)||void 0===n?void 0:n.length)&&void 0!==t?t:0,selected:!1})}));t.pagination={currentList:a,currentPage:i.page,totalPage:i.pages,inputPage:i.page},e.entries=t.pagination.currentList,r.hide()};t.openEntryPopup=function(){e.$broadcast("openEntryContentPopup")};var c="id,org_id,name,created_at,updated_at,created_by_id,updated_by_id,keywords(name),uploads(id)",u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reverse:!0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;return r.show(!0),n.get("/api/entries",{params:{fields:i,page:t,conditions:e}}).then(a)};t.search=function(){u({keyword:t.keyword,reverse:!0})},t.selectAll=function(){t.isSelectAll?t.pagination.currentList.forEach((function(e){e.selected=!0})):t.pagination.currentList.forEach((function(e){e.selected=!1}))},t.changeEntrySelectStatus=function(){var e=t.pagination.currentList.every((function(e){return e.selected}));t.isSelectAll=e},t.changePage=function(e){r.show(!0),u({keyword:t.keywords,reverse:!0},e)},t.$on("reloadEntriesList",(function(){u().then((function(){t.pagination.currentList[0].selected=!0}))})),u()}]},389465:(e,t,n)=>{var i=n(293789),r=n(708468),o=n(904072);n(969826),n(821249),n(891058);var a=n(895523);e.exports=["$rootScope","$scope","$http","$timeout",function(e,t,n,s){var c;t.statChart=null,e.$on("openHypothesisStat",(function(e,n,i){return t.activity=i,t.upload=n,c()}));var u=function(){t.ui.noStatData=!0},l=function(){var e={uri:"urn:tronclass:upload:".concat(t.pdfFileKey),source:"course",sort:"created",group:"__world__",course_id:o("#courseId").val(),enrollment_role:"student",token:t.noteBeneToken},c="".concat(t.noteBeneUrl,"/api/statistic");return n.get(c,{params:e}).success((function(e){var n=i.range(1,t.numPages,!0);return t.statSeries=r.map(n,(function(t){return i.guard(r.find(e.positions,{position:"".concat(t)}),(function(e){return e.count}))||0})),function(e,n){return s((function(){return t.statChart=a.drawLineChart(e,n,t.chartMessage)}))}(n,{statSeries:t.statSeries})})).error(u)};return c=function(){return t.statChart&&a.clearChart(t.statChart),t.ui={noStatData:!1},t.numPages=null,t.pdfFileKey=null,t.statSeries=[],e="/api/uploads/reference/document/".concat(t.upload.reference_id,"/pdf-info-for-stat?preview=true"),void n.get(e).success((function(e){return t.numPages=parseInt(e.num_pages||0),t.statSeries=r.range(0,t.numPages,0),t.pdfFileKey=e.file_key,l()})).error(u);var e}}]},86434:(e,t,n)=>{var i=n(904072),r=n(708468);n(892222),n(34553),n(226699),n(968309),n(974916),n(115306),n(323123),n(229254),n(932564);var o=n(881063),a=n(693604),s=n(203494);n(9075),n(246955),n(17176);e.exports=["$rootScope","$scope","$http","toastr","$sce","$timeout","$window","statHelper","scormUtils","$interval","commonApi",function(e,t,n,c,u,l,d,f,p,h,_){var m;a.fixMultiModalOverlay("#file-previewer"),a.fixMultiModalOverlay("#file-previewer-with-note"),t.fileExtension=a.fileExtension,t.trustAsResourceUrl=u.trustAsResourceUrl,t.ui={urlLoaded:!1,fullScreen:!1,ytplayer:null,checkTimerId:null,videoStartFrom:0,loggerOffline:!1,moocPlayer:null};var v=0,b=0,g=1,y=0,E=function(){g=1,y=0,v=0,b=0},A=function(){var e="scale(".concat(g,") rotate(").concat(y,"deg)");return{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,"-o-transform":e,transform:e,margin:"".concat(b,"px 0 0 ").concat(v,"px")}};t.hasFlashPlayer=!0,t.isWebkitBrowser=/webkit/i.test(navigator.userAgent),t.isFirefoxBrowser=/firefox/i.test(navigator.userAgent);var w=t.isVisitor?"anonymous-api":"api",C=function(){return t.ui.urlLoaded=!0,l((function(){return T()}))};t.uploadCanAddNote=function(e){if(e)return["image","video"].includes(e.type)||"document"===e.type&&!e.isTextFile};var $=function(e){var i;if(i=t.canGuestPreview&&t.isVisitor&&(null!=t.activity?t.activity.id:void 0)?"/anonymous-api/".concat(t.activity.id,"/uploads/").concat(e.id,"/text?preview=true"):"/api/uploads/".concat(e.id,"/text?preview=true"),!e.textContent)return n.get(i).success((function(t){return e.textContent=t})).error(c.decorateError())},x=null;i(document).on("closed.fndtn.reveal",(function(){"function"==typeof x&&x(),D=!1}));var S=function(e,n){var i=h((function(){document.getElementById("mooc_video")&&(h.cancel(i),t.ui.moocPlayer=window.EduPlayer.create({parent:document.getElementById("mooc_video"),videoData:{videoId:e,signature:n}}),V())}),100)},I=function(){t.isOrgArrears=!1;var s=t.upload;!function(){var e=t.upload;if(e){t.uploadStatus=a.setUploadFeature(e);var n="material";t.activity&&"tencent_meeting"===t.activity.type&&(n="tencent_meeting"),x=function(){return statistics.track({activity_type:n,activity_id:null!=t.activity?t.activity.id:void 0,sub_type:e.name.split(".").pop(),sub_id:e.id,action:statistics.enums.CourseWareAction.close,mode:statistics.enums.Mode.normal,channel:statistics.enums.Channel.web})},statistics.track({activity_type:n,activity_id:null!=t.activity?t.activity.id:void 0,sub_type:e.name.split(".").pop(),sub_id:e.id,action:statistics.enums.CourseWareAction.open,mode:statistics.enums.Mode.normal,channel:statistics.enums.Channel.web})}}(),E();var u=function(){return t.swfLoaded=function(){if(t.ui.swfLoading=!1,i("#swf-object param").length<=0)return t.hasFlashPlayer=!1},t.ui.swfLoading=!0,C()},d=function(e){var i,r,o;e.reference_id?(r="/reference",i=e.reference_id):(r="",i=e.id);var s=a.wpsPreview(e);o=t.canGuestPreview&&t.isVisitor&&(null!=t.activity?t.activity.id:void 0)?"/anonymous-api/".concat(t.activity.id,"/uploads").concat(r,"/document/").concat(i,"/url?preview=true"):t.isVisitor&&t.resourceId?"/anonymous-api/shared-resources/".concat(t.resourceId,"/documents"):s?"/api/uploads/".concat(e.id,"/preview/wps?preview=true"):(!t.isVisitor&&t.resourceId,"/api/uploads".concat(r,"/document/").concat(i,"/url?preview=true"));return n.get(o).success((function(n){var i;if(C(),s){var r=n.preview_url;e.documentUrl=r}else{e.status=n.status,e.downloadUrl=n.url;var o=encodeURIComponent(n.url);if(i=t.canGuestPreview&&t.isVisitor&&(null!=t.activity?t.activity.id:void 0)?"/anonymous-api/".concat(t.activity.id,"/uploads/pdf-viewer"):t.isVisitor&&t.resourceId?"/anonymous-api/shared-resources/".concat(t.resourceId,"/pdf-viewer"):"/note-bene/pdf-viewer",e.documentUrl="".concat(i,"?file=").concat(o,"&upload_id=").concat(e.id),"txt"===a.fileExtension(e.name,!0))return e.isTextFile=!0,$(e)}})).error(c.decorateError((function(e){})))},f=function(e){var i;return i=t.isVisitor&&t.resourceId?"/anonymous-api/shared-resources/".concat(t.resourceId,"/uploads"):"/api/uploads/".concat(e.id,"?preview=true"),n.get(i).success((function(n){if(C(),e.status=n.status,"ready"===n.status&&n.scorm.data){var i=n.scorm.id;return t.scormManifest=n.scorm.data.manifest,t.isVisitor&&t.resourceId?p.bindItemResources(i,t.scormManifest.organizations.organization.item,t.scormManifest.resources.resource,t.resourceId):p.bindItemResources(i,t.scormManifest.organizations.organization.item,t.scormManifest.resources.resource),l((function(){return t.viewScorm(p.getFirstScoItem(t.scormManifest.organizations.organization.item))}))}return t.error={status_code:n.scorm.status_code,message:n.scorm.message}})).error(c.decorateError((function(){})))};if(s.third_part_referrer_id&&!s.source)return function(e){var i;return i=t.isVisitor&&t.resourceId?"/anonymous-api/shared-resources/".concat(t.resourceId,"/uploads"):"/api/uploads/".concat(e.id,"?preview=true"),"video"===e.type?(e.video_urls=void 0,n.get(i).success((function(t){return C(),e.status=t.status,e.video_urls=t.video_urls})).error(c.decorateError((function(){})))):"audio"===e.type?n.get(i).success((function(n){return C(),e.status=n.status,t.audioUrl=n.audio_url})).error(c.decorateError((function(){}))):"swf"===e.type?u():"document"===e.type?n.get(i).success((function(t){C(),e.status=t.status,e.downloadUrl=t.document_url;var n=encodeURIComponent(t.document_url);if(e.documentUrl="".concat(pdfViewer,"?file=").concat(n,"&upload_id=").concat(e.id),"txt"===a.fileExtension(e.name,!0))return e.isTextFile=!0,$(e)})):"scorm"===e.type?f(e):C()}(s);if("SHTVU"===s.source)return function(e){return t.isOrgArrears=!1,t.ui.urlLoaded=!0,"video"===e.type?(e.video_urls=[e.url+"/360p.mp4",e.url+"/480p.mp4",e.url+"/720p.mp4"],e.video_src_type="video/mp4"):"audio"===e.type?t.audioUrl=e.url+"/file.mp3":"document"===e.type?e.documentUrl=e.url+"/"+(n=e.url,(i=(i=n.split("/"))[i.length-1].split("."))[0].replace("a@","")+".PDF"):"image"===e.type?e.imageUrl=e.url+"/preview.jpg":void 0;var n,i}(s);if("MOOC"===s.source)return function(e){t.isOrgArrears=!1,t.ui.urlLoaded=!0,"document"===e.type&&d(e),"video"===e.type&&(e.signature?S(e.resource_id,e.signature):_.getMoocVideoInfo(e.resource_id,(function(t){var n=t.signature;S(e.resource_id,n)})))}(s);var h,m,v=function(a){if(t.isOrgArrears=a.is_org_transfer_arrears,!t.isOrgArrears)return"video"!==s.type?"audio"===s.type?function(e){var i;return delete t.audioUrl,i=t.canGuestPreview&&t.isVisitor&&(null!=t.activity?t.activity.id:void 0)?"/anonymous-api/".concat(t.activity.id,"/uploads/").concat(e.id,"?preview=true"):t.isVisitor&&t.resourceId?"/anonymous-api/shared-resources/".concat(t.resourceId,"/uploads"):(!t.isVisitor&&t.resourceId,"/api/uploads/".concat(e.id,"?preview=true")),n.get(i).success((function(n){if(C(),e.status=n.status,n.audio&&n.audio.id)return t.canGuestPreview&&t.isVisitor&&(null!=t.activity?t.activity.id:void 0)?t.audioUrl="/anonymous-api/".concat(t.activity.id,"/uploads/audio/").concat(n.audio.id,"?preview=true"):t.isVisitor&&t.resourceId?t.audioUrl="/anonymous-api/shared-resources/".concat(t.resourceId,"/audios"):t.audioUrl="/api/uploads/audio/".concat(n.audio.id,"?preview=true")})).error(c.decorateError((function(e){})))}(s):"swf"===s.type?u():"document"===s.type?d(s):"scorm"===s.type?f(s):"evercam"===s.type?function(e){var r,o;return r=t.isVisitor&&t.resourceId?"/anonymous-api/shared-resources/".concat(t.resourceId,"/uploads"):"/api/uploads/".concat(e.id,"?preview=true"),n.get(r).success((function(n){return C(),e.status=n.status,"ready"===n.status&&"evercam"===n.type?(o=t.isVisitor&&t.resourceId?"/anonymous-api/shared-resources/".concat(t.resourceId,"/evercams"):"/api/uploads/embed-material/".concat(e.id),l((function(){i(".file-previewer #".concat(e.type,"-viewer")).attr("src",o)}))):t.error={status_code:n.status_code||n.status,message:n.message}})).error(c.decorateError((function(){})))}(s):"lesson-resource"===s.type?function(i){var o=i.id;O({width:"100%",height:"calc(100%-50px)"},!1);var a=e.fromPage||"";return n.get("/api/resource-file/".concat(o,"/player-url?from_page=").concat(a)).success((function(n){r.include(n.url,"?")?t.lesson_resource_url="".concat(n.url,"&lang=").concat(e.langForTca):t.lesson_resource_url="".concat(n.url,"?lang=").concat(e.langForTca)})).error((function(e){return c.error(e.message)}))}(s):"link"===s.type&&"youtube"===s.link.type?function(e){return e.link.embedded_url=e.link.embedded_url+"?enablejsapi=1",C(),t.ui.checkTimerId=setInterval((function(){if(window.youtubeApiReady&&!t.ui.ytplayer&&R(),t.ui.ytplayer||(t.ui.loggerOffline=!0),window.youtubeApiReady&&t.ui.ytplayer)return clearInterval(t.ui.checkTimerId)}),1e3)}(s):function(e){var i;return i=t.canGuestPreview&&t.isVisitor&&(null!=t.activity?t.activity.id:void 0)?"/anonymous-api/".concat(t.activity.id,"/uploads/").concat(e.id,"?preview=true"):t.isVisitor&&t.resourceId?"/anonymous-api/shared-resources/".concat(t.resourceId,"/uploads"):(!t.isVisitor&&t.resourceId,"/api/uploads/".concat(e.id,"?preview=true")),n.get(i).success((function(t){C(),e.status=t.status})).error(c.decorateError((function(e){})))}(s):void function(e){var i;e.video_urls=void 0,i=t.canGuestPreview&&t.isVisitor&&(null!=t.activity?t.activity.id:void 0)?"/anonymous-api/".concat(t.activity.id,"/uploads/").concat(e.id,"?preview=true"):t.isVisitor&&t.resourceId?"/anonymous-api/shared-resources/".concat(t.resourceId,"/uploads"):(!t.isVisitor&&t.resourceId,"/api/uploads/".concat(e.id,"?preview=true")),n.get(i).success((function(n){return C(),e.status=n.status,e.videos=n.videos,e.video_src_type=n.video_src_type,e.orgCode=n.orgCode,t.resourceId&&t.isVisitor?e.video_urls=o.getUrls(e,w,t.resourceId):e.video_urls=o.getUrls(e,w)})).error(c.decorateError((function(e){})))}(s);t.ui.urlLoaded=!0};return"video-quiz"===t.previewType(s.type)?(t.videoQuizId=s.id,h=t.videoQuizId,m=v,n.get("/api/video-quizzes/org/arrears/".concat(h,"?no-intercept=true")).success(m).error(c.decorateError())):"lesson-resource"===t.previewType(s.type)?function(e,t){return n.get("/api/resource-file/org/arrears/".concat(e,"?no-intercept=true")).success(t).error(c.decorateError())}(s.id,v):s.id?function(e,t){return n.get("/".concat(w,"/uploads/org/arrears/").concat(e,"?no-intercept=true")).success(t).error(c.decorateError())}(s.id,v):(t.isOrgArrears=!1,t.ui.urlLoaded=!0,s.videos=[s],s.video_urls=[s.video_url+"?preview=true"])};t.enterHTML5FullScreen=function(e){return e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():void 0};var k=function(){return t.isFirefoxBrowser||t.isWebkitBrowser},N=function(){var e=i(".img-container"),t=i(".img-container > img");if(e.length&&t.length){var n=e[0].getBoundingClientRect(),r=t[0].getBoundingClientRect();v=Math.max(Math.ceil(r.width-n.width),0),b=Math.max(Math.ceil(r.height-n.height)/2,0),t.css(A()),k()&&t.hide().show(0)}};t.zoomOut=function(e){e=e||i(".img-container > img"),g=Math.max(g-.2,.2),e.css(A()),k()&&e.hide().show(0),N()},t.reset=function(){return t.uploads&&t.uploads.length>0&&i(document).off("keydown"),delete t.upload},t.zoomIn=function(e){e=e||i(".img-container > img"),g=Math.min(g+.2,5),e.css(A()),k()&&e.hide().show(0),N()},t.rotateImg=function(e){e=e||i(".img-container > img"),y=Math.floor((y-90)%360),e.css(A()),k()&&e.hide().show(0),N()},t.restoreImg=function(e){e=e||i(".img-container > img"),E(),e.css(A()),k()&&e.hide().show(0)},t.enterFullScreen=function(e){return t.ui.fullScreen=!0,e=e||".file-previewer .reader-wrapper",t.enterHTML5FullScreen(i(e).get(0))},t.exitFullScreen=function(){return document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),t.ui.fullScreen=!1},t.viewScorm=function(e){i(".file-previewer #scorm-viewer").attr("src",e.scormUrl)};var T=function(){var e=function(){if(!(document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullScreenElement))return t.ui.fullScreen=!1,t.$apply()};if(document.addEventListener)return document.addEventListener("webkitfullscreenchange",e,!1),document.addEventListener("mozfullscreenchange",e,!1),document.addEventListener("fullscreenchange",e,!1),document.addEventListener("MSFullscreenChange",e,!1)};e.$on("previewFile",(function(e,n,r){(t.fileAddNote||1!==i("#file-previewer-with-note").length)&&(t.upload=n,t.activity=r,t.lesson_resource_url=null,delete t.uploads,I())})),e.$on("previewResourceReference",(function(e,n){if(t.fileAddNote||1!==i("#file-previewer-with-note").length)return t.upload=n.upload,t.lesson_resource_url=null,t.resource=n,delete t.uploads,I()})),e.$on("previewFiles",(function(n,o,a,s){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!c==!t.fileAddNote){e.activity=s,t.activity=s,t.uploads=o,t.canGuestPreview=u,t.forceShowDownloadButton=l;var d=0;null!=a.id?d=r.findIndex(t.uploads,(function(e){return e.id===a.id})):null!=a.url?d=r.findIndex(t.uploads,(function(e){return e.url===a.url})):null!=a.resource_id&&(d=r.findIndex(t.uploads,(function(e){return e.resource_id===a.resource_id}))),t.changeFile(d);var f=37,p=39;return i(document).keydown((function(e){switch(e.which){case f:return t.changeFile(t.currentFileIndex-1);case p:return t.changeFile(t.currentFileIndex+1)}}))}})),t.currentFileIndex=0;var D=!1;t.changeFile=function(n){n<0?n=t.uploads.length-1:n>t.uploads.length-1&&(n=0),t.uploads[n].deleted||(t.currentFileIndex=n,t.upload=t.uploads[n],I(),t.$broadcast("previewFile",t.upload,t.activity)),D&&e.$emit("changeFile",t.upload,t.activity),D=!0},t.$watch("ui.fullScreen",(function(e){var t=i("body > .wrapper > .footer");return e?t.hide():t.show()})),t.previewType=function(e){return["lesson-resource","video-quiz"].includes(e)?e:"file"},d.onmessage=function(e){return M(e)};var M=function(e){if("adjustPlayerSize"===e.data.name)return O(e.data.args,!0),t.$apply()},O=function(e,n){t.iframeStyle=t.iframeStyle||{};var r=n?P(t.iframeStyle.width,e.width):e.width,o=n?P(t.iframeStyle.height,e.height):e.height;return i("#file-previewer .popup-content").css({"min-height":0}),i(".pdf-reader-detail .content").css({height:o,"min-height":0}),t.iframeStyle={width:r,height:o,border:"none","min-width":900}},P=function(e,t){var n;return 0<(n=Math.abs(e-t))&&n<=4?e:t},R=function(){return t.ui.ytplayer=new YT.Player("ytplayer",{events:{onReady:t.playerReady,onStateChange:t.playerStateChanged}}),V(),s(m)},V=function(){return t.ui.loggerOffline=!d.navigator.onLine,d.addEventListener("online",(function(){return l((function(){return t.ui.loggerOffline=!1}),500)})),d.addEventListener("offline",(function(){return l((function(){return t.ui.loggerOffline=!0}),500)}))};return t.playerReady=function(){},t.retry=function(e){a.retryTranscode(n,c,d,e)},t.playerStateChanged=function(e){var n=t.ui.ytplayer.getDuration();if(e.data===YT.PlayerState.PLAYING){return t.ui.videoStartFrom=t.ui.ytplayer.getCurrentTime(),window.st.hasVideoPlaying=!0,t.ui.timerId=setInterval((function(){var e=t.ui.ytplayer.getCurrentTime();return a.trackYoutube(t,t.activity,t.ui.videoStartFrom,e,n),t.ui.videoStartFrom=e}),6e4)}if(e.data===YT.PlayerState.PAUSED||e.data===YT.PlayerState.ENDED)return a.trackYoutube(t,t.activity,t.ui.videoStartFrom,t.ui.ytplayer.getCurrentTime(),n,!1,t.resource),window.st.hasVideoPlaying=!1,clearInterval(t.ui.timerId)},t.downloadBlob=function(e,t){if(!t.deleted)return e?f.track(e.type,"download",{activity_id:e.id,upload_id:t.id,file_name:t.name,upload_reference_id:t.reference_id}):void 0},m=function(){if(clearInterval(t.ui.timerId),window.st.hasVideoPlaying&&t.ui.ytplayer)return a.trackYoutube(t,t.activity,t.ui.videoStartFrom,t.ui.ytplayer.getCurrentTime(),t.ui.ytplayer.getDuration(),!1,t.resource)}}]},3196:(e,t,n)=>{var i=n(904072);n(693604);e.exports=["$rootScope","$scope","$timeout",function(e,t,n){t.isShowingNoteBox=!1,e.hasEdited=!1,t.enterFullScreen=function(e){return t.hideNoteBoxWithoutAnimate(),t.ui.fullScreen=!0,"#file-previewer-with-note .reader-wrapper",t.enterHTML5FullScreen(i("#file-previewer-with-note .reader-wrapper").get(0))},t.showNoteBox=function(){if(t.canAddNote()&&!t.isShowingNoteBox){t.isShowingNoteBox=!0;var e=i("#file-previewer-with-note .file-previewer");e.animate({width:e.width()-290},500),i(".file-preview-note-box").css("z-index",1)}},t.hideNoteBox=function(){if(t.isShowingNoteBox){var e=i("#file-previewer-with-note .file-previewer");e.animate({width:e.width()+290},500),i(".file-preview-note-box").css("z-index",-1),n((function(){return t.isShowingNoteBox=!1,500}))}},t.hideNoteBoxWithoutAnimate=function(){if(t.isShowingNoteBox)return i("#file-previewer-with-note .file-previewer").width("100%"),t.isShowingNoteBox=!1},i(document).on("close.fndtn.reveal","#file-previewer-with-note",(function(){return t.hideNoteBox(),e.$broadcast("noteEdited",e.hasEdited),e.hasEdited=!1})),t.playerInitiated=function(e){return t.player=e};return t.canAddNote=function(){if("image"===t.upload.type)return!0;if("document"===t.upload.type&&"ready"===t.upload.status){var e=i("#file-previewer-with-note #pdf-viewer");return Boolean(e&&e[0]&&e[0].contentWindow&&e[0].contentWindow.PDFViewerApplication&&e[0].contentWindow.PDFViewerApplication.pdfViewer&&e[0].contentWindow.PDFViewerApplication.pdfViewer.onePageRendered)}return Boolean("video"===t.upload.type&&"ready"===t.upload.status&&t.player&&0!==("function"==typeof(n=t.player).readyState?n.readyState():n.readyState));var n}}]},273085:(e,t,n)=>{var i=n(708468),r=n(904072),o=n(963764);n(892222),n(57327),n(969826),n(226699),n(968309),n(974916),n(132023),n(864765);var a=n(887757);function s(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){s(o,i,r,a,c,"next",e)}function c(e){s(o,i,r,a,c,"throw",e)}a(void 0)}))}}function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(535666);var d=n(693604),f=n(180736);e.exports=["$rootScope","$scope","$timeout","fileSelectModel","uploadService","toastr","blobstorage","$window",function(e,t,n,s,l,p,h,_){var m=f(t),v=[],b={OnlineVideo:"video,audio",Material:"video,audio,image,document,swf,file",Interaction:"video",Homework:"video,audio,image,document,swf,file",online_video:"video,audio",interaction:"video",material:"video,audio,image,document,swf,file",homework:"video,audio,image,document,swf,file"},g=function(){var e,t=u(v);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(1!==s.pagination.currentPage)break;n.progress<99&&("all"===s.fileType||s.identifyFileType(n)===s.fileType)&&s.pagination.currentList.push(n)}}catch(e){t.e(e)}finally{t.f()}return m.hide()},y=function(){return s.filterFileTypes=b[e.activityType],s.courseCode=e.courseCode};t.changeFileType=function(e){return m.show(!0),y(),s.changeFileType(e,g)},t.changePage=function(e){return m.show(!0),y(),s.changePage(e,g)},t.search=function(){return m.show(!0),y(),s.search(g)},t.deleteUploadingUpload=function(e){return s.removeUpload(e),i.remove(v,(function(t){return t.id===e.id})),i.remove(s.selectedUploads,(function(t){return t.id===e.id})),l.deleteUploadingUpload(e)};var E=function(){if(s.limitTypes.length>0){var e,t=[],n=u(s.limitTypes);try{for(n.s();!(e=n.n()).done;){var i=e.value;t=t.concat(s.supportFormat[i])}}catch(e){n.e(e)}finally{n.f()}return t}return d.getSupportedFormats()};t.openClient=function(){h.getOpenClientURL().then((function(e){if(e)return _.open(e)}))},t.onFileSelect=function(){var n=c(a.mark((function n(r,o){var c,u,d,f,h,_,m,b,g,y;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==r.length){n.next=2;break}return n.abrupt("return");case 2:if(t.error=!1,c=E(),u=[],t.isFileExtensionCheckEnable?(u=l.filterByFileFormat(r,c)).length!==r.length&&(p.error(t.uploadFileFormatLimitErrorMessage),t.error=!0):u=l.filterByFileFormat(r),(d=l.filterByFileSize(u,o)).length!==u.length&&(t.error||((f=l.filterByFileSizeZero(u)).length>0&&1==u.length?p.error(t.uploadZeroSizeFileErrorMessage):f.length>0&&u.length>1?p.error("".concat(t.uploadSizeLimitErrorMessage,", ").concat(t.uploadZeroSizeFileErrorMessage)):p.error(t.uploadSizeLimitErrorMessage)),t.error=!0),0!==d.length){n.next=10;break}return n.abrupt("return");case 10:return h=function(t){return t.selectable=!0,s.singleSelect?s.singleSelectedUpload=t:(t.selected=!0,i.find(s.selectedUploads,(function(e){return e.id===t.id&&e.isThirdPartResource===t.isThirdPartResource}))||s.selectedUploads.push(t)),window.st.track("personal_resource","upload",{},{upload_id:t.id,file_name:t.name,upload_type:e.fileTypeByExtension(t)}),e.$broadcast("fileUploadSuccess",t),e.$broadcast("refreshStorageBar")},_=function(e){if(e.message)return p.error(e.message)},m="scorm"===s.fileType,b="wmpkg"===s.fileType,g=["evercam"].includes(s.fileType)?s.fileType:"",l.updateConfig(null,m,b,g),l.bindCallback(h,_),s.tab="repository",n.next=20,A();case 20:return y=l.uploadFiles(d),s.addUploads(y),v=v.concat(y),n.abrupt("return",s.mode="list");case 24:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();var A=function(){var t=c(a.mark((function t(){return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e.course){t.next=2;break}return t.abrupt("return");case 2:return s.path=[],t.next=5,l.getUserCourseResourceFolder(e.course.id);case 5:courseFolder=t.sent,s.changePath(courseFolder,g),l.config.parentId=courseFolder.id;case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(e){return s.limitTypes="all"===e.fileType?[]:[e.fileType],s.singleSelect=e.singleSelect,s.filters=e.filters,s.searching=!1,e.includeSlides&&(s.context.includeSlides=e.includeSlides),s.keyword=""};t.save=function(){s.copySelectedThirdPartResources((function(n){var a,s,c;return a=n,s=i.each(o.copy(a),(function(e){delete e.audit_status})),c=e.fileSelectScopeId?"filesSelected"+e.fileSelectScopeId:"filesSelected",e.$broadcast(c,s),function(e){var n={files:i.collect(e,(function(e){return{id:e.id,created_at:e.created_at,name:e.name,key:e.key,sizeStr:t.humanizeBytes(e.size)}}))};return r("#file-select, #scorm-file-select").trigger("filesSelected",n)}(n)})),s.clearSelected(),t.closePopup()},e.$on("reset-file-select",(function(){return s.clearSelected()})),t.changeTab=function(e){if(s.tab=e,"local"!==e)return t.changeFileType(s.fileType)},t.isOnlyLimitedFileType=function(e){return i.isEqual(s.limitTypes,[e])},t.isAllowedFileType=function(e){return"academic_learning_platform"!==s.tab&&(("third_part_resource"!==s.tab||!["slide","video-quiz","subject-lib","open-office","lesson-resource"].includes(e))&&("slide"===e?s.context.includeSlides:"subject-lib"===e?s.context.includeSubjectLibs:"video-quiz"===e?s.context.includeVideoQuizzes:"lesson-resource"===e?s.context.includeLessonResources:!("all"!==e||!s.context.lesson_resource_only)||(0===s.limitTypes.length||("all"===e?s.limitTypes.length>1:s.limitTypes.includes(e)))))},t.selectedCount=function(){var e=i.countBy(s.selectedUploads,{type:"folder"});return[e[!0]||0,e[!1]||0]};var C=function(){return t.error&&delete t.error,s.clearSelected()};r(document).on("close.fndtn.reveal","#file-select",(function(){C(),s.context={}})),t.checkAllSelected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.pagination.currentList;return 0!==e.length&&(s.isSelectAll=i.all(i.reject(e,{type:"folder"}),{selected:!0}),s.isSelectAll)},t.switchAll=function(){var e=i.filter(s.pagination.currentList,(function(e){return!e.failed}));return function(){var n,i=[],r=u(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;"folder"!==o.type&&o.selected!=s.isSelectAll&&(o.selected=s.isSelectAll,i.push(t.toggleUploadClick(o)))}}catch(e){r.e(e)}finally{r.f()}return i}()},t.enterFolder=function(e){if(e.is_folder)return m.show(!0),s.changePath(e,g),C()},t.toggleUploadClick=function(e){return s.singleSelect?s.singleSelectedUpload=e:e.selected?s.selectedUploads.includes(e)?void 0:s.selectedUploads.push(e):"SHTVU"===e.source?i.remove(s.selectedUploads,{url:e.url}):i.remove(s.selectedUploads,{id:e.id,isThirdPartResource:e.isThirdPartResource})},t.gotoPrev=function(){return s.path.length>=2?(m.show(!0),s.path.pop(),s.changePath(s.path.pop(),g)):s.context.lesson_resource_only?t.changeFileType("lesson-resource"):t.changeFileType("all")};var $=function(){return r("#file-select, #scorm-file-select").on("limitFileType",(function(e,i){return w({fileType:i,singleSelect:"scorm"===i,filters:[]}),n((function(){return t.$apply()}))})),r("#file-select, #scorm-file-select").on("preCheckFiles",(function(e,n){return t.preCheckFiles=n}))};t.$watch("twOrg",(function(){return t.hasReadIPR=!t.twOrg})),t.readIPR=function(){return t.hasReadIPR=!0},t.closePopup=function(){d.closePopup("file-select")};var x=function(){return r(document).on("closed.fndtn.reveal","#file-select, #scorm-file-select",(function(e){if("upload_hint_popup"!==e.target.id)return w({fileType:"all",singleSelect:!1,filters:[],includeSlides:!1}),s.resetPagination()}))};t.model=s,b.hasOwnProperty(e.activityType)&&(t.model.showAcademicLearningPlatformTab=!0),t.preCheckFiles=null,t.humanizeBytes=l.humanizeBytes,t.isUploading=function(){return l.isUploading()},t.hasReadIPR=!0,s.isSelectAll=!1,$(),x(),t.$watch("model.pagination.currentList",(function(e){if(t.preCheckFiles&&e.length>0)return i.each(e,(function(e){return e.selected=t.preCheckFiles.includes(e.id),!0})),t.preCheckFiles=null})),t.ui&&"other"===t.ui.videoType?(s.tab="other_video_resources",s.singleSelect=!0):t.ui&&"mooc"===t.ui.sourceType?s.tab="mooc":e.$broadcast("refreshStorageBar"),t.changeFileType(s.getDefaultFileType())}]},97592:(e,t,n)=>{var i=n(708468),r=n(963764),o=n(904072);n(892222),n(968309);var a=n(693604);e.exports=["$rootScope","$scope","uploadService","toastr","blobstorage","$window",function(e,t,n,s,c,u){e.uploaded=[],e.notUploading=function(){return i.all(e.uploads,(function(e){return e.finished||e.failed}))},t.humanizeBytes=n.humanizeBytes,t.deleteUploadingUpload=function(e){return n.deleteUploadingUpload(e)},t.delete=function(t){return i.remove(e.uploaded,t),i.remove(e.uploads,t)},t.deleteFailedUpload=function(e){return n.deleteUpload(e,(function(){return t.userFreeSpace+=e.size}))};var l=function(){return r.isFunction(t.getParentId)?t.getParentId():0};return t.openClient=function(){var e=l();c.getOpenClientURL(e).then((function(e){if(e)return u.open(e)}))},t.onFileSelect=function(i,r,o,c){if(e.isIE9CannotUploadFile())s.warning(e.isIE9CannotUploadFileMsg);else{t.error=!1;var u=[];t.isFileExtensionCheckEnable?(u=n.filterByFileFormat(i,a.getSupportedFormats())).length!==i.length&&(s.error(t.uploadFileFormatLimitErrorMessage),t.error=!0):u=n.filterByFileFormat(i);var d=n.filterByFileSize(u,r);if(d.length!==u.length){if(!t.error){var f=n.filterByFileSizeZero(u);f.length>0&&1==u.length?s.error(t.uploadZeroSizeFileErrorMessage):f.length>0&&u.length>1?s.error("".concat(t.uploadSizeLimitErrorMessage,", ").concat(t.uploadZeroSizeFileErrorMessage)):s.error(t.uploadSizeLimitErrorMessage)}t.error=!0}if(0!==d.length){var p=!(!e.ui||!e.ui.isScorm)&&e.ui.isScorm,h=!(!e.ui||!e.ui.isWmpkg)&&e.ui.isWmpkg,_=e.ui&&e.ui.embedMaterialType?e.ui.embedMaterialType:"",m=l();return n.updateConfig(o,p,h,_,m),n.bindCallback((function(t){return e.uploaded.push(t),e.$broadcast("fileUploaded",t,c),window.st.track("personal_resource","upload",{},{upload_id:t.id,file_name:t.name,upload_type:e.fileTypeByExtension(t)}),e.$broadcast("refreshStorageBar")}),(function(e){if(e.message)return s.error(e.message)})),n.uploadFiles(d)}}},o("div.dropzone").click((function(){return o('input[name="fileSelector"]').click()}))}]},970811:(e,t,n)=>{var i=n(904072);n(682772),e.exports=["$rootScope","$scope","uploadService","$window","toastr",function(e,t,n,r,o){i("#formula-editor-frame").attr("src","/static/kityformula/kity_formula_editor.html");t.closePopup=function(){return i("#formula-editor-popup").foundation("reveal","close")},t.save=function(){var e=i("#formula-editor-frame")[0].contentWindow.kfe;return e.execCommand("get.image.data",(function(n){var r=e.execCommand("get.source");r.indexOf("placeholder ")>0?o.error(t.i18nMessages.latexEmptyTip):(!function(e){i("#formula-editor-popup").trigger("formulaEntered",e)}({img:n.img,latex:r}),t.closePopup())}))}}]},223957:(e,t,n)=>{var i=n(904072),r=n(708468);n(974916),n(804723),n(932564),n(841812),e.exports=["$rootScope","$scope","$http","toastr",function(e,t,n,o){t.ui={isIE9:window.isIE9,showEmailWarning:!0,showMobileDeviceWarning:!1,showNoMailWarning:!0,isIOS:/\b(iPad|iPhone|iPod)(?=;)/.test(navigator.userAgent),warningWidth:Math.min(window.innerWidth,window.outerWidth)};var a=null,s=function(){var e=i("html").attr("version");return a=setInterval((function(){return n.get("/d/version").success((function(n){if(n!==e)return function(){a&&clearInterval(a);var e={preventDuplicates:!0,closeButton:!1,timeOut:-1,extendedTimeOut:-1,onHidden:function(){return window.location.reload()}};return o.warning(t.warningVersionExpire,e)}()}))}),6e5)};t.sendVerificationEmail=function(e){var t=e?"/api/user/send_org_sing_up_verification_email":"/api/user/send_verification_email";return n.post(t,{}).success((function(e){return o.success(e.message,{preventDuplicates:!1}),i("#welcome-verification-email-popup").foundation("reveal","close")})).error((function(e){return o.error(e.message,{preventDuplicates:!1})}))},t.syncSemesters=function(){return api.mySemesters(t.conditions.academic_year_id,(function(e){return t.semesters=e.semesters,t.conditions.semester_id=[],multiSelect.multiSelect("#semester-select")}),(function(){return t.semesters=[]}))},t.dismissEmailWarning=function(){return i.cookie("warning:verification_email","hide",{path:"/"}),t.ui.showEmailWarning=!1},t.dismissMobileBrowserWarning=function(){return t.ui.showMobileDeviceWarning=!1},t.dismissNoMailWarning=function(){return i.cookie("warning:no_email_warning","hide",{path:"/"}),t.ui.showNoMailWarning=!1},t.showVerificationPopup=function(){return i("#welcome-verification-email-popup").foundation("reveal","open"),!0};var c=function(){var e;return s(),e=navigator.userAgent.toLowerCase().match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),t.ui.showMobileDeviceWarning=!r.isEmpty(e),t.ui.showMobileDeviceWarning&&i(window).resize((function(){t.ui.warningWidth=Math.min(window.innerWidth,window.outerWidth),t.$apply()})),t.ui.showEmailWarning=!(t.ui.isIE9&&t.ui.showMobileDeviceWarning)&&"hide"!==i.cookie()["warning:verification_email"],t.ui.showNoMailWarning=!(t.ui.isIE9&&t.ui.showNoMailWarning)&&"hide"!==i.cookie()["warning:no_email_warning"]};return t.reset=c,c()}]},653131:(e,t,n)=>{var i=n(963764);n(968309),e.exports=i.module("baseCtrl",["base"]).factory("bulletinApi",n(841789)).factory("rollcallRepository",n(301253)).factory("onlineVideoCompletenessRepository",n(6201)).factory("performanceRepository",n(330459)).factory("performanceApi",n(776405)).factory("scoreRepository",n(201305)).factory("groupApi",n(683257)).factory("courseManagementApi",n(442247)).controller("HeaderCtrl",n(786995)).controller("FooterCtrl",n(789785)).controller("PreTaskController",n(966641)).controller("UnreadOrgBulletinPopupController",n(383844)).controller("HeaderWarningController",n(223957)).controller("CourseHeaderCtrl",n(406177)).controller("PortfolioCtrl",n(269396)).controller("CourseMenuCtrl",n(581986)).controller("ManagementMenuCtrl",n(223031)).controller("FilePreviewerController",n(86434)).controller("WpsPreviewerController",n(643704)).controller("PdfEditorController",n(558033)).controller("FileHypStatController",n(389465)).controller("AudioPlayCtrl",n(608632)).controller("CodeEditorController",n(646321)).controller("EmbedVideoController",n(66129)).controller("FileSelectController",n(273085)).controller("EntriesSelectController",n(211376)).controller("FileUploadController",n(97592)).controller("InviteConfirmController",n(364955)).controller("AssociationCodeController",n(16578)).controller("ManualListController",n(272762)).controller("StudentStudyCompletenessController",n(112253)).controller("FormulaEditorController",n(970811)).controller("SlidePreviewController",n(371810)).controller("FilePreviewNoteController",n(3196)).controller("StorageCtrl",n(933533)).controller("EditScorePercentageCtrl",n(548373)).controller("NoteController",n(79980)).controller("CalendarEventController",n(393862)).controller("CalendarTimetableController",n(350686)).controller("CalendarMeetingController",n(817382)).controller("VideoQuizPreviewController",n(647802)).controller("NotificationContentCtrl",n(166555)).controller("CourseInviteUsersCtrl",n(299365)).controller("UserJoinCourseCtrl",n(186021)).controller("SwitchAudioPopupController",n(664584)).controller("CalendarController",n(581943)).name},364955:(e,t,n)=>{var i=n(708468);e.exports=["$scope","$http","$rootScope","$document","toastr","$window",function(e,t,n,r,o,a){c=s=void 0;var s,c,u=function(){e.error=null,e.teachingUnitType=n.invitePayload.teaching_unit_type,c=n.invitePayload.teaching_unit_id,s=n.invitePayload.invite_id,e.loading=!0;return t.get("/api/invites/".concat(s,"/status")).success((function(t){return e.joined="joined"===t.status,e.loading=!1})).error((function(t,n){return e.error={},404===n?e.error.inviteCancelled=!0:e.error.courseDeleted=!0,e.loading=!1}))};return r.on("open.fndtn.reveal","#invite-confirm",(function(e){return u()})),e.confirm=function(){var n="/course/".concat(c,"/content");return e.joined?location.href=n:t.post("/api/invites/".concat(s,"/invite-confirm")).success((function(){return location.href=n})).error(i.noop)},e.toUserIndex=function(){return a.location.href="/user/index"},u()}]},223031:(e,t,n)=>{var i=n(904072);e.exports=["$scope",function(e){e.ui={inLessonMenu:!1,showLessonMenu:!1,inStatMenu:!1,showStatMenu:!1,inCourseMenu:!1,inUserMenu:!1,showCourseMenu:!1,showUserMenu:!1,inResourceMenu:!1,showResourceMenu:!1,inBulletinMenu:!1,showBulletinMenu:!1,inStorageMenu:!1,showStorageMenu:!1,inWarningMenu:!1,showWarningMenu:!1,inStatisticsReportMenu:!1,showStatisticsReportMenu:!1,inCourseStatisticsReportMenu:!1,showCourseStatisticsReportMenu:!1,showSubjectMenu:!1,inSubjectMenu:!1,showScoreMenu:!1,inScoreMenu:!1,showLiveCapturePluginMenu:!1,inLiveCapturePluginMenu:!1,showAuthzMenu:!1,inAuthzMenu:!1,showLiveClassMenu:!1,inLiveClassMenu:!1},e.toggleLiveCaptureMenu=function(){return e.ui.showLiveCapturePluginMenu?e.hideLiveCaptureMenu():e.ui.showLiveCapturePluginMenu=!0},e.hideLiveCaptureMenu=function(){if(!e.ui.inLiveCapturePluginMenu)return e.ui.showLiveCapturePluginMenu=!1},e.showLessonMenu=function(){return e.ui.showLessonMenu?e.hideLessonMenu():(i(".management-menu-lesson .dropdown").focus(),e.ui.showLessonMenu=!0)},e.hideLessonMenu=function(){if(!e.ui.inLessonMenu)return e.ui.showLessonMenu=!1},e.showStatMenu=function(){return e.ui.showStatMenu?e.hideStatMenu():(i(".management-menu-stat .dropdown").focus(),e.ui.showStatMenu=!0)},e.hideStatMenu=function(){if(!e.ui.inStatMenu)return e.ui.showStatMenu=!1},e.showStorageMenu=function(){return e.ui.showStorageMenu?e.hideStorageMenu():(i(".management-menu-storage .dropdown").focus(),e.ui.showStorageMenu=!0)},e.hideStorageMenu=function(){if(!e.ui.inStorageMenu)return e.ui.showStorageMenu=!1},e.toggleCourseMenu=function(){return e.ui.showCourseMenu?e.hideCourseMenu():e.ui.showCourseMenu=!0},e.hideCourseMenu=function(){if(!e.ui.inCourseMenu)return e.ui.showCourseMenu=!1},e.toggleUserMenu=function(){return e.ui.showUserMenu?e.hideUserMenu():e.ui.showUserMenu=!0},e.hideUserMenu=function(){if(!e.ui.inUserMenu)return e.ui.showUserMenu=!1},e.toggleResourceMenu=function(){return e.ui.showResourceMenu?e.hideResourceMenu():e.ui.showResourceMenu=!0},e.hideResourceMenu=function(){if(!e.ui.inResourceMenu)return e.ui.showResourceMenu=!1},e.toggleBulletinMenu=function(){return e.ui.showBulletinMenu?e.hideBulletinMenu():e.ui.showBulletinMenu=!0},e.hideBulletinMenu=function(){if(!e.ui.inBulletinMenu)return e.ui.showBulletinMenu=!1},e.toggleWarningMenu=function(){return e.ui.showWarningMenu?e.hideWarningMenu():e.ui.showWarningMenu=!0},e.hideWarningMenu=function(){if(!e.ui.inWarningMenu)return e.ui.showWarningMenu=!1},e.toggleStatisticsReportMenu=function(){return e.ui.showStatisticsReportMenu?e.hideStatisticsReportnu():e.ui.showStatisticsReportMenu=!0},e.hideStatisticsReportnu=function(){if(!e.ui.inStatisticsReportMenu)return e.ui.showStatisticsReportMenu=!1},e.toggleCourseStatisticsReportMenu=function(){return e.ui.showCourseStatisticsReportMenu?e.hideCourseStatisticsReportnu():e.ui.showCourseStatisticsReportMenu=!0},e.hideCourseStatisticsReportnu=function(){if(!e.ui.inCourseStatisticsReportMenu)return e.ui.showCourseStatisticsReportMenu=!1},e.toggleSubjectMenu=function(){return e.ui.showSubjectMenu?e.hideSubjectMenu():e.ui.showSubjectMenu=!0},e.hideSubjectMenu=function(){if(!e.ui.inSubjectMenu)return e.ui.showSubjectMenu=!1},e.toggleScoreMenu=function(){return e.ui.showScoreMenu?e.hideScoreMenu():e.ui.showScoreMenu=!0},e.hideScoreMenu=function(){if(!e.ui.inScoreMenu)return e.ui.showScoreMenu=!1},e.toggleAuthzMenu=function(){return e.ui.showAuthzMenu?e.hideAuthzMenu():e.ui.showAuthzMenu=!0},e.hideAuthzMenu=function(){if(!e.ui.inAuthzMenu)return e.ui.showAuthzMenu=!1},e.goAuthzPageByUrl=function(e){window.location.href=e},e.hideLiveClassMenu=function(){if(!e.ui.inLiveClassMenu)return e.ui.showLiveClassMenu=!1},e.showLiveClassMenu=function(){return e.ui.showLiveClassMenu?e.hideLiveClassMenu():(i(".management-live-class .dropdown").focus(),e.ui.showLiveClassMenu=!0)}}]},272762:(e,t,n)=>{var i=n(904072);n(682772),e.exports=["$scope","$rootScope","$sce",function(e,t,n){e.trustAsResourceUrl=function(e){return n.trustAsResourceUrl("/note-bene/pdf-viewer?file=".concat(e))},e.selectManual=function(n){return t.manualType=n,t.manualUrl=e.manualUrlDict[n],t.upload={type:"document"},e.$emit("clickManualListItem")},e.isHtmlManual=function(t){return!!e.manualUrlDict[t].toLowerCase().indexOf(".html")};return e.enterFullScreen=function(e){return t.ui.fullScreen=!0,(n=i(e=e||"#manual-viewer-popup .reader-wrapper").get(0)).requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():void 0;var n},e.exitFullScreen=function(){return document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),t.ui.fullScreen=!1}}]},558033:(e,t,n)=>{var i=n(904072);n(892222),n(66992),n(968309),n(241539),n(788674),n(978783),n(333948),n(560285);var r=n(887757);function o(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}n(535666),e.exports=["$rootScope","$scope","$http","$sce","$translate","toastr",function(e,t,n,a,s,c){t.userName=null,t.fileUrl=null,t.fileName="",t.documentUrl="",t.saveFunction=function(e){},t.isConfirmPopupOpen=!1,t.loading=!1,t.isPdfChanged=!1,t.iframeOnload=function(){t.loading=!1};var u=function(e){return(e=e||window.event)&&(e.returnValue=!0),!0};window.addEventListener("refreshPDFURL",function(){var e,n=(e=r.mark((function e(n){var i,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n.detail.data).then((function(e){return e.blob()}));case 2:i=e.sent,o=URL.createObjectURL(i),t.fileUrl=o,t.loading=!0,t.documentUrl="/pdf/editor?file=".concat(encodeURIComponent(o),"&fileName=").concat(n.detail.fileName,"&fileType=").concat(n.detail.fileType),t.fileName=n.detail.fileName,t.$apply(),window.addEventListener("beforeunload",u);case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function s(e){o(a,i,r,s,c,"next",e)}function c(e){o(a,i,r,s,c,"throw",e)}s(void 0)}))});return function(e){return n.apply(this,arguments)}}()),e.$on("pdfEditor",(function(e,n,i){t.fileUrl=n.url,t.userName=n.name,t.documentUrl="/pdf/editor?file=".concat(encodeURIComponent(n.url),"&fileName=").concat(n.fileName,"&fileType=").concat(n.fileType),t.fileName=n.fileName,t.saveFunction=i,window.addEventListener("beforeunload",u)})),e.$on("pdfEditor:loading",(function(e,n){t.loading=n})),t.savePdf=function(e){if(t.loading=!0,null!=e&&e>100)return t.loading=!1,c.error(t.$t("homework.scoreError"));var n=new CustomEvent("savePdf",{detail:{saveFunction:t.saveFunction}});document.getElementById("pdfEditorIframe").contentDocument.dispatchEvent(n)},t.switchPdfChanged=function(e){t.isPdfChanged=e},t.openConfirmPopup=function(){var e=new CustomEvent("closePdf",{detail:{switchPdfChanged:t.switchPdfChanged}});document.getElementById("pdfEditorIframe").contentDocument.dispatchEvent(e),t.isConfirmPopupOpen=!0},t.$on("setActivityData",(function(e,n){t.activityData=n})),t.changeFile=function(n){t.exitPdfEditor(),e.$broadcast("changePdfEditor",n)},t.exitPdfEditor=function(){t.isConfirmPopupOpen=!1,window.removeEventListener("beforeunload",u),i("#pdf-editor").foundation("reveal","close")},t.cancelExitPdfEditor=function(){t.isConfirmPopupOpen=!1}}]},269396:e=>{e.exports=["$rootScope","$scope",function(e,t){}]},966641:(e,t,n)=>{var i=n(708468),r=n(904072),o=n(730381);e.exports=["$scope","$http",function(e,t){var n=i.parseInt(r("#userId").data("id")),a="".concat(n,":last_check_pre_task");return function(){var n=window.localStorage.getItem(a);if(!n||o.utc(n).add(6,"hour")<o.utc())return t.get("/api/user/pre-task").success((function(t){if(window.localStorage.setItem(a,o.utc().format()),t.has_pre_task)return r("#pre-task-popup").foundation("reveal","open"),e.url=t.url||"http://eurasia.mycospxk.com/"})).error((function(){}))}()}]},371810:e=>{e.exports=["$rootScope","$scope","$location",function(e,t,n){return t.isHttpResource=function(e){return"http"!==n.$$protocol&&/^http:\/\//.test(e)}}]},112253:(e,t,n)=>{var i=n(904072);n(241539),n(788674);var r=n(887757);function o(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}n(535666),e.exports=["$rootScope","$scope","activityRepository","$q","modelHelper",function(e,t,n,a,s){var c=i("#courseId").val();return t.activityUrl=s.activityUrl,function(){var i,a=(i=r.mark((function i(){var o;return r.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t.courseStudy={completeness:0},i.next=3,n.getAllActivitiesForStudentCompleteness(c);case 3:o=i.sent,t.courseStudy.lastStudyActivity=o.last_activity,t.courseStudy.completeness=o.study_completeness,e.completedActivities=o.completed_result.completed;case 7:case"end":return i.stop()}}),i)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var a=i.apply(e,t);function s(e){o(a,n,r,s,c,"next",e)}function c(e){o(a,n,r,s,c,"throw",e)}s(void 0)}))});return function(){return a.apply(this,arguments)}}()()}]},664584:e=>{e.exports=["$scope",function(e){e.currentAudio={},e.nextAudio={},e.$on("initSwitchAudioPopup",(function(t,n){e.currentAudioScope=n.currentAudioScope,e.nextAudioScope=n.nextAudioScope})),e.confirm=function(){e.$root.$broadcast("switchAudio",{currentAudioScope:e.currentAudioScope,nextAudioScope:e.nextAudioScope})}}]},383844:(e,t,n)=>{var i=n(904072),r=n(942783);e.exports=["$scope","$http","bulletinApi","$location",function(e,t,n,o){e.toggleBulletin=function(e){window.location.href="/bulletin-list/?type=org&bulletin_id=".concat(e.id)},e.goToBulletin=function(){window.location.href="/bulletin-list/?type=org"},e.cancel=function(){i("#unread-org-bulletin-popup").foundation("reveal","close")},e.pageSize=100,function(){e.ui={inPopup:!0},e.conditions={unread:!0,show_on_popup:!0};var t=r(e,o,"org-bulletins"),a=function(t,i,r){return n.getBulletins(t,i,e.conditions,r)},s=function(t){e.bulletins=t.bulletins,e.bulletins.length&&i("#unread-org-bulletin-popup").foundation("reveal","open")};e.changePage=function(e){return t.changePage(e,a,s)},e.changePage(1)}()}]},643704:(e,t,n)=>{var i=n(139390);e.exports=["$scope",function(e){wpsInit=function(){var t=document.getElementById("ppt-viewer");i.wpsPreviewInit(e.upload.documentUrl,t)},wpsInit()}]},787174:e=>{e.exports=["$http","$q","toastr",function(e,t,n){return{getOpenClientURL:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=t.defer(),o=function(e){return r.resolve(e.open_client_url)},a="/api/blobstorage/open-client-url?parent_id=".concat(i,"&no-intercept=true");return e.get(a).success(o).error(n.decorateError()),r.promise}}}]},598248:(e,t,n)=>{var i=n(708468);e.exports=["$http","$q","toastr",function(e,t,n){var r,o=t.defer(),a=!1,s=function(e){return i.merge(r,e),a=!0,o.resolve(e)};return r={load:function(){return a||e.get("/api/config?no-intercept=true").success(s).error(n.decorateError),o.promise}}}]},318293:(e,t,n)=>{function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(747042),n(369070),e.exports=["$q",function(e){var t=function(){"use strict";function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.blob=e,this.reader=new FileReader}var n,r,o;return n=t,(r=[{key:"read",value:function(){var t=this;return this.deferred||(this.deferred=e.defer(),this.reader.onload=function(e){return t.deferred.resolve(e.target.result)},this.reader.readAsArrayBuffer(this.blob)),this.deferred.promise}}])&&i(n.prototype,r),o&&i(n,o),t}();return function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4194304,i=Math.floor((e.size+n-1)/n),r=[],o=0,a=i,s=0<=a;s?o<a:o>a;s?o++:o--){var c=o*n,u=e.slice(c,c+n);r.push(new t(u))}return r}}]},271692:e=>{e.exports=["$timeout",function(e){return{highlight:function(t,n){var i=n&&n.fadeInDuration?n.fadeInDuration:1e3,r=n&&n.fadeOutDuration?n.fadeOutDuration:400,o=n&&n.duration?n.duration:1e3,a=n&&n.color?n.color:"#FFFF99";return t.animate({"background-color":a},{duration:i,complete:function(){return e((function(){return t.animate({"background-color":""},{duration:r})}),o)}})}}}]},665458:(e,t,n)=>{var i=n(963764);n(968309),e.exports=i.module("baseFactory",["base",n(155360)]).factory("toastr",n(959242)).factory("modelHelper",n(766832)).factory("highlight",n(271692)).factory("multiSelect",n(108081)).factory("commonApi",n(392853)).factory("config",n(598248)).factory("blobstorage",n(787174)).factory("simditor",n(969658)).factory("treeViewSearch",n(579920)).factory("scormUtils",n(371493)).factory("fileSlice",n(318293)).factory("revealModalParams",n(924463)).factory("momentService",n(734922)).factory("navSettingRepository",n(515996)).factory("statHelper",n(516109)).factory("videoQuizRepository",n(985592)).factory("ExamSubject",n(665383)).factory("interactionHelper",n(499289)).factory("filesApi",n(397416)).factory("calendarApi",n(875966)).factory("calendarRepository",n(443746)).factory("activityApi",n(169671)).factory("activityRepository",n(33614)).factory("examApi",n(62174)).factory("fileSelectModel",n(194410)).factory("Course",n(354476)).name},734922:e=>{e.exports=function(){return{DATE_TIME_FORMAT:"YYYY.MM.DD HH:mm"}}},108081:(e,t,n)=>{var i=n(904072),r=n(708468);n(969826),n(226699),n(132023);var o=n(624562),a=n(796824);e.exports=["$timeout",function(e){return{multiSelect:function(t,n){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return e((function(){var e=i(t),l=e.find("option");if(n&&r.each(l,(function(e){n.includes(e.value)&&i(e).prop("selected",!0)})),e.children("option").length>=8e3){try{e.multiselect("destroy")}catch(e){}return a(e,t,null,s,c,!1,u)}return e.data("echMultiselect")&&(c&&e.multiselectfilter("destroy"),e.multiselect("destroy")),o(e,t,s,c,u)}))}}}]},515996:e=>{e.exports=["$http","$q",function(e,t){var n={};return{initNavSetting:function(i){if(n[i])return n[i].promise;n[i]=t.defer();return e.get("/api/courses/".concat(i,"/nav-setting")).success((function(e){return n[i].resolve(e)})).error((function(){return n[i].resolve()})),n[i].promise}}}]},924463:e=>{e.exports=function(){return{}}},371493:(e,t,n)=>{var i=n(708468);n(892222),n(969826),n(489554),n(454747),e.exports=[function(){var e=function(e,t,n,r){var o;if((o=n instanceof Array?i.find(n,{identifier:t.identifierref}):n)&&(t.scormUrl="/api/uploads/scorm/".concat(e,"?sco=").concat(o.href,"&preview=true")),o&&r&&(t.scormUrl="/anonymous-api/shared-resources/".concat(r,"/scorms?sco=").concat(o.href)),t.parameters&&t.scormUrl)return t.scormUrl+="&para=".concat(encodeURIComponent(t.parameters))};return{bindItemResources:function t(n,r,o){return r instanceof Array?i.forEach(r,(function(i){if(i.identifierref&&e(n,i,o),i.item)return t(n,i.item,o)})):(e(n,r,o),r.item?t(n,r.item,o):void 0)},getFirstScoItem:function(e){return e instanceof Array?e[0]:e}}}]},969658:(e,t,n)=>{var i=n(904072),r=n(708468);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(57327),n(969826),n(226699),n(369070),n(241539),n(788674),n(974916),n(132023),n(115306),n(83954),e.exports=function(){var e=function(e){var t,n,r,o=(t=m(m({},e.i18n["zh-CN"]),{},{fill:"填空格",fill_circle:"填空格",entry:"词条",linkEntry:"关联词条",entryText:"词条文字",selectEntry:"词条名",selectEntryPlaceholder:"请选择词条",activity:"学习活动",superscript:"上角标",subscript:"下角标",ok:"确定",embed:"音视频链接",clean:"清除格式"}),n=m(m({},e.i18n["en-US"]),{},{fill:"Add Blank",fill_circle:"Add Blank",entry:"Entry",linkEntry:"Link Entry",entryText:"Entry Text",selectEntry:"Select Entry",selectEntryPlaceholder:"Please select an entry",activity:"Activity",superscript:"Superscript",subscript:"Subscript",ok:"Ok",embed:"Embed Video",clean:"清除格式"}),{"zh-CN":t,"zh-TW":r={blockquote:"引用",bold:"加粗文字",code:"插入程式碼",color:"文字顏色",coloredText:"彩色文字",hr:"分隔線",image:"插入圖片",externalImage:"外鏈圖片",uploadImage:"上傳圖片",uploadFailed:"上傳失敗了",uploadError:"上傳出錯了",imageUrl:"圖片地址",imageSize:"圖片尺寸",imageAlt:"圖片描述",restoreImageSize:"還原圖片尺寸",uploading:"正在上傳",indent:"向右縮進",outdent:"向左縮進",italic:"斜體文字",link:"插入連結",text:"文本",linkText:"連結文字",linkUrl:"網址",linkTarget:"連結方式",openLinkInCurrentWindow:"在目前視窗中打開",openLinkInNewWindow:"在新視窗中打開",removeLink:"移除連結",ol:"有序列表",ul:"無序列表",strikethrough:"刪除線文字",fontScale:"字體大小",fontScaleXLarge:"超大字體",fontScaleLarge:"大號字體",fontScaleNormal:"正常大小",fontScaleSmall:"小號字體",fontScaleXSmall:"超小字體",table:"表格",deleteRow:"刪除列",insertRowAbove:"在上面插入列",insertRowBelow:"在下面插入列",deleteColumn:"刪除欄",insertColumnLeft:"在左邊插入欄",insertColumnRight:"在右邊插入欄",deleteTable:"刪除表格",title:"標題",normalText:"普通文本",underline:"下劃線文字",alignment:"水平對齊",alignCenter:"居中",alignLeft:"居左",alignRight:"居右",selectLanguage:"選擇程序語言",audio:"插入音訊",embed:"影音連結",noAudioResource:"無法播放，檔案遺失或轉碼中",fill:"填空格",fill_circle:"填空格",entry:"詞條",linkEntry:"關聯詞條",entryText:"詞條文字",selectEntry:"詞條名",selectEntryPlaceholder:"請選擇詞條",activity:"學習活動",superscript:"上角標",subscript:"下角標",ok:"確定",clean:"Clear formatting"},"zh-MO":r,"en-US":n,"en-GB":n});return e.locale=function(e){var t=i("html").attr("lang");return t&&e[t]?t:"en-US"}(o),e.i18n=o},t=function(e,t){var a,l,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_="object"===h(t)?t:"".concat(t," textarea"),m=["clean","title","bold","italic","underline","strikethrough","fontScale","color","ol","ul","blockquote","code","table","link","lmsimage","hr","indent","outdent","superscript","subscript"],v={textarea:i(_),toolbar:m,toolbarFloat:!1,defaultImage:n(588722),imageButton:!1,tabIndent:!1},b=function(e){return 1===e.length&&"code"===e[0]};(f=r.merge(v,f,(function(e,t){return t}))).toolbar.includes("clean")||b(f.toolbar)||f.toolbar.unshift("clean"),null!==(a=window.featureToggles)&&void 0!==a&&a.vocabulary||(f.toolbar=f.toolbar.filter((function(e){return"entry"!==e}))),null!==(l=window.featureToggles)&&void 0!==l&&l.editorActivityRefer||(f.toolbar=f.toolbar.filter((function(e){return"activity"!==e})));var g,y=(g=void 0,(y=function(e){"use strict";u(n,e);var t=d(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"sync",value:function(){var e=c(p(n.prototype),"sync",this).apply(this,arguments);return g(e)}}],[{key:"initClass",value:function(){g=function(e){return i(e).find("a").each((function(){if(!this.hasAttribute("target")){var t=i(this).prop("outerHTML");i(this).attr("target","_blank");var n=i(this).prop("outerHTML");return e=e.replace(t,n)}})),e}}}]),n}(e)).initClass(),y),E=new y(f);return E.url_prefix=i("html").attr("host"),i("[contenteditable]").addClass("needsclick"),i(_).prop("disabled")&&i("[contenteditable]").prop("contenteditable",!1),E};return{create:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Promise.all([n.e(36318),n.e(67724)]).then(n.bind(n,105662)).then((function(n){return e(n.default),t(n.default,i,r)}))}}}},516109:e=>{e.exports=function(){return{inPage:function(e){if(window.st)return window.st.inPage(e)},setActivityType:function(e){if(window.st)return window.st.setActivityType(e)},trackVisitOnDestroy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(window.st)return t&&window.st.inPage(t),e.$on("$destroy",(function(e){return window.st.trackVisit()}))},inExamPage:function(e){if(window.st){var t={activity_id:e.id};return"syllabus"===e.referrer_type&&(t.syllabus_id=e.referrer_id),"module"===e.referrer_type&&(t.module_id=e.referrer_id),st.inPage(t),st.setActivityType("exam")}},track:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(window.st)return window.st.track(e,t,n,i)}}}},579920:(e,t,n)=>{var i=n(708468),r=n(963764);n(57327),n(226699),n(968309),n(324603),n(974916),n(339714),n(132023),n(115306),e.exports=function(){var e=function(e,t){var n=new RegExp(t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),"i");return 0===t.length||n.test(e.name)},t=function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"departments";return i.filter(n,(function(n){return n[o]=t(n[o],r),e(n,r)||!i.isEmpty(n[o])}))},n=function(e,t,n){var i=r.copy(t);return o(e,i),n.$broadcast("refreshTreeViewModel")},o=function e(t,n){return i.each(t,(function(t){return t.selected=!!n.includes("".concat(t.id)),null!=t.departments&&t.departments.length>0&&n.includes("".concat(t.id))&&e(t.departments,n),!0}))};return{searchDepartmentTree:function(e,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"departments",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=r[e].keyword,u=i.cloneDeep(s||r.originalDepartments);return r[a]=t(u,c),n(r[a],o,r)},searchOrgTree:function(e,r,o){var a=r[e].keyword,s=i.cloneDeep(r.originalOrgs);return r.orgs=t(s,a,"children"),n(r.orgs,o,r)},searchSubjectLibsTree:function(e,t){var n=t[e].keyword,r=i.cloneDeep(t.originalLibs);return i.filter(r,(function(e){return function(e,t){var n=new RegExp(t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),"i");return 0===t.length||n.test(e.title)}(e,n)}))},searchDepartmentPermissionTree:function(e,n){var r=n[e].keyword,o=i.cloneDeep(n.originalDepartmentsTree);n.departments.depTree=t(o,r)},searchDepartmentTreeInScorePublishItem:function(e,r,o){var a=r[e].keyword,s=i.cloneDeep(r.ui.originalDepartments);return r.ui.departments=t(s,a),n(r.ui.departments,o,r)}}}},895523:(e,t,n)=>{var i=n(904072),r=n(708468);n(241539),n(788674),e.exports={drawLineChart:function(e,t,o){return Promise.all([n.e(91403),n.e(91275),n.e(33309),n.e(42440),n.e(70596),n.e(45434),n.e(17408),n.e(3071)]).then(n.t.bind(n,170596,23)).then((function(n){return function(n){var a=i("#file-hyp-stat-chart"),s=n.init(a[0],"default"),c="#D8D8D8",u=[{type:"line",data:t.statSeries||[0],itemStyle:{normal:{color:"#00BBBD"}}}],l={show:!0,type:"line",lineStyle:{width:1,color:"#D8D8D8"}},d="\n\n\n   "+(null!=o?o.pageNumber:void 0),f=(null!=o?o.numOfNotes:void 0)+"\n",p={color:"#333333"},h={lineStyle:{color:c,width:1}},_={lineStyle:{color:c}},m={show:!0,lineStyle:{type:"dashed",color:"#E8E8E8"}},v={textStyle:{color:"#999999",fontWeight:100}},b=r.extend({},v,{margin:15}),g=r.extend({},v,{margin:12}),y={tooltip:{trigger:"axis",axisPointer:l,formatter:"{c}",padding:[5,19]},grid:{x:55,y:55,x2:55,y2:72,borderWidth:0},xAxis:[{name:d,nameTextStyle:p,data:e,boundaryGap:!1,splitLine:{show:!1},splitArea:{show:!1},axisLine:h,axisTick:_,axisLabel:b}],yAxis:[{name:f,nameTextStyle:p,type:"value",splitLine:m,axisLine:{lineStyle:{color:"rgba(0,0,0,0)"}},axisLabel:g}],series:u};return s.setOption(y),a.on("resizeChart",(function(){return s.resize()}))}(n)}))},clearChart:function(e){return e.setOption({series:[]},!0)}}},749807:(e,t,n)=>{var i=n(904072),r=n(708468);n(969826),n(932564);var o=function(e,t){var n=i(e),r=n.find(">.row"),o=r.innerHeight();if(o>=t)for(var a=n.find(".autocollapse-container"),s=r.find(".autocollapse-item").not(".autocollapse-container .autocollapse-item"),c=s.length-1;c>=0&&o>t;)i(s[c]).prependTo(a),c-=1,o=r.innerHeight()};i((function(){setTimeout((function(){o(".header-autocollapse",60)}),300),i(window).on("resize",r.debounce((function(){o(".header-autocollapse",60)}),150))}))},932135:(e,t,n)=>{var i=n(708468);n(682772),n(974916),n(804723),t.cacheBusterInterceptor=function(){return{request:function(e){return/^\/api\//.test(e.url)&&window.RequestScope&&(e.headers["Request-Scope"]=window.RequestScope),e}}},t.progressInterceptor=["$q","$rootScope","$injector","$window",function(e,t,n,r){var o=0,a=0,s=null,c=function(e){var t="GET"===e.method.toUpperCase()&&-1!==e.url.indexOf("/notifications"),n=i.contains(e.url,"no-intercept=true");return e.url.match("html$")||t||n},u=function(e){return!i.contains(e.url,"no-loading-animation=true")&&"GET"===e.method.toUpperCase()},l=function(){return s=s||n.get("ngProgress")},d=function(){return t.ui=t.ui||{},t.ui},f=function(){d().contentLoadingComplete=!0,t.contentLoaded=!1};f();var p=function(e){if(0===(o-=1)&&l().complete(),u(e)&&0===(a-=1))return f()};return{request:function(e){return c(e)||(o+=1,u(e)&&(a+=1),1===o&&(l().reset(),l().start()),1===a&&(d().contentLoadingComplete=!1,t.contentLoaded=!0)),e},requestError:function(t){return c(t.config)||p(t.config),e.reject(t)},response:function(e){return c(e.config)||p(e.config),e},responseError:function(t){return 401===t.status?r.location.href="/login?next="+encodeURIComponent(r.location.pathname+r.location.hash):(c(t.config)||p(t.config),e.reject(t))}}}]},902637:(e,t,n)=>{"use strict";n.r(t);n(968309),n(974916),n(115306);const i={lang:"简体",clipTaskTitle:"剪辑",taskProcessing:"进行中",taskFail:"失败",residue:"剩余",processFail:"处理失败",saveSuccess:"保存成功",saveError:"保存失败",mark:"批改",videoSpeed:"倍速",user:"人员",addUser:"新增人员",basicInfo:"基础信息",enrollmentManagement:"修课管理",rollcallRecord:"点名记录",alertRecord:"预警记录",roleManagement:"权限管理",cliping:"剪辑中",clipFailed:"剪辑失败",compositing:"合成中",compositeFailed:"合成失败",Student:"学生",Instructor:"教师",Faculty:"教职工",EducationalAdmin:"教务人员",Admin:"超级管理员"},r={lang:"繁體",clipTaskTitle:"剪輯",taskProcessing:"進行中",taskFail:"失敗",residue:"剩餘",processFail:"處理失敗",saveSuccess:"儲存成功",saveError:"儲存失敗",mark:"批改",videoSpeed:"倍速",user:"人員",addUser:"新增人員",basicInfo:"基本資訊",enrollmentManagement:"修課管理",rollcallRecord:"點名記錄",alertRecord:"預警記錄",roleManagement:"權限管理",cliping:"剪輯中",clipFailed:"剪輯失敗",compositing:"合成中",compositeFailed:"合成失敗",Student:"學生",Instructor:"教師",Faculty:"教職工",EducationalAdmin:"教務人員",Admin:"系統管理員"},o={lang:"繁體",clipTaskTitle:"剪輯",taskProcessing:"進行中",taskFail:"失敗",residue:"剩餘",processFail:"處理失敗",saveSuccess:"儲存成功",saveError:"儲存失敗",mark:"批改",videoSpeed:"倍速",user:"人員",addUser:"新增人員",basicInfo:"基本資訊",enrollmentManagement:"修課管理",rollcallRecord:"點名記錄",alertRecord:"預警記錄",roleManagement:"權限管理",cliping:"剪輯中",clipFailed:"剪輯失敗",compositing:"合成中",compositeFailed:"合成失敗",Student:"學生",Instructor:"教師",Faculty:"教職工",EducationalAdmin:"教務人員",Admin:"系統管理員"},a={lang:"gb",clipTaskTitle:"Edit",taskProcessing:"In progress",taskFail:"Fail",residue:"Residue",processFail:"Process Fail",saveSuccess:"Save Successfully",saveError:"Save Failed",mark:"Mark",videoSpeed:"Speed",user:"User",addUser:"Add User",basicInfo:"Basic Information",enrollmentManagement:"Enrollment Management",rollcallRecord:"Rollcall Record",alertRecord:"Alert Record",roleManagement:"Authority Management",cliping:"Cliping",clipFailed:"Clip Failed",compositing:"Compositing",compositeFailed:"Composite Failed",Student:"Student",Instructor:"Instructor",Faculty:"Faculty",EducationalAdmin:"EducationalAdmin",Admin:"SuperAdmin"},s={lang:"us",clipTaskTitle:"Edit",taskProcessing:"In progress",taskFail:"Fail",residue:"Residue",processFail:"Process Fail",saveSuccess:"Save Successfully",saveError:"Save Failed",mark:"Mark",videoSpeed:"Speed",user:"User",addUser:"Add User",basicInfo:"Basic Information",enrollmentManagement:"Enrollment Management",rollcallRecord:"Rollcall Record",alertRecord:"Alert Record",roleManagement:"Authority Management",cliping:"Cliping",clipFailed:"Clip Failed",compositing:"Compositing",compositeFailed:"Composite Failed",Student:"Student",Instructor:"Instructor",Faculty:"Faculty",EducationalAdmin:"EducationalAdmin",Admin:"SuperAdmin"};var c=n(904072),u=n(963764);n(632067);var l=c("html").attr("lang");u.module("i18n",["pascalprecht.translate"]).config(["$translateProvider",function(e){e.translations("zh-cn",i),e.translations("zh-tw",r),e.translations("zh-mo",o),e.translations("en-gb",a),e.translations("en-us",s)}]).run(["$translate",function(e){e.use(l.replace("_","-").toLowerCase())}]).name},716894:(e,t,n)=>{var i=n(963764);n(501801),n(780640),i.module("common",[n(940635),n(665458),n(653131)])},692624:(e,t,n)=>{var i=n(904072);i(document).on("click","input.truncate-text",(function(){return i(this).prop("readonly",""),i(this).focus()})).on("blur","input.truncate-text",(function(){return i(this).prop("readonly","readonly")}))},704609:(e,t,n)=>{function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(382526),n(141817),n(932165),n(66992),n(241539),n(978783),n(333948),window.MathJax={TeX:{extensions:["autoload-all.js","mhchem.js","[Contrib]/physics/physics.js"],noErrors:{disabled:!0}},messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],skipTags:["script","noscript","style","textarea","pre","code"],ignoreClass:"simditor|mathjax-ignore",preview:"none",processClass:"simditor-viewer|mathjax-process",processEscapes:!0},asciimath2jax:{delimiters:[]},AuthorInit:function(){MathJax.Ajax.config.path.Contrib="/static/js/mathjax/extensions/Tex",MathJax.Hub.Register.StartupHook("TeX autoload-all Ready",(function(){var e;return(e=MathJax.InputJax.TeX.Definitions.macros).color="Color",delete e.colorbox,delete e.fcolorbox})),MathJax.Hub.Register.StartupHook("TeX Jax Ready",(function(){MathJax.InputJax.TeX.Definitions.Add({mathchar0mi:{divisionsymbol:"00F7"}})})),MathJax.Hub.Register.StartupHook("End Jax",(function(){var e,t,n,i;return n=(e=MathJax.Hub.Browser).isFirefox&&e.versionAtLeast("1.5")||e.isMSIE&&e.hasMathPlayer||e.isSafari&&e.versionAtLeast("5.0")||e.isOpera&&e.versionAtLeast("9.52")&&!e.versionAtLeast("14.0"),"HTML"===(i=(t=MathJax.Hub.CombineConfig("MMLorHTML",{prefer:{MSIE:"MML",Firefox:"HTML",Opera:"HTML",Chrome:"HTML",Safari:"HTML",other:"HTML"}})).prefer[e]||t.prefer.other)?i="HTML-CSS":"MML"===i&&(i="NativeMML"),"NativeMML"!==i||n||(i=t.prefer.other),MathJax.Hub.setRenderer(i)}))}};var r=function(){var e;(e=document.createElement("script")).src="/static/js/mathjax/latest.js?config=TeX-MML-AM_CHTML",document.head.appendChild(e)};"object"===i(t)?e.exports=r:r()},17176:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_RESULT__,e;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}module=__webpack_require__.nmd(module),__webpack_require__(382526),__webpack_require__(141817),__webpack_require__(932165),__webpack_require__(892222),__webpack_require__(126541),__webpack_require__(57327),__webpack_require__(969826),__webpack_require__(489554),__webpack_require__(682772),__webpack_require__(279753),__webpack_require__(66992),__webpack_require__(569600),__webpack_require__(294986),__webpack_require__(821249),__webpack_require__(747042),__webpack_require__(702707),__webpack_require__(140561),__webpack_require__(718264),__webpack_require__(439575),__webpack_require__(805735),__webpack_require__(583710),__webpack_require__(224812),__webpack_require__(968309),__webpack_require__(651532),__webpack_require__(209653),__webpack_require__(556977),__webpack_require__(59595),__webpack_require__(735500),__webpack_require__(447941),__webpack_require__(241539),__webpack_require__(454678),__webpack_require__(891058),__webpack_require__(788674),__webpack_require__(324603),__webpack_require__(974916),__webpack_require__(339714),__webpack_require__(978783),__webpack_require__(804723),__webpack_require__(115306),__webpack_require__(864765),__webpack_require__(323123),__webpack_require__(573210),__webpack_require__(229254),__webpack_require__(860086),__webpack_require__(682472),__webpack_require__(692990),__webpack_require__(718927),__webpack_require__(533105),__webpack_require__(335035),__webpack_require__(274345),__webpack_require__(507174),__webpack_require__(632846),__webpack_require__(844731),__webpack_require__(677209),__webpack_require__(96319),__webpack_require__(958867),__webpack_require__(737789),__webpack_require__(833739),__webpack_require__(629368),__webpack_require__(414483),__webpack_require__(312056),__webpack_require__(103462),__webpack_require__(930678),__webpack_require__(627462),__webpack_require__(33824),__webpack_require__(155021),__webpack_require__(812974),__webpack_require__(915016),__webpack_require__(454747),__webpack_require__(333948),__webpack_require__(784633),__webpack_require__(932564),__webpack_require__(560285),__webpack_require__(583753),e=function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var i=n(1),r=n(2),o=e.exports=n(3),a=o.Parser,s=o.Lexer;i.browser&&(n(6),n(7),n(8),o.dom=n(4)),o.env=i,o.util=n(5),o.parse=function(e,t){((t=t||{}).BEGIN||t.END)&&(t.BEGIN&&(r.BEGIN=t.BEGIN),t.END&&(r.END=t.END),s.setup());var n=new a(e).parse();return t.stringify?JSON.stringify(n):n}},function(e,t,n){var i=n(5);t.svg="undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),t.browser="undefined"!=typeof document&&document.nodeType,t.exprCache=i.cache(1e3),t.isRunning=!1},function(e){e.exports={BEGIN:"{",END:"}",PRECOMPILE:!1}},function(e,t,n){var i=n(1),r=n(12),o=n(13),a=n(2),s=n(5),c=n(14),u={};if(i.browser){var l=n(4),d=n(9),f=n(10),p=l.doc;u=n(15)}var h=n(16),_=n(17),m=n(18),v=n(19),b=function(e,t){var n,r,a=i.isRunning;i.isRunning=!0,e=e||{};var c="string"==typeof this.template&&!e.template;t=t||{},e.data=e.data||{},e.computed=e.computed||{},this.data&&s.extend(e.data,this.data),this.computed&&s.extend(e.computed,this.computed);var d,f=this._eventListeners||[];e.events&&((d=s.normListener(e.events)).length&&(f=f.concat(d)),delete e.events),s.extend(this,e,!0),this.$parent&&this.$parent._append(this),this._children=[],this.$refs={},"string"==typeof(r=this.template)&&r.length<16&&(n=l.find(r))&&(r=n.innerHTML),r&&r.nodeType&&(r=r.innerHTML),"string"==typeof r&&(r=new o(r).parse(),c?this.constructor.prototype.template=r:delete this.template),this.computed=y(this.computed),this.$root=this.$root||this,f&&f.length&&f.forEach(function(e){this.$on(e.type,e.listener)}.bind(this)),this.$emit("$config"),this.config&&this.config(this.data),this.$emit("$afterConfig");var p=this._body;this._body=null,p&&p.ast&&p.ast.length&&(this.$body=s.getCompileFn(p.ast,p.ctx,{outer:this,namespace:t.namespace,extra:t.extra,record:!0})),r&&(this.group=this.$compile(r,{namespace:t.namespace}),u.node(this)),this.$parent||this.$update(),this.$ready=!0,this.$emit("$init"),this.init&&this.init(this.data),this.$emit("$afterInit"),i.isRunning=a,this.devtools&&this.devtools.emit("init",this)},g=window.__REGULAR_DEVTOOLS_GLOBAL_HOOK__;g&&(b.prototype.devtools=g),d&&(d.Regular=b),s.extend(b,{_directives:{__regexp__:[]},_plugins:{},_protoInheritCache:["directive","use"],__after__:function(e,t){var n,i,r;this.__after__=e.__after__,t.name&&b.component(t.name,this),(n=t.template)&&("string"==typeof n&&n.length<16&&(i=l.find(n))&&(n=i),n&&n.nodeType&&((r=l.attr(n,"name"))&&b.component(r,this),n=n.innerHTML),"string"==typeof n&&(this.prototype.template=a.PRECOMPILE?new o(n).parse():n)),t.computed&&(this.prototype.computed=y(t.computed)),b._inheritConfig(this,e)},directive:function(e,t){if("object"===s.typeOf(e)){for(var n in e)e.hasOwnProperty(n)&&this.directive(n,e[n]);return this}var i,r=s.typeOf(e),o=this._directives;if(null!=t)return"function"==typeof t&&(t={link:t}),"string"===r?o[e]=t:"regexp"===r&&(t.regexp=e,o.__regexp__.push(t)),this;if("string"===r&&(i=o[e]))return i;for(var a=o.__regexp__,c=0,u=a.length;u>c;c++)if((i=a[c]).regexp.test(e))return i},plugin:function(e,t){var n=this._plugins;return null==t?n[e]:(n[e]=t,this)},use:function(e){return"string"==typeof e&&(e=b.plugin(e)),"function"!=typeof e||e(this,b),this},config:function(e){var t=!1;if("object"==_typeof(e))for(var n in e)("END"===n||"BEGIN"===n)&&(t=!0),a[n]=e[n];t&&r.setup()},expression:m.expression,Parser:o,Lexer:r,_addProtoInheritCache:function(e,t){if(Array.isArray(e))return e.forEach(b._addProtoInheritCache);var n="_"+e+"s";b._protoInheritCache.push(e),b[n]={},b[e]||(b[e]=function(i,r){var o=this[n];if("object"==_typeof(i)){for(var a in i)i.hasOwnProperty(a)&&this[e](a,i[a]);return this}return null==r?o[i]:(o[i]=t?t(r):r,this)})},_inheritConfig:function(e,t){var n=b._protoInheritCache;return s.slice(n).forEach((function(n){e[n]=t[n];var i="_"+n+"s";t[i]&&(e[i]=s.createObject(t[i]))})),e}}),c(b),b._addProtoInheritCache("component"),b._addProtoInheritCache("filter",(function(e){return"function"==typeof e?{get:e}:e})),h.mixTo(b),_.mixTo(b),b.implement({init:function(){},config:function(){},destroy:function(){this.$emit("$destroy"),this._watchers=null,this.group&&this.group.destroy(!0),this.group=null,this.parentNode=null,this._children=[];var e=this.$parent;if(e){var t=e._children.indexOf(this);e._children.splice(t,1)}this.$parent=null,this.$root=null,this._handles=null,this.$refs=null,this.devtools&&this.devtools.emit("destroy",this)},$compile:function(e,t){t=t||{},"string"==typeof e&&(e=new o(e).parse());var n,i=this.__ext__,r=t.record;t.extra&&(this.__ext__=t.extra),r&&this._record();var a=this._walk(e,t);if(r){n=this._release();var s=this;n.length&&(a.ondestroy=function(){s.$unwatch(n)})}return t.extra&&(this.__ext__=i),a},$bind:function(e,t,n){var i=s.typeOf(t);if("expression"===t.type||"string"===i)this._bind(e,t,n);else if("array"===i)for(var r=0,o=t.length;o>r;r++)this._bind(e,t[r]);else if("object"===i)for(var r in t)t.hasOwnProperty(r)&&this._bind(e,r,t[r]);return e.$update(),this},$unbind:function(){},$inject:u.inject,$mute:function(e){var t=!1==(e=!!e)&&this._mute;return this._mute=!!e,t&&this.$update(),this},_bind:function(e,t,n){var i=this;if(!(e&&e instanceof b))throw"$bind() should pass Regular component as first argument";if(!t)throw"$bind() should  pass as least one expression to bind";if(n||(n=t),t=m.expression(t),(n=m.expression(n)).set){var r=this.$watch(t,(function(t){e.$update(n,t)}));e.$on("$destroy",(function(){i.$unwatch(r)}))}if(t.set){var o=e.$watch(n,(function(e){i.$update(t,e)}));this.$on("$destroy",e.$unwatch.bind(e,o))}n.set(e,t.get(this))},_walk:function(e,t){if("array"===s.typeOf(e)){for(var n=[],i=0,r=e.length;r>i;i++)n.push(this._walk(e[i],t));return new f(n)}return"string"==typeof e?p.createTextNode(e):d[e.type||"default"].call(this,e,t)},_append:function(e){this._children.push(e),e.$parent=this},_handleEvent:function(e,t,n,i){var r,o=this.constructor,a="function"!=typeof n?s.handleEvent.call(this,n,t):n,c=o.event(t);return c?r=c.call(this,e,a,i):l.on(e,t,a),c?r:function(){l.off(e,t,a)}},_touchExpr:function(e){var t,n=this.__ext__,i={};if("expression"!==e.type||e.touched)return e;if(t=e.get||(e.get=new Function(s.ctxName,s.extName,s.prefix+"return ("+e.body+")")),i.get=n?function(e){return t(e,n)}:t,e.setbody&&!e.set){var r=e.setbody;e.set=function(t,n,i){return e.set=new Function(s.ctxName,s.setName,s.extName,s.prefix+r),e.set(t,n,i)},e.setbody=null}return e.set&&(i.set=n?function(t,i){return e.set(t,i,n)}:e.set),s.extend(i,{type:"expression",touched:!0,once:e.once||e.constant}),i},_f_:function(e){var t=this.constructor.filter(e);if(!t)throw Error("filter "+e+" is undefined");return t},_sg_:function(e,t,n){if(void 0!==n){var i=this.computed[e];if(i){if("expression"!==i.type||i.get||this._touchExpr(i),i.get)return i.get(this);s.log("the computed '"+e+"' don't define the get function,  get data."+e+" altnately","warn")}}return void 0===t||void 0===e?void 0:n&&void 0!==n[e]?n[e]:t[e]},_ss_:function(e,t,n,i,r){i=i||"=";var o,a=(r=this.computed)?r[e]:null;if("="!==i)switch(o=a?a.get(this):n[e],i){case"+=":t=o+t;break;case"-=":t=o-t;break;case"*=":t*=o;break;case"/=":t=o/t;break;case"%=":t=o%t}if(a){if(a.set)return a.set(this,t);s.log("the computed '"+e+"' don't define the set function,  assign data."+e+" altnately","warn")}return n[e]=t,t}}),b.prototype.inject=function(){return s.log("use $inject instead of inject","error"),this.$inject.apply(this,arguments)},b.filter(v),e.exports=b;var y=function(){function e(e){return function(t){return e.call(t,t.data)}}function t(e){return function(t,n){return e.call(t,n,t.data),n}}return function(n){if(n){var i,r,o,a={};for(var s in n)o=_typeof(i=n[s]),"expression"!==i.type?"string"===o?a[s]=m.expression(i):(r=a[s]={type:"expression"},"function"===o?r.get=e(i):(i.get&&(r.get=e(i.get)),i.set&&(r.set=t(i.set)))):a[s]=i;return a}}}()},function(e,t,n){function i(e,t){return"change"===t&&s.msie<9&&e&&e.tagName&&"input"===e.tagName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)?"click":t}function r(e){if((e=e||window.event)._fixed)return e;this.event=e,this.target=e.target||e.srcElement;var t=this.type=e.type,n=this.button=e.button;if(_.test(t)&&(this.pageX=null!=e.pageX?e.pageX:e.clientX+m.scrollLeft,this.pageY=null!=e.pageX?e.pageY:e.clientY+m.scrollTop,"mouseover"===t||"mouseout"===t)){for(var i=e.relatedTarget||e[("mouseover"===t?"from":"to")+"Element"];i&&3===i.nodeType;)i=i.parentNode;this.relatedTarget=i}("DOMMouseScroll"===t||"mousewheel"===t)&&(this.wheelDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3),this.which=e.which||e.keyCode,this.which||void 0===n||(this.which=1&n?1:2&n?3:4&n?2:0),this._fixed=!0}var o,a,s=e.exports,c=n(1),u=n(5),l=n(11),d=document.createElement("div"),f=function(){},p=l.NAMESPACE;s.body=document.body,s.doc=document,s.tNode=d,d.addEventListener?(o=function(e,t,n){e.addEventListener(t,n,!1)},a=function(e,t,n){e.removeEventListener(t,n,!1)}):(o=function(e,t,n){e.attachEvent("on"+t,n)},a=function(e,t,n){e.detachEvent("on"+t,n)}),s.msie=parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1]),isNaN(s.msie)&&(s.msie=parseInt((/trident\/.*; rv:(\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])),s.find=function(e){if(document.querySelector)try{return document.querySelector(e)}catch(e){}return-1!==e.indexOf("#")?document.getElementById(e.slice(1)):void 0},s.inject=function(e,t,n){if(n=n||"bottom",e){if(Array.isArray(e)){var i=e;e=s.fragment();for(var r=0,o=i.length;o>r;r++)e.appendChild(i[r])}var a;switch(n){case"bottom":t.appendChild(e);break;case"top":t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e);break;case"after":(a=t.nextSibling)?a.parentNode.insertBefore(e,a):t.parentNode.appendChild(e);break;case"before":t.parentNode.insertBefore(e,t)}}},s.id=function(e){return document.getElementById(e)},s.create=function(e,t){if("svg"===t){if(!c.svg)throw Error("the env need svg support");t=p.svg}return t?document.createElementNS(t,e):document.createElement(e)},s.fragment=function(){return document.createDocumentFragment()};var h={class:function(e,t){!("className"in e)||e.namespaceURI&&e.namespaceURI!==p.html?e.setAttribute("class",t):e.className=t||""},for:function(e,t){"htmlFor"in e?e.htmlFor=t:e.setAttribute("for",t)},style:function(e,t){e.style?e.style.cssText=t:e.setAttribute("style",t)},value:function(e,t){e.value=null!=t?t:""}};s.attr=function(e,t,n){if(u.isBooleanAttr(t)){if(void 0===n)return e[t]||(e.attributes.getNamedItem(t)||f).specified?t:void 0;n?(e[t]=!0,e.setAttribute(t,t),s.msie&&s.msie<=7&&"checked"===t&&(e.defaultChecked=!0)):(e[t]=!1,e.removeAttribute(t))}else if(void 0!==n)h[t]?h[t](e,n):null===n?e.removeAttribute(t):e.setAttribute(t,n);else if(e.getAttribute){var i=e.getAttribute(t,2);return null===i?void 0:i}},s.on=function(e,t,n){var a=t.split(" ");return n.real=function(t){var i=new r(t);i.origin=e,n.call(e,i)},a.forEach((function(t){t=i(e,t),o(e,t,n.real)})),s},s.off=function(e,t,n){var r=t.split(" ");n=n.real||n,r.forEach((function(t){t=i(e,t),a(e,t,n)}))},s.text=function(){var e={};return s.msie&&s.msie<9?(e[1]="innerText",e[3]="nodeValue"):e[1]=e[3]="textContent",function(t,n){var i=e[t.nodeType];return null==n?i?t[i]:"":void(t[i]=n)}}(),s.html=function(e,t){return void 0===t?e.innerHTML:void(e.innerHTML=t)},s.replace=function(e,t){t.parentNode&&t.parentNode.replaceChild(e,t)},s.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)},s.css=function(e,t,n){if("object"!==u.typeOf(t)){var i;if(void 0===n)return s.msie<=8&&""===(i=e.currentStyle&&e.currentStyle[t])&&(i="auto"),i=i||e.style[t],s.msie<=8&&(i=""===i?void 0:i),i;(t=function(e){return(""+e).replace(/-\D/g,(function(e){return e.charAt(1).toUpperCase()}))}(t))&&(e.style[t]=n)}else for(var r in t)t.hasOwnProperty(r)&&s.css(e,r,t[r])},s.addClass=function(e,t){var n=e.className||"";-1===(" "+n+" ").indexOf(" "+t+" ")&&(e.className=n?n+" "+t:t)},s.delClass=function(e,t){var n=e.className||"";e.className=(" "+n+" ").replace(" "+t+" "," ").trim()},s.hasClass=function(e,t){return-1!==(" "+(e.className||"")+" ").indexOf(" "+t+" ")};var _=/^(?:click|dblclick|contextmenu|DOMMouseScroll|mouse(?:\w+))$/,m=document;m=m.compatMode&&"CSS1Compat"!==m.compatMode?m.body:m.documentElement,u.extend(r.prototype,{stop:function(){this.preventDefault().stopPropagation()},preventDefault:function(){return this.event.preventDefault?this.event.preventDefault():this.event.returnValue=!1,this},stopPropagation:function(){return this.event.stopPropagation?this.event.stopPropagation():this.event.cancelBubble=!0,this},stopImmediatePropagation:function(){this.event.stopImmediatePropagation&&this.event.stopImmediatePropagation()}}),s.nextFrame=function(){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)},t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||function(e){clearTimeout(e)};return function(n){var i=e(n);return function(){t(i)}}}(),s.nextReflow=s.msie?function(e){return s.nextFrame((function(){document.body.offsetWidth,e()}))}:s.nextFrame},function(e,t,n){(function(t){n(20)();var i=e.exports,r=n(21),o=[].slice,a={}.toString,s="undefined"!=typeof window?window:t,c=9999;i.noop=function(){},i.uid=function(){var e=0;return function(){return e++}}(),i.extend=function(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(void 0===e[i]||!0===n)&&(e[i]=t[i]);return e},i.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},i.varName="d",i.setName="p_",i.ctxName="c",i.extName="e",i.rWord=/^[\$\w]+$/,i.rSimpleAccessor=/^[\$\w]+(\.[\$\w]+)*$/,i.nextTick="function"==typeof setImmediate?setImmediate.bind(s):function(e){setTimeout(e,0)},i.prefix="var "+i.varName+"="+i.ctxName+".data;"+i.extName+"="+i.extName+"||'';",i.slice=function(e,t,n){for(var i=[],r=t||0,o=n||e.length;o>r;r++){var a=e[r];i.push(a)}return i},i.typeOf=function(e){return null==e?String(e):a.call(e).slice(8,-1).toLowerCase()},i.makePredicate=function(e){function t(e){if(1===e.length)return n+="return str === '"+e[0]+"';";n+="switch(str){";for(var t=0;t<e.length;++t)n+="case '"+e[t]+"':";n+="return true}return false;"}"string"==typeof e&&(e=e.split(" "));var n="",i=[];e:for(var r=0;r<e.length;++r){for(var o=0;o<i.length;++o)if(i[o][0].length===e[r].length){i[o].push(e[r]);continue e}i.push([e[r]])}if(i.length>3){for(i.sort((function(e,t){return t.length-e.length})),n+="switch(str.length){",r=0;r<i.length;++r){var a=i[r];n+="case "+a[0].length+":",t(a)}n+="}"}else t(e);return new Function("str",n)},i.trackErrorPos=function(){function e(e,t,r,o){var a=e.length,s=t-n;0>s&&(s=0);var c=t+i;c>a&&(c=a);var u="["+(r+1)+"] "+(s>0?"..":""),l=u+e.slice(s,c)+(a>c?"..":"");return o&&(l+="\n"+new Array(t-s+u.length+1).join(" ")+"^^^"),l}var t=/\r\n|[\n\r\u2028\u2029]/g,n=20,i=20;return function(n,i){i>n.length-1&&(i=n.length-1),t.lastIndex=0;var r=function(e,t){for(var n=0,i=0,r=e.length;r>i;i++){var o=(e[i]||"").length;if(n+o>t)return{num:i,line:e[i],start:t-i-n,prev:e[i-1],next:e[i+1]};n+=o}}(n.split(t),i),o=r.start,a=r.num;return(r.prev?e(r.prev,o,a-1)+"\n":"")+e(r.line,o,a,!0)+"\n"+(r.next?e(r.next,o,a+1)+"\n":"")}}();var u=/\((\?\!|\?\:|\?\=)/g;i.findSubCapture=function(e){var t=0,n=0,i=e.length,r=e.match(u);for(r=r?r.length:0;i--;){var o=e.charAt(i);(0===i||"\\"!==e.charAt(i-1))&&("("===o&&t++,")"===o&&n++)}if(t!==n)throw"RegExp: "+e+"'s bracket is not marched";return t-r},i.escapeRegExp=function(e){return e.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,(function(e){return"\\"+e}))};var l=new RegExp("&(?:(#x[0-9a-fA-F]+)|(#[0-9]+)|("+i.keys(r).join("|")+"));","gi");i.convertEntity=function(e){return(""+e).replace(l,(function(e,t,n,i){var o;return o=n?parseInt(n.slice(1),10):t?parseInt(t.slice(2),16):r[i],String.fromCharCode(o)}))},i.createObject=function(e,t){function n(){}n.prototype=e;var r=new n;return t&&i.extend(r,t),r},i.createProto=function(e,t){function n(){this.constructor=e}return n.prototype=t,e.prototype=new n},i.removeOne=function(e,t){for(var n=e.length;n--;)if(t(e[n]))return void e.splice(n,1)},i.clone=function(e){var t=i.typeOf(e);if("array"===t){for(var n=[],r=0,o=e.length;o>r;r++)n[r]=e[r];return n}if("object"===t){for(var r in n={},e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}return e},i.equals=function(e,t){return!("number"!==_typeof(e)||"number"!=typeof t||!isNaN(e)||!isNaN(t))||e===t};var d=/-([a-z])/g;i.camelCase=function(e){return e.replace(d,(function(e,t){return t.toUpperCase()}))},i.throttle=function(e,t){t=t||100;var n,i,r,o=null,a=0,s=function(){a=+new Date,o=null,r=e.apply(n,i),n=i=null};return function(){var c=+new Date,u=t-(c-a);return n=this,i=arguments,0>=u||u>t?(clearTimeout(o),o=null,a=c,r=e.apply(n,i),n=i=null):o||(o=setTimeout(s,u)),r}},i.escape=function(){var e=/&/g,t=/</g,n=/>/g,i=/\'/g,r=/\"/g,o=/[&<>\"\']/;return function(a){return o.test(a)?a.replace(e,"&amp;").replace(t,"&lt;").replace(n,"&gt;").replace(i,"&#39;").replace(r,"&quot;"):a}}(),i.cache=function(e){var t=[],n={};return{set:function(e,i){return t.length>this.max&&(n[t.shift()]=void 0),void 0===n[e]&&t.push(e),n[e]=i,i},get:function(e){return void 0===e?n:n[e]},max:e=e||1e3,len:function(){return t.length}}},i.handleEvent=function(e){var t,n=this;return"expression"===e.type&&(t=e.get),t?function(e){n.$update((function(){var i=this.data;i.$event=e,!1===t(n)&&e&&e.preventDefault&&e.preventDefault(),i.$event=void 0}))}:function(){var t=o.call(arguments);t.unshift(e),n.$update((function(){n.$emit.apply(n,t)}))}},i.once=function(e){var t=0;return function(){0==t++&&e.apply(this,arguments)}},i.fixObjStr=function(e){return 0!==e.trim().indexOf("{")?"{"+e+"}":e},i.map=function(e,t){for(var n=[],i=0,r=e.length;r>i;i++)n.push(t(e[i],i));return n},i.log=function(e,t){"undefined"!=typeof console&&console[t||"log"](e)},i.normListener=function(e){var t=[],n=i.typeOf(e);if("array"===n)return e;if("object"===n)for(var r in e)e.hasOwnProperty(r)&&t.push({type:r,listener:e[r]});return t},i.isVoidTag=i.makePredicate("area base br col embed hr img input keygen link menuitem meta param source track wbr r-content"),i.isBooleanAttr=i.makePredicate("selected checked disabled readonly required open autofocus controls autoplay compact loop defer multiple"),i.isExpr=function(e){return e&&"expression"===e.type},i.isGroup=function(e){return e.inject||e.$inject},i.getCompileFn=function(e,t,n){return t.$compile.bind(t,e,n)},i.fixTagAST=function(e,t){if(!e.touched){var n=e.attrs;if(n){var r=n.length;if(r){for(var o=[],a={};r--;){var s=n[r];"type"===s.name&&(s.priority=c+1);var u=t.directive(s.name);u?(s.priority=u.priority||1,s.directive=!0,o.push(s)):"attribute"===s.type&&(a[s.name]=s.value)}o.forEach((function(e){var r=t.directive(e.name).param;r&&r.length&&(e.param={},r.forEach((function(t){t in a&&(e.param[t]=void 0===a[t]||a[t],i.removeOne(n,(function(e){return e.name===t})))})))})),n.sort((function(e,t){var n=e.priority,i=t.priority;return null==n&&(n=c),null==i&&(i=c),i-n})),e.touched=!0}}}},i.findItem=function(e,t){if(e&&e.length)for(var n=e.length;n--;)if(t(e[n]))return e[n]},i.getParamObj=function(e,t){var n={};if(t)for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];n[i]=r&&"expression"===r.type?e.$get(r):r}return n}}).call(t,function(){return this}())},function(e,t,n){var i=n(5),r=n(4),o=(n(22),n(3)),a=n(11),s=a.NAMESPACE;n(23),n(24),e.exports={"r-class":function(e,t){"string"==typeof t&&(t=i.fixObjStr(t));var n=e.namespaceURI&&e.namespaceURI!==s.html;this.$watch(t,(function(t){var i=n?e.getAttribute("class"):e.className;for(var o in i=" "+(i||"").replace(/\s+/g," ")+" ",t)t.hasOwnProperty(o)&&(i=i.replace(" "+o+" "," "),!0===t[o]&&(i+=o+" "));i=i.trim(),n?r.attr(e,"class",i):e.className=i}),!0)},"r-style":function(e,t){"string"==typeof t&&(t=i.fixObjStr(t)),this.$watch(t,(function(t){for(var n in t)t.hasOwnProperty(n)&&r.css(e,n,t[n])}),!0)},"r-hide":function(e,t){var n,r=null;i.isExpr(t)||"string"==typeof t?this.$watch(t,(function(t){var i=!!t;i!==r&&(r=i,i?e.onleave?n=e.onleave((function(){e.style.display="none",n=null})):e.style.display="none":(n&&n(),e.style.display="",e.onenter&&e.onenter()))})):t&&(e.style.display="none")},"r-html":function(e,t){this.$watch(t,(function(t){t=t||"",r.html(e,t)}),{force:!0})},ref:{accept:a.COMPONENT_TYPE+a.ELEMENT_TYPE,link:function(e,t){var n,r=this.$refs||(this.$refs={});return i.isExpr(t)?this.$watch(t,(function(t,i){n=t,r[i]===e&&(r[i]=null),n&&(r[n]=e)})):r[n=t]=e,function(){r[n]=null}}}},o.directive(e.exports)},function(e,t,n){function i(e,t){function n(e){s&&h.push(s),s=function(e){var t,n=[],i=0,o=r.noop,a={type:e,start:function(e){return t=r.uid(),"function"==typeof e&&(o=e),i>0?i=0:a.step(),a.compelete},compelete:function(){t=null,o&&o(),o=r.noop,i=0},step:function(){n[i]&&n[i](a.done.bind(a,t))},done:function(e){e===t&&(i<n.length-1?(i++,a.step()):a.compelete())},push:function(e){n.push(e)}};return a}(e)}function i(e,t){t&&e()}function o(e){return function(){e.onenter=null,e.onleave=null}}var a=this.constructor;r.isExpr(t)&&(t=t.get(this));for(var s,l,d,f,p=(t=t.trim()).split(";"),h=[],_=[],m=0,v=p.length;v>m;m++)if(l=(f=p[m].split(":"))[0]&&f[0].trim(),d=f[1]&&f[1].trim(),l)if(l!==c)if(l!==u){var b;if(!(b=a.animation(l))||!s)throw Error(b?"you should start with `on` or `event` in animation":"undefined animator 【"+l+"】");s.push(b.call(this,{element:e,done:s.done,param:d}))}else n(d),"leave"===d?(e.onleave=s.start,_.push(o(e))):"enter"===d?(e.onenter=s.start,_.push(o(e))):"on"+d in e?_.push(this._handleEvent(e,d,s.start)):(this.$on(d,s.start),_.push(this.$off.bind(this,d,s.start)));else n("when"),this.$watch(d,i.bind(this,s.start));return _.length?function(){_.forEach((function(e){e()}))}:void 0}var r=n(5),o=n(22),a=(n(4),n(3)),s=/\s+/,c="when",u="on";a._addProtoInheritCache("animation"),a.animation({wait:function(e){var t=parseInt(e.param)||0;return function(e){setTimeout(e,t)}},class:function(e){var t=e.param.split(","),n=t[0]||"",i=parseInt(t[1])||1;return function(t){o.startClassAnimate(e.element,n,t,i)}},call:function(e){var t=this.$expression(e.param).get,n=this;return function(e){t(n),n.$update(),e()}},emit:function(e){var t=e.param.split(","),n=t[0]||"",i=t[1]?this.$expression(t[1]).get:null;if(!n)throw Error("you shoud specified a eventname in emit command");var r=this;return function(e){r.$emit(n,i?i(r):void 0),e()}},style:function(e){var t,n={};return e.param.split(",").forEach((function(e){if(e=e.trim()){var i=e.split(s),r=i.shift(),o=i.join(" ");if(!r||!o)throw Error("invalid style in command: style");n[r]=o,t=!0}})),function(i){t?o.startStyleAnimate(e.element,n,i):i()}}}),a.directive("r-animation",i),a.directive("r-anim",i)},function(e,t,n){function i(e){e.implement({$timeout:function(e,t){return t=t||0,setTimeout(function(){e.call(this),this.$update()}.bind(this),t)},$interval:function(e,t){return t=t||1e3/60,setInterval(function(){e.call(this),this.$update()}.bind(this),t)}})}var r=n(3);r.plugin("timeout",i),r.plugin("$timeout",i)},function(e,t,n){function i(e,t){return"object"===t?l.keys(e):"array"===t?e:[]}function r(e,t,n){for(var i=[],r=0,o=e.length;o>r;r++){var a=this._walk(e[r],{element:t,fromElement:!0,attrs:e,extra:n});a&&i.push(a)}return i}var o=n(25).diffArray,a=n(15),s=n(22),c=(n(26),n(10)),u=n(4),l=n(5),d=e.exports={};d.list=function(e,t){function n(e,t){for(var n=0;t>n;n++){var i=E.children.splice(e+1,1)[0];i&&i.destroy(!0)}}function r(n,i,r,o){for(var c=n;i>c;c++){var d={};u(d,c,r[c],o),d=l.createObject(g,d);var f=y.$compile(e.body,{extra:d,namespace:b,record:!0,outer:t.outer});f.data=d;var p=a.last(E.get(c));p.parentNode&&s.inject(a.node(f),p,"after"),E.children.splice(c+1,0,f)}}function u(e,t,n,i){e[A]=t,i?(e[w]=n,e[C]=i[n]):(e[C]=n,e[w]=null)}function f(e,t,n,i){for(var r=e;t>r;r++){var o=E.get(r+1),a=n[r];u(o.data,r,a,i)}}function p(e,t,i,a){var s=0,c=e.length;if(i||0===c&&0===t.length||(i=o(e,t,!0)),i&&i.length){for(var u=0;u<i.length;u++){var l=i[u],d=l.index,p=l.removed,h=l.add,m=p.length;if(x&&m&&h){for(var v=Math.min(m,h),b=0;v>b;)_(e[d],d)!==_(p[0],d)&&(n(d,1),r(d,d+1,e,a)),p.shift(),h--,d++,b++;m=p.length}f(s,d,e,a),n(d,m),r(d,d+h,e,a),s=0>(s=d+h-m)?0:s}if(c>s)for(u=s;c>u;u++)E.get(u+1).data[A]=u}}function h(e,t,i){var o=e.length,a=t.length;f(0,Math.min(o,a),e,i),a>o?n(o,a-o):o>a&&r(a,o,e,i)}var _,m,v=(d.Regular,document.createComment("Regular list")),b=t.namespace,g=t.extra,y=this,E=new c([v]),A=e.variable+"_index",w=e.variable+"_key",C=e.variable,$=e.alternate,x=e.track;return x&&!0!==x&&(x=this._touchExpr(x),m=l.createObject(g),_=function(e,t){return m[C]=e,m[A]=t,x.get(y,m)}),this.$watch(e.sequence,(function(e,n,r){var o,c=l.typeOf(e),u=l.typeOf(n),d=i(e,c),f=i(n,u),_=d&&d.length;if((!f||!f.length)&&_&&E.get(1)){var m=E.children.pop();m.destroy&&m.destroy(!0)}if("object"===c&&(o=e),!0===x?h(d,f,o):p(d,f,r,o),!_&&$&&$.length){var A=y.$compile($,{extra:g,record:!0,outer:t.outer,namespace:b});E.children.push(A),v.parentNode&&s.inject(a.node(A),v,"after")}}),{init:!0,diff:!0!==x,deep:!0}),E},d.template=function(e,t){var n,i=e.content,r=document.createComment("inlcude"),o=t.namespace,a=t.extra,s=new c([r]);if(i){var u=this;this.$watch(i,(function(e){var i=s.get(1),c=_typeof(e);i&&(i.destroy(!0),s.children.pop()),e&&(s.push(n="function"===c?e():u.$compile("object"!==c?String(e):e,{record:!0,outer:t.outer,namespace:o,extra:a})),r.parentNode&&n.$inject(r,"before"))}),{init:!0})}return s};var f=0;d.if=function(e,t){var n=this,i=t.extra;if(t&&t.element){var r=function(r){r?(u&&a.destroy(u),e.consequent&&(o=n.$compile(e.consequent,{record:!0,element:t.element,extra:i}))):(o&&a.destroy(o),e.alternate&&(u=n.$compile(e.alternate,{record:!0,element:t.element,extra:i})))};return this.$watch(e.test,r,{force:!0}),{destroy:function(){o?a.destroy(o):u&&a.destroy(u)}}}var o,u,l=document.createComment("Regular if"+f++),d=new c;d.push(l);var p=null,h=t.namespace;return r=function(r){var c=!!r;c!==p&&(p=c,d.children[1]&&(d.children[1].destroy(!0),d.children.pop()),c?e.consequent&&e.consequent.length&&(o=n.$compile(e.consequent,{record:!0,outer:t.outer,namespace:h,extra:i}),d.push(o),l.parentNode&&s.inject(a.node(o),l,"before")):e.alternate&&e.alternate.length&&(u=n.$compile(e.alternate,{record:!0,outer:t.outer,namespace:h,extra:i}),d.push(u),l.parentNode&&s.inject(a.node(u),l,"before")))},this.$watch(e.test,r,{force:!0,init:!0}),d},d.expression=function(e){var t=document.createTextNode("");return this.$watch(e,(function(e){u.text(t,null==e?"":""+e)}),{init:!0}),t},d.text=function(e){return document.createTextNode(l.convertEntity(e.text))};var p=/^on-(.+)$/;d.element=function(e,t){var n,i,o=e.attrs,c=this.constructor,f=e.children,p=t.namespace,h=t.extra,_=e.tag,m=c.component(_);if("r-content"===_)return l.log("r-content is deprecated, use {#inc this.$body} instead (`{#include}` as same)","warn"),this.$body&&this.$body();if(m||"r-component"===_)return t.Component=m,d.component.call(this,e,t);"svg"===_&&(p="svg"),f&&f.length&&(n=this.$compile(f,{outer:t.outer,namespace:p,extra:h})),i=u.create(_,p,o),n&&!l.isVoidTag(_)&&u.inject(a.node(n),i),l.fixTagAST(e,c);var v=r.call(this,o,i,h);return{type:"element",group:n,node:function(){return i},last:function(){return i},destroy:function(e){e?s.remove(i,n?n.destroy.bind(n):l.noop):n&&n.destroy(),v.length&&v.forEach((function(e){e&&("function"==typeof e.destroy?e.destroy():e())}))}}},d.component=function(e,t){for(var n,i,r,o,s=e.attrs,u=t.Component,d=this.constructor,f=t.extra,h=t.namespace,_=this,m={},v=0,b=s.length;b>v;v++){var g=s[v];(S=this._touchExpr(void 0===g.value||g.value)).constant&&(S=g.value=S.get(this)),g.value&&!0===g.value.constant&&(S=S.get(this));var y,E=g.name;if(!g.event){var A=E.match(p);A&&(g.event=A[1])}if("cmpl"===g.mdf&&(S=l.getCompileFn(S,this,{record:!0,namespace:h,extra:f,outer:t.outer})),"is"===E&&!u){r=S;var w=this.$get(S,!0);if("function"!=typeof(u=d.component(w)))throw new Error("component "+w+" has not registed!")}(y=g.event)?(o=o||{})[y]=l.handleEvent.call(this,S,y):(m[E=g.name=l.camelCase(E)]=S&&"expression"===S.type?S.get(_):S,"ref"===E&&null!=S&&(i=S),"isolate"===E&&(n="expression"===S.type?S.get(_):parseInt(!0===S?3:S,10),m.isolate=n))}var C,$={data:m,events:o,$parent:2&n?null:this,$root:this.$root,$outer:t.outer,_body:{ctx:this,ast:e.children}},x=(t={namespace:h,extra:t.extra},new u($,t));for(i&&this.$refs&&(C=u.directive("ref").link,this.$on("$destroy",C.call(this,x,i))),i&&_.$refs&&(_.$refs[i]=x),v=0,b=s.length;b>v;v++){var S=(g=s[v]).value||!0;E=g.name,"expression"!==S.type||g.event||(S=_._touchExpr(S),2&n||this.$watch(S,function(e,t){this.data[e]=t}.bind(x,E),{sync:!0}),!S.set||1&n||x.$watch(E,_.$update.bind(_,S),{init:!0}))}if(r&&"expression"===r.type){var I=new c;return I.push(x),this.$watch(r,(function(e){var t=d.component(e);if(!t)throw new Error("component "+e+" has not registed!");var n=new t($),r=I.children.pop();I.push(n),n.$inject(a.last(r),"after"),r.destroy(),i&&(_.$refs[i]=n)}),{sync:!0}),I}return x},d.attribute=function(e,t){var n=e,i=n.name,r=n.value||"",o=r.constant,a=this.constructor.directive(i),s=t.element,c=this;if(r=this._touchExpr(r),o&&(r=r.get(this)),a&&a.link){var d={attrs:t.attrs,param:l.getParamObj(this,n.param)},f=a.link.call(c,s,r,i,d);return"function"==typeof a.update&&(l.isExpr(r)?this.$watch(r,(function(e,t){a.update.call(c,s,e,t,d)})):a.update.call(c,s,r,void 0,d)),"function"==typeof f&&(f={destroy:f}),f}return"expression"===r.type?this.$watch(r,(function(e){u.attr(s,i,e)}),{init:!0}):l.isBooleanAttr(i)?u.attr(s,i,!0):u.attr(s,i,r),t.fromElement?void 0:{destroy:function(){u.attr(s,i,null)}}}},function(e,t,n){function i(e){this.children=e||[]}var r=n(5),o=n(15),a=r.extend(i.prototype,{destroy:function(e){o.destroy(this.children,e),this.ondestroy&&this.ondestroy(),this.children=null},get:function(e){return this.children[e]},push:function(e){this.children.push(e)}});a.inject=a.$inject=o.inject,e.exports=i},function(e){e.exports={COMPONENT_TYPE:1,ELEMENT_TYPE:2,NAMESPACE:{html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"}}},function(e,t,n){function i(e){return function(t){return{type:e,value:t}}}function r(e,t){d[l.END]&&(this.markStart=d[l.END],this.markEnd=l.END),this.input=(e||"").trim(),this.opts=t||{},this.map=2!==this.opts.mode?s:c,this.states=["INIT"],t&&t.expression&&(this.states.push("JST"),this.expression=!0)}function o(e){for(var t,n,i={},r=0,o=e.length;o>r;r++)(i[n=(t=e[r])[2]||"INIT"]||(i[n]={rules:[],links:[]})).rules.push(t);return a(i)}function a(e){function t(e,t){return"string"==typeof f[t]?u.escapeRegExp(f[t]):String(f[t]).slice(1,-1)}var n,r,o,a,s,c,l;for(var d in e){(n=e[d]).curIndex=1,o=[];for(var p=0,h=(r=n.rules).length;h>p;p++)s=(l=r[p])[0],"string"==typeof(a=l[1])&&(a=i(a)),"regexp"===u.typeOf(s)&&(s=s.toString().slice(1,-1)),s=s.replace(/\{(\w+)\}/g,t),c=u.findSubCapture(s)+1,n.links.push([n.curIndex,c,a]),n.curIndex+=c,o.push(s);n.TRUNK=new RegExp("^(?:("+o.join(")|(")+"))")}return e}var s,c,u=n(5),l=n(2),d={"}":"{","]":"["},f={NAME:/(?:[:_A-Za-z][-\.:_0-9A-Za-z]*)/,IDENT:/[\$_A-Za-z][_0-9A-Za-z\$]*/,SPACE:/[\r\n\t\f ]/},p=/a|(b)/.exec("a"),h=p&&void 0===p[1]?function(e){return void 0!==e}:function(e){return!!e},_=r.prototype;_.lex=function(e){e=(e||this.input).trim();var t,n,i,r,o,a=[];for(this.input=e,this.marks=0,this.index=0;e;)o=this.state(),(n=(t=this.map[o]).TRUNK.exec(e))||this.error("Unrecoginized Token"),i=n[0].length,e=e.slice(i),(r=this._process.call(this,n,t,e))&&a.push(r),this.index+=i;return a.push({type:"EOF"}),a},_.error=function(e){throw Error("Parse Error: "+e+":\n"+u.trackErrorPos(this.input,this.index))},_._process=function(e,t,n){for(var i,r=t.links,o=!1,a=r.length,s=0;a>s;s++){var c=r[s],u=c[2],l=c[0];if(h(e[l])){o=!0,u&&(i=u.apply(this,e.slice(l,l+c[1])))&&(i.pos=this.index);break}}if(!o)switch(n.charAt(0)){case"<":this.enter("TAG");break;default:this.enter("JST")}return i},_.enter=function(e){return this.states.push(e),this},_.state=function(){var e=this.states;return e[e.length-1]},_.leave=function(e){var t=this.states;e&&t[t.length-1]!==e||t.pop()},r.setup=function(){f.END=l.END,f.BEGIN=l.BEGIN,s=o([m.ENTER_JST,m.ENTER_TAG,m.TEXT,m.TAG_NAME,m.TAG_OPEN,m.TAG_CLOSE,m.TAG_PUNCHOR,m.TAG_ENTER_JST,m.TAG_UNQ_VALUE,m.TAG_STRING,m.TAG_SPACE,m.TAG_COMMENT,m.JST_OPEN,m.JST_CLOSE,m.JST_COMMENT,m.JST_EXPR_OPEN,m.JST_IDENT,m.JST_SPACE,m.JST_LEAVE,m.JST_NUMBER,m.JST_PUNCHOR,m.JST_STRING,m.JST_COMMENT]),c=o([m.ENTER_JST2,m.TEXT,m.JST_COMMENT,m.JST_OPEN,m.JST_CLOSE,m.JST_EXPR_OPEN,m.JST_IDENT,m.JST_SPACE,m.JST_LEAVE,m.JST_NUMBER,m.JST_PUNCHOR,m.JST_STRING,m.JST_COMMENT])};var m={ENTER_JST:[/[^\x00<]*?(?={BEGIN})/,function(e){return this.enter("JST"),e?{type:"TEXT",value:e}:void 0}],ENTER_JST2:[/[^\x00]*?(?={BEGIN})/,function(e){return this.enter("JST"),e?{type:"TEXT",value:e}:void 0}],ENTER_TAG:[/[^\x00]*?(?=<[\w\/\!])/,function(e){return this.enter("TAG"),e?{type:"TEXT",value:e}:void 0}],TEXT:[/[^\x00]+/,"TEXT"],TAG_NAME:[/{NAME}/,"NAME","TAG"],TAG_UNQ_VALUE:[/[^\{}&"'=><`\r\n\f\t ]+/,"UNQ","TAG"],TAG_OPEN:[/<({NAME})\s*/,function(e,t){return{type:"TAG_OPEN",value:t}},"TAG"],TAG_CLOSE:[/<\/({NAME})[\r\n\f\t ]*>/,function(e,t){return this.leave(),{type:"TAG_CLOSE",value:t}},"TAG"],TAG_ENTER_JST:[/(?={BEGIN})/,function(){this.enter("JST")},"TAG"],TAG_PUNCHOR:[/[\>\/=&]/,function(e){return">"===e&&this.leave(),{type:e,value:e}},"TAG"],TAG_STRING:[/'([^']*)'|"([^"]*)\"/,function(e,t,n){return{type:"STRING",value:t||n||""}},"TAG"],TAG_SPACE:[/{SPACE}+/,null,"TAG"],TAG_COMMENT:[/<\!--([^\x00]*?)--\>/,function(){this.leave()},"TAG"],JST_OPEN:["{BEGIN}#{SPACE}*({IDENT})",function(e,t){return{type:"OPEN",value:t}},"JST"],JST_LEAVE:[/{END}/,function(e){return this.markEnd===e&&this.expression?{type:this.markEnd,value:this.markEnd}:this.markEnd&&this.marks?(this.marks--,{type:this.markEnd,value:this.markEnd}):(this.firstEnterStart=!1,this.leave("JST"),{type:"END"})},"JST"],JST_CLOSE:[/{BEGIN}\s*\/({IDENT})\s*{END}/,function(e,t){return this.leave("JST"),{type:"CLOSE",value:t}},"JST"],JST_COMMENT:[/{BEGIN}\!([^\x00]*?)\!{END}/,function(){this.leave()},"JST"],JST_EXPR_OPEN:["{BEGIN}",function(e){if(e===this.markStart){if(this.expression)return{type:this.markStart,value:this.markStart};if(this.firstEnterStart||this.marks)return this.marks++,this.firstEnterStart=!1,{type:this.markStart,value:this.markStart};this.firstEnterStart=!0}return{type:"EXPR_OPEN",escape:!1}},"JST"],JST_IDENT:["{IDENT}","IDENT","JST"],JST_SPACE:[/[ \r\n\f]+/,null,"JST"],JST_PUNCHOR:[/[=!]?==|[-=><+*\/%\!]?\=|\|\||&&|\@\(|\.\.|[<\>\[\]\(\)\-\|\{}\+\*\/%?:\.!,]/,function(e){return{type:e,value:e}},"JST"],JST_STRING:[/'([^']*)'|"([^"]*)"/,function(e,t,n){return{type:"STRING",value:t||n||""}},"JST"],JST_NUMBER:[/(?:[0-9]*\.[0-9]+|[0-9]+)(e\d+)?/,function(e){return{type:"NUMBER",value:parseFloat(e,10)}},"JST"]};r.setup(),e.exports=r},function(e,t,n){function i(e,t){t=t||{},this.input=e,this.tokens=new s(e,t).lex(),this.pos=0,this.length=this.tokens.length}var r=n(5),o=n(2),a=n(26),s=n(12),c=r.varName,u=r.ctxName,l=r.extName,d=r.makePredicate("STRING IDENT NUMBER"),f=r.makePredicate("true false undefined null this Array Date JSON Math NaN RegExp decodeURI decodeURIComponent encodeURI encodeURIComponent parseFloat parseInt Object"),p=i.prototype;p.parse=function(){this.pos=0;var e=this.program();return"TAG_CLOSE"===this.ll().type&&this.error("You may got a unclosed Tag"),e},p.ll=function(e){0>(e=e||1)&&(e+=1);var t=this.pos+e-1;return t>this.length-1?this.tokens[this.length-1]:this.tokens[t]},p.la=function(e){return(this.ll(e)||"").type},p.match=function(e,t){var n;return(n=this.eat(e,t))?n:(n=this.ll(),void this.error("expect ["+e+(null==t?"":":"+t)+']" -> got "['+n.type+(null==t?"":":"+n.value)+"]",n.pos))},p.error=function(e,t){throw e="\n【 parse failed 】 "+e+":\n\n"+r.trackErrorPos(this.input,"number"==typeof t?t:this.ll().pos||0),new Error(e)},p.next=function(e){e=e||1,this.pos+=e},p.eat=function(e,t){var n=this.ll();if("string"!=typeof e){for(var i=e.length;i--;)if(n.type===e[i])return this.next(),n}else if(n.type===e&&(void 0===t||n.value===t))return this.next(),n;return!1},p.program=function(){for(var e=[],t=this.ll();"EOF"!==t.type&&"TAG_CLOSE"!==t.type;)e.push(this.statement()),t=this.ll();return e},p.statement=function(){var e=this.ll();switch(e.type){case"NAME":case"TEXT":var t=e.value;for(this.next();e=this.eat(["NAME","TEXT"]);)t+=e.value;return a.text(t);case"TAG_OPEN":return this.xml();case"OPEN":return this.directive();case"EXPR_OPEN":return this.interplation();default:this.error("Unexpected token: "+this.la())}},p.xml=function(){var e,t,n,i;return e=this.match("TAG_OPEN").value,t=this.attrs(),i=this.eat("/"),this.match(">"),i||r.isVoidTag(e)||(n=this.program(),this.eat("TAG_CLOSE",e)||this.error("expect </"+e+"> gotno matched closeTag")),a.element(e,t,n)},p.xentity=function(e){var t,n,i=e.value;if("NAME"===e.type){if(~i.indexOf(".")){var r=i.split(".");i=r[0],n=r[1]}return this.eat("=")&&(t=this.attvalue(n)),a.attribute(i,t,n)}return"if"!==i&&this.error("current version. ONLY RULE #if #else #elseif is valid in tag, the rule #"+i+" is invalid"),this.if(!0)},p.attrs=function(e){var t;t=e?["NAME"]:["NAME","OPEN"];for(var n,i=[];n=this.eat(t);)i.push(this.xentity(n));return i},p.attvalue=function(e){var t=this.ll();switch(t.type){case"NAME":case"UNQ":case"STRING":this.next();var n=t.value;if(~n.indexOf(o.BEGIN)&&~n.indexOf(o.END)&&"cmpl"!==e){var r=!0,s=new i(n,{mode:2}).parse();if(1===s.length&&"expression"===s[0].type)return s[0];var c=[];s.forEach((function(e){e.constant||(r=!1),c.push(e.body||"'"+e.text.replace(/'/g,"\\'")+"'")})),c="["+c.join(",")+"].join('')",n=a.expression(c,null,r)}return n;case"EXPR_OPEN":return this.interplation();default:this.error("Unexpected token: "+this.la())}},p.directive=function(){var e=this.ll().value;return this.next(),"function"==typeof this[e]?this[e]():void this.error("Undefined directive["+e+"]")},p.interplation=function(){this.match("EXPR_OPEN");var e=this.expression(!0);return this.match("END"),e},p.inc=p.include=function(){var e=this.expression();return this.match("END"),a.template(e)},p.if=function(e){var t,n,i=this.expression(),r=[],o=[],s=r,c=e?"attrs":"statement";for(this.match("END");!(n=this.eat("CLOSE"));)if("OPEN"===(t=this.ll()).type)switch(t.value){case"else":s=o,this.next(),this.match("END");break;case"elseif":return this.next(),o.push(this.if(e)),a.if(i,r,o);default:s.push(this[c](!0))}else s.push(this[c](!0));return"if"!==n.value&&this.error("Unmatched if directive"),a.if(i,r,o)},p.list=function(){var e,t,n,i=this.expression(),r=[],o=[],s=r;for(this.match("IDENT","as"),e=this.match("IDENT").value,this.eat("IDENT","by")&&(this.eat("IDENT",e+"_index")||(n=this.expression()).constant)&&(n=!0),this.match("END");!(t=this.eat("CLOSE"));)this.eat("OPEN","else")?(s=o,this.match("END")):s.push(this.statement());return"list"!==t.value&&this.error("expect list got /"+t.value+" ",t.pos),a.list(i,e,r,o,n)},p.expression=function(){var e;return this.eat("@(")?((e=this.expr()).once=!0,this.match(")")):e=this.expr(),e},p.expr=function(){this.depend=[];var e=this.filter(),t=e.get||e,n=e.set;return a.expression(t,n,!this.depend.length)},p.filter=function(){var e,t,n,i=this.assign(),o=this.eat("|"),a=[],s="t",c=i.set,l="";if(o){c&&(e=[]),t="(function(t){";do{l="t = "+u+"._f_('"+this.match("IDENT").value+"' ).get.call( "+r.ctxName+","+s,l+=this.eat(":")?", "+this.arguments("|").join(",")+");":");",a.push(l),e&&e.unshift(l.replace(" ).get.call"," ).set.call"))}while(o=this.eat("|"));return a.push("return t"),e&&e.push("return t"),n=t+a.join("")+"})("+i.get+")",e&&(c=c.replace(r.setName,t+e.join("")+"})("+r.setName+")")),this.getset(n,c)}return i},p.assign=function(){var e,t=this.condition();return(e=this.eat(["=","+=","-=","*=","/=","%="]))?(t.set||this.error("invalid lefthand expression in assignment expression"),this.getset(t.set.replace(","+r.setName,","+this.condition().get).replace("'='","'"+e.type+"'"),t.set)):t},p.condition=function(){var e=this.or();return this.eat("?")?this.getset([e.get+"?",this.assign().get,this.match(":").type,this.assign().get].join("")):e},p.or=function(){var e=this.and();return this.eat("||")?this.getset(e.get+"||"+this.or().get):e},p.and=function(){var e=this.equal();return this.eat("&&")?this.getset(e.get+"&&"+this.and().get):e},p.equal=function(){var e,t=this.relation();return(e=this.eat(["==","!=","===","!=="]))?this.getset(t.get+e.type+this.equal().get):t},p.relation=function(){var e,t=this.additive();return(e=this.eat(["<",">",">=","<="])||this.eat("IDENT","in"))?this.getset(t.get+e.value+this.relation().get):t},p.additive=function(){var e,t=this.multive();return(e=this.eat(["+","-"]))?this.getset(t.get+e.value+this.additive().get):t},p.multive=function(){var e,t=this.range();return(e=this.eat(["*","/","%"]))?this.getset(t.get+e.type+this.multive().get):t},p.range=function(){var e,t=this.unary();if(this.eat("..")){e=this.unary();var n="(function(start,end){var res = [],step=end>start?1:-1; for(var i = start; end>start?i <= end: i>=end; i=i+step){res.push(i); } return res })("+t.get+","+e.get+")";return this.getset(n)}return t},p.unary=function(){var e;return(e=this.eat(["+","-","~","!"]))?this.getset("("+e.type+this.unary().get+")"):this.member()},p.member=function(e,t,n,i){var o,a,s=!1;if(e?"string"==typeof t&&d(t)?n.push(t):(n&&n.length&&this.depend.push(n),n=null):"string"===_typeof(a=this.primary())?((n=[]).push(a),t=a,e=u+"._sg_('"+a+"', "+c+", "+l+")",s=!0):"this"===a.get?(e=u,n=["this"]):(n=null,e=a.get),o=this.eat(["[",".","("]))switch(o.type){case".":var f=this.match("IDENT").value;return i=e,"("!==this.la()?e=u+"._sg_('"+f+"', "+e+")":e+="['"+f+"']",this.member(e,f,n,i);case"[":return a=this.assign(),i=e,"("!==this.la()?e=u+"._sg_("+a.get+", "+e+")":e+="["+a.get+"]",this.match("]"),this.member(e,a,n,i);case"(":return e=e+"("+this.arguments().join(",")+")",this.match(")"),this.member(e,null,n)}n&&n.length&&this.depend.push(n);var p={get:e};return t&&(p.set=u+"._ss_("+(t.get?t.get:"'"+t+"'")+","+r.setName+","+(i||r.varName)+", '=', "+(s?1:0)+")"),p},p.arguments=function(e){e=e||")";var t=[];do{this.la()!==e&&t.push(this.assign().get)}while(this.eat(","));return t},p.primary=function(){var e=this.ll();switch(e.type){case"{":return this.object();case"[":return this.array();case"(":return this.paren();case"STRING":this.next();var t=""+e.value,n=~t.indexOf("'")?'"':"'";return this.getset(n+t+n);case"NUMBER":return this.next(),this.getset(""+e.value);case"IDENT":return this.next(),f(e.value)?this.getset(e.value):e.value;default:this.error("Unexpected Token: "+e.type)}},p.object=function(){for(var e=[this.match("{").type],t=this.eat(["STRING","IDENT","NUMBER"]);t;){e.push("'"+t.value+"'"+this.match(":").type);var n=this.assign().get;e.push(n),t=null,this.eat(",")&&(t=this.eat(["STRING","IDENT","NUMBER"]))&&e.push(",")}return e.push(this.match("}").type),{get:e.join("")}},p.array=function(){var e,t=[this.match("[").type];if(this.eat("]"))t.push("]");else{for(;(e=this.assign())&&(t.push(e.get),this.eat(","));)t.push(",");t.push(this.match("]").type)}return{get:t.join("")}},p.paren=function(){this.match("(");var e=this.filter();return e.get="("+e.get+")",this.match(")"),e},p.getset=function(e,t){return{get:e,set:t}},e.exports=i},function(e,t,n){function i(e,t,n){return function(){var i=this.supr;this.supr=n[e];var r=t.apply(this,arguments);return this.supr=i,r}}function r(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(c[r]&&c[r](t[r],e,n),e[r]=s(t[r])&&s(n[r])&&a.test(t[r])?i(r,t[r],n):t[r])}var o=n(5),a=/xy/.test((function(){}))?/\bsupr\b/:/.*/,s=function(e){return"function"==typeof e},c={events:function(e,t){var n=t._eventListeners||[],i=o.normListener(e);i.length&&(t._eventListeners=n.concat(i)),delete t.events}},u=["data","computed"],l=u.length;e.exports=function e(t){function n(){s.apply(this,arguments)}function i(e){for(var t=l;t--;){var n=u[t];a[n]&&e.hasOwnProperty(n)&&a.hasOwnProperty(n)&&(o.extend(a[n],e[n],!0),delete e[n])}return r(a,e,c),this}t=t||{};var a,s=this,c=s&&s.prototype||{};return"function"==typeof t?(a=t.prototype,t.implement=i,t.extend=e,t):(a=o.createProto(n,c),n.implement=i,n.implement(t),s.__after__&&s.__after__.call(n,s,t),n.extend=e,n)}},function(e,t,n){var i=n(4),r=n(22),o=e.exports={node:function(e){var t,n,i;if(e){if(e.element)return e.element;if("function"==typeof e.node)return e.node();if("number"==typeof e.nodeType)return e;if(e.group)return o.node(e.group);if(t=e.children){if(1===t.length)return o.node(t[0]);i=[];for(var r=0,a=t.length;a>r;r++)n=o.node(t[r]),Array.isArray(n)?i.push.apply(i,n):n&&i.push(n);return i}}},inject:function(e,t){var n=this,a=o.node(n.group||n);if(!1===e)return r.remove(a),n;if(!a)return n;if("string"==typeof e&&(e=i.find(e)),!e)throw Error("injected node is not found");if(r.inject(a,e,t),n.$emit){var s=n.parentNode,c="after"===t||"before"===t?e.parentNode:e;n.parentNode=c,n.$emit("$inject",e,t,s)}return n},last:function(e){var t=e.children;return"function"==typeof e.last?e.last():"number"==typeof e.nodeType?e:t&&t.length?o.last(t[t.length-1]):e.group?o.last(e.group):void 0},destroy:function(e,t){if(e){if(Array.isArray(e))for(var n=0,r=e.length;r>n;n++)o.destroy(e[n],t);var a=e.children;if("function"==typeof e.destroy)return e.destroy(t);"number"==typeof e.nodeType&&t&&i.remove(e),a&&a.length&&(o.destroy(a,!0),e.children=null)}}};i.element=function(e,t){if(!e)return t?[]:null;var n=o.node(e);if(1===n.nodeType)return t?[n]:n;for(var i=[],r=0;r<n.length;r++){var a=n[r];if(a&&1===a.nodeType){if(!t)return a;i.push(a)}}return t?i:i[0]}},function(e,t,n){function i(){}var r=[].slice,o=n(5),a={$on:function(e,t,n){if("object"==_typeof(e)&&e)for(var i in e)this.$on(i,e[i],t);else{n=n||{};var r,o=this._handles||(this._handles={}),a=o[e]||(o[e]=[]);n.once&&(r=function(){t.apply(this,arguments),this.$off(e,t)},t.real=r),a.push(r||t)}return this},$off:function(e,t){var n=this;if(n._handles){e||(this._handles={});var i,r=n._handles;if(i=r[e]){if(!t)return r[e]=[],n;t=t.real||t;for(var o=0,a=i.length;a>o;o++)if(t===i[o])return i.splice(o,1),n}return n}},$emit:function(e){var t,n=this,i=n._handles;if(e){var o,a=r.call(arguments,1);if(!i)return n;if(t=i[(o=e).slice(1)])for(var s=0,c=t.length;c>s;s++)t[s].apply(n,a);if(!(t=i[o]))return n;var u=0;for(c=t.length;c>u;u++)t[u].apply(n,a);return n}},$once:function(){var e=o.slice(arguments);return e.push({once:!0}),this.$on.apply(this,e)}};o.extend(i.prototype,a),i.mixTo=function(e){e="function"==typeof e?e.prototype:e,o.extend(e,a)},e.exports=i},function(e,t,n){function i(){}var r=n(5),o=n(18).expression,a=n(25),s=a.diffArray,c=a.diffObject,u={$watch:function(e,t,n){var i,a,s,c,u=this.__ext__;this._watchers||(this._watchers=[]),!0===(n=n||{})&&(n={deep:!0});var l=r.uid("w_");if(Array.isArray(e)){for(var d=[],f=0,p=e.length;p>f;f++)d.push(this.$expression(e[f]).get);var h=[];s=function(e){for(var t=!0,n=0,i=d.length;i>n;n++){var o=d[n](e,u);r.equals(o,h[n])||(t=!1,h[n]=r.clone(o))}return!t&&h}}else"function"==typeof e?i=e.bind(this):(i=(e=this._touchExpr(o(e))).get,a=e.once);var _={id:l,get:i,fn:t,once:a,force:n.force,diff:n.diff,test:s,deep:n.deep,last:n.sync?i(this):n.last};if(this._watchers.push(_),(c=this._records&&this._records.length)&&this._records[c-1].push(l),!0===n.init){var m=this.$phase;this.$phase="digest",this._checkSingleWatch(_,this._watchers.length-1),this.$phase=m}return _},$unwatch:function(e){if(this._watchers&&e){var t=this._watchers;if("number"==typeof e){var n=e;return e=r.findItem(t,(function(e){return e.id===n})),this.$unwatch(e)}var i=e.length;if(i)for(;i-- >=0;)this.$unwatch(e[i]);else e.removed=!0}},$expression:function(e){return this._touchExpr(o(e))},$digest:function(){if("digest"!==this.$phase&&!this._mute){this.$phase="digest";for(var e=0;this._digest();)if(++e>20)throw Error("there may a circular dependencies reaches");e>0&&this.$emit&&(this.$emit("$update"),this.devtools&&this.devtools.emit("flush",this)),this.$phase=null}},_digest:function(){var e,t,n=this._watchers,i=!1,r=n&&n.length;if(r)for(var o=0;r>o;o++)!(t=n[o])||t.removed?(n.splice(o--,1),r--):this._checkSingleWatch(t,o)&&(i=!0);if((e=this._children)&&e.length)for(var a=0,s=e.length;s>a;a++){var c=e[a];c&&c._digest()&&(i=!0)}return i},_checkSingleWatch:function(e,t){var n=!1;if(e){var i,o,a,u,l;if(e.test){var d=e.test(this);d&&(n=!0,e.fn.apply(this,d))}else i=e.get(this),o=e.last,a=r.typeOf(o),"object"===(u=r.typeOf(i))&&"object"===a&&e.deep?(!0===(l=c(i,o,e.diff))||l.length)&&(n=!0):"array"!==u||"undefined"!=a&&"array"!==a?(!r.equals(i,o)||e.force)&&(e.force=null,n=!0):(l=s(i,e.last||[],e.diff),("array"!==a||!0===l||l.length)&&(n=!0));return n&&!e.test&&(e.last="object"===u&&e.deep||"array"===u?r.clone(i):i,e.fn.call(this,i,o,l),e.once&&this._watchers.splice(t,1)),n}},$set:function(e,t){if(null!=e){var n=r.typeOf(e);if("string"===n||"expression"===e.type)(e=this.$expression(e)).set(this,t);else if("function"===n)e.call(this,this.data);else for(var i in e)this.$set(i,e[i])}},$get:function(e,t){return t&&"string"==typeof e?e:this.$expression(e).get(this)},$update:function(){var e=this;do{if(e.data.isolate||!e.$parent)break;e=e.$parent}while(e);var t=e.$phase;return e.$phase="digest",this.$set.apply(this,arguments),e.$phase=t,e.$digest(),this},_record:function(){this._records||(this._records=[]),this._records.push([])},_release:function(){return this._records.pop()}};r.extend(i.prototype,u),i.mixTo=function(e){return e="function"==typeof e?e.prototype:e,r.extend(e,u)},e.exports=i},function(e,t,n){var i=n(1).exprCache,r=(n(5),n(13));e.exports={expression:function(e){return"string"==typeof e&&(e=e.trim())&&(e=i.get(e)||i.set(e,new r(e,{mode:2,expression:!0}).expression())),e||void 0},parse:function(e){return new r(e).parse()}}},function(e){var t=e.exports={};t.json={get:function(e){return"undefined"!=typeof JSON?JSON.stringify(e):e},set:function(e){return"undefined"!=typeof JSON?JSON.parse(e):e}},t.last=function(e){return e&&e[e.length-1]},t.average=function(e,n){return(e=e||[]).length?t.total(e,n)/e.length:0},t.total=function(e,t){var n=0;if(e)return e.forEach((function(e){n+=t?e[t]:e})),n}},function(e){function t(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return t}var n=[].slice,i={}.toString;e.exports=function(){t(String.prototype,{trim:function(){return this.replace(/^\s+|\s+$/g,"")}}),t(Array.prototype,{indexOf:function(e,t){for(var n=t=t||0,i=this.length;i>n;n++)if(this[n]===e)return n;return-1},forEach:function(e,t){var n=0,i=Object(this),r=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(;r>n;){var o;n in i&&(o=i[n],e.call(t,o,n,i)),n++}},filter:function(e,t){var n=Object(this),i=n.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],o=0;i>o;o++)if(o in n){var a=n[o];e.call(t,a,o,n)&&r.push(a)}return r}}),t(Function.prototype,{bind:function(e){var t=this,i=n.call(arguments,1);return function(){var r=i.concat(n.call(arguments));return t.apply(e,r)}}}),t(Array,{isArray:function(e){return"[object Array]"===i.call(e)}})}},function(e){e.exports={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,bull:8226,hellip:8230,prime:8242,Prime:8243,oline:8254,frasl:8260,weierp:8472,image:8465,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,circ:710,tilde:732,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,permil:8240,lsaquo:8249,rsaquo:8250,euro:8364}},function(e,t,n){function i(e){var t,n=0,i=0,o=0,a=0,s=0;return window.getComputedStyle&&(i=r((t=window.getComputedStyle(e))[d+"Duration"])||i,o=r(t[d+"Delay"])||o,a=r(t[f+"Duration"])||a,s=r(t[f+"Delay"])||s,n=Math.max(i+o,a+s)),1e3*n*(5/3)}function r(e){var t,n=0;return e?(e.split(",").forEach((function(e){(t=parseFloat(e))>n&&(n=t)})),n):0}var o=n(5),a=n(4),s={},c=n(1),u="transitionend",l="animationend",d="transition",f="animation";"ontransitionend"in window||("onwebkittransitionend"in window?(u+=" webkitTransitionEnd",d="webkitTransition"):("onotransitionend"in a.tNode||"Opera"===navigator.appName)&&(u+=" oTransitionEnd",d="oTransition")),"onanimationend"in window||("onwebkitanimationend"in window?(l+=" webkitAnimationEnd",f="webkitAnimation"):"onoanimationend"in a.tNode&&(l+=" oAnimationEnd",f="oAnimation")),s.inject=function(e,t,n,i){if(i=i||o.noop,Array.isArray(e)){for(var r=a.fragment(),s=0,c=0,u=e.length;u>c;c++)r.appendChild(e[c]);a.inject(r,t,n);var l=function(){++s===u&&i()};for(u===s&&i(),c=0;u>c;c++)e[c].onenter?e[c].onenter(l):l()}else a.inject(e,t,n),e.onenter?e.onenter(i):i()},s.remove=function(e,t){function n(){++i===o&&t&&t()}if(e){var i=0;if(Array.isArray(e)){for(var r=0,o=e.length;o>r;r++)s.remove(e[r],n);return e}e.onleave?e.onleave((function(){p(e,t)})):p(e,t)}};var p=function(e,t){a.remove(e),t&&t()};s.startClassAnimate=function(e,t,n,r){var s,d,f,p;return!l&&!u||c.isRunning?n():(p=o.once(4!==r?function(){f&&clearTimeout(f),2===r&&a.delClass(e,s),3!==r&&a.delClass(e,t),a.off(e,l,p),a.off(e,u,p),n()}:function(){f&&clearTimeout(f),n()}),2===r?(a.addClass(e,t),s=o.map(t.split(/\s+/),(function(e){return e+"-active"})).join(" "),a.nextReflow((function(){a.addClass(e,s),d=i(e),f=setTimeout(p,d)}))):a.nextReflow(4===r?function(){a.delClass(e,t),d=i(e),f=setTimeout(p,d)}:function(){a.addClass(e,t),d=i(e),f=setTimeout(p,d)}),a.on(e,l,p),a.on(e,u,p),p)},s.startStyleAnimate=function(e,t,n){var r,s,c;return a.nextReflow((function(){a.css(e,t),r=i(e),c=setTimeout(s,r)})),s=o.once((function(){c&&clearTimeout(c),a.off(e,l,s),a.off(e,u,s),n()})),a.on(e,l,s),a.on(e,u,s),s},e.exports=s},function(e,t,n){var i=n(5),r=n(4),o=n(3);o._addProtoInheritCache("event"),o.directive(/^on-\w+$/,(function(e,t,n,i){if(n&&t){var r=n.split("-")[1];return this._handleEvent(e,r,t,i)}})),o.directive(/^(delegate|de)-\w+$/,(function(e,t,n){function o(e){!function(e,t,n){if(n)for(var i,r=e.target;r&&r!==n;){for(var o=0,a=t.length;a>o;o++)(i=t[o])&&i.element===r&&i.fire(e);r=r.parentNode}}(e,s[c],a.parentNode)}var a=this.$root,s=a._delegates||(a._delegates={});if(n&&t){var c=n.split("-")[1],u=i.handleEvent.call(this,t,c);s[c]||(s[c]=[],a.parentNode?r.on(a.parentNode,c,o):a.$on("$inject",(function(e,t,n){var i=this.parentNode;n&&r.off(n,c,o),i&&r.on(this.parentNode,c,o)})),a.$on("$destroy",(function(){a.parentNode&&r.off(a.parentNode,c,o),s[c]=null})));var l={element:e,fire:u};return s[c].push(l),function(){var e=s[c];if(e&&e.length)for(var t=0,n=e.length;n>t;t++)e[t]===l&&e.splice(t,1)}}}))},function(e,t,n){var i,r=n(5),o=n(4),a=n(3),s={text:function(e,t,n){var a,s=n.param,c=s.lazy;"throttle"in s&&(a=!0===s[a]?400:parseInt(s.throttle,10));var u=this,l=this.$watch(t,(function(t){e.value!==t&&(e.value=null==t?"":""+t)})),d=function(e){var n=this;if("cut"===e.type||"paste"===e.type)r.nextTick((function(){var e=n.value;t.set(u,e),l.last=e,u.$update()}));else{var i=n.value;t.set(u,i),l.last=i,u.$update()}};return a&&!c&&(d=r.throttle(d,a)),void 0===i&&(i=9!==o.msie&&"oninput"in document.createElement("input")),c?o.on(e,"change",d):i?e.addEventListener("input",d):o.on(e,"paste keyup cut change",d),void 0===t.get(u)&&e.value&&t.set(u,e.value),function(){return c?o.off(e,"change",d):void(i?e.removeEventListener("input",d):o.off(e,"paste keyup cut change",d))}},select:function(e,t){function n(){t.set(i,this.value),r.last=this.value,i.$update()}var i=this,r=this.$watch(t,(function(t){for(var n=e.getElementsByTagName("option"),i=0,r=n.length;r>i;i++)if(n[i].value==t){e.selectedIndex=i;break}}));return o.on(e,"change",n),void 0===t.get(i)&&e.value&&t.set(i,e.value),function(){o.off(e,"change",n)}},checkbox:function(e,t){var n=this,i=this.$watch(t,(function(t){o.attr(e,"checked",!!t)})),r=function(){var e=this.checked;t.set(n,e),i.last=e,n.$update()};return t.set&&o.on(e,"change",r),void 0===t.get(n)&&t.set(n,!!e.checked),function(){t.set&&o.off(e,"change",r)}},radio:function(e,t){var n=this,i=(this.$watch(t,(function(t){e.checked=t==e.value})),function(){var e=this.value;t.set(n,e),n.$update()});return t.set&&o.on(e,"change",i),void 0===t.get(n)&&e.checked&&t.set(n,e.value),function(){t.set&&o.off(e,"change",i)}}};a.directive("r-model",{param:["throttle","lazy"],link:function(e,t,n,i){var r=e.tagName.toLowerCase(),o=r;return"input"===o?o=e.type||"text":"textarea"===o&&(o="text"),"string"==typeof t&&(t=this.$expression(t)),s[o]?s[o].call(this,e,t,i):"input"===r?s.text.call(this,e,t,i):void 0}})},function(e,t,n){function i(e,t){return e===t}function r(e,t,n){for(var r=e.length,o=t.length,a=(n=n||i,[]),s=0;r>=s;s++)a.push([s]);for(var c=1;o>=c;c++)a[0][c]=c;for(s=1;r>=s;s++)for(c=1;o>=c;c++)a[s][c]=n(e[s-1],t[c-1])?a[s-1][c-1]:Math.min(a[s-1][c]+1,a[s][c-1]+1);return a}function o(e,t,n,i){if(!n)return function(e,t){var n=e.length;if(n!==t.length)return!0;for(var i=0;n>i;i++)if(e[i]!==t[i])return!0;return!1}(e,t);for(var o=r(t,e,i),a=_=t.length,s=e.length,c=s,u=[],l=o[a][c];a>0||c>0;)if(0!==a)if(0!==c){var d=o[a-1][c-1],f=o[a-1][c],p=o[a][c-1],h=Math.min(p,f,d);h===f?(u.unshift(2),a--,l=f):h===d?(d===l?u.unshift(0):(u.unshift(1),l=d),a--,c--):(u.unshift(3),c--,l=p)}else u.unshift(2),a--;else u.unshift(3),c--;var _=0;s=0;var m=[],v={index:null,add:0,removed:[]};for(a=0;a<u.length;a++)switch(u[a]>0?null===v.index&&(v.index=s):null!=v.index&&(m.push(v),v={index:null,add:0,removed:[]}),u[a]){case 0:_++,s++;break;case 3:v.add++,s++;break;case 2:v.removed.push(t[_]),_++;break;case 1:v.add++,v.removed.push(t[_]),_++,s++}return null!=v.index&&m.push(v),m}var a=n(5);e.exports={diffArray:o,diffObject:function(e,t,n){if(n)return o(a.keys(e),a.keys(t),n,(function(n,i){return e[i]===t[n]}));for(var i in e)if(t[i]!==e[i])return!0;for(var r in t)if(t[r]!==e[r])return!0;return!1}}},function(e){e.exports={element:function(e,t,n){return{type:"element",tag:e,attrs:t,children:n}},attribute:function(e,t,n){return{type:"attribute",name:e,value:t,mdf:n}},if:function(e,t,n){return{type:"if",test:e,consequent:t,alternate:n}},list:function(e,t,n,i,r){return{type:"list",sequence:e,alternate:i,variable:t,body:n,track:r}},expression:function(e,t,n){return{type:"expression",body:e,constant:n||!1,setbody:t||!1}},text:function(e){return{type:"text",text:e}},template:function(e){return{type:"template",content:e}}}}])},"object"==_typeof(exports)&&"object"==_typeof(module)?module.exports=window.Regular=e():void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=e)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),"undefined"==typeof I$&&(I$=function(){var e={},t=function(){return!1},n={},i=function(t,n){return e.toString.call(t)==="[object "+n+"]"};return function(e,r){var o=n[e],a=i(r,"Function");if(null==r||a||(o=r),a&&(null==o||!0===o.__dt__)){for(var s=[],c=2,u=arguments.length;c<u;c++)s.push(arguments.callee(arguments[c]));var l={};s.push.call(s,l,{},t,[]);var d=r.apply(null,s)||l;if(o&&i(d,"Object"))if(Object.keys){var f=Object.keys(d);for(c=0,u=f.length;c<u;c++)o[p=f[c]]=d[p]}else for(var p in d)o[p]=d[p];else o=d;null!=o&&!0===o.__dt__&&delete o.__dt__}return null==o&&(o={__dt__:!0}),n[e]=o,o}}()),I$("d11f8a28377d859950888fd1388cd748",'<div class="ux-video-player" ref=playerNode>\n\n    \x3c!-- 提示 --\x3e\n    {#if showTip}\n    <div class="ux-video-player_tip" r-class="{{\'ux-video-player_tip-wap\':isWap}}">\n        <div class="emid">\n            <div class="f-ib eic"></div>\n            <span class="f-ib" r-html={tipMsg}></span>\n        </div>\n    </div>\n    {/if}\n</div>\n'),I$("10729f9217257b071836a9557f270c22",'@charset "UTF-8";\n/* em-base */\n/* Height */\n/* Font Size */\n/* Padding */\n/* Border Radius */\n/* Brand Colors */\n/* Gray Colors */\n/* Base Colors */\n/* Shadow */\n/* dropdown */\n/* Dimensions */\n/* Colors */\n/* Form Control Item */\n/* Font Family */\n/* 衬线字体 */\n/* 非衬线字体 */\n/* 根据视觉稿为640 */\n/* 字体 */\n.ux-video-player .f-fl {\n  float: left;\n}\n.ux-video-player .f-fr {\n  float: right;\n}\n.ux-video-player .f-cb:after, .ux-video-player .f-cbli li:after {\n  display: block;\n  clear: both;\n  visibility: hidden;\n  height: 0;\n  overflow: hidden;\n  content: ".";\n}\n.ux-video-player .f-clearfix:after {\n  content: "";\n  display: table;\n  clear: both;\n}\n.ux-video-player .f-cb, .ux-video-player .f-cbli li {\n  zoom: 1;\n}\n.ux-video-player .f-cl {\n  clear: left;\n}\n.ux-video-player .f-cr {\n  clear: right;\n}\n.ux-video-player .f-clr {\n  clear: both;\n}\n.ux-video-player .f-thide {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.ux-video-player .f-hide {\n  text-indent: -9999px;\n  overflow: hidden;\n}\n.ux-video-player .f-tc {\n  text-align: center;\n}\n.ux-video-player .f-tl {\n  text-align: left;\n}\n.ux-video-player .f-ib {\n  display: inline-block;\n  zoom: 1;\n  *display: inline;\n}\n.ux-video-player .f-dn {\n  display: none;\n}\n.ux-video-player .f-db {\n  display: block;\n}\n.ux-video-player .f-pr {\n  position: relative;\n}\n.ux-video-player .f-pa {\n  position: absolute;\n}\n.ux-video-player .f-pf {\n  position: fixed;\n}\n.ux-video-player ul {\n  list-style-type: none;\n}\n.ux-video-player li {\n  list-style: none;\n  margin: 0;\n}\n\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n/* h5播放器的样式，适配移动端，必要时一个组件提供两套样式 */\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n.z-x5-video-fullscreen-landscape .ux-video-player {\n  z-index: 9999;\n}\n\n.z-x5-video-fullscreen .ux-video-player .j-reloadBtn {\n  display: none;\n}\n\n.u-edu-h5player-mobiledisplay .sbg, .u-edu-h5player-mobiledisplay .bbg, .u-edu-h5player-mobiledisplay.full, .u-edu-h5player-mobilecover, .u-edu-h5player-mobileerror, .u-edu-h5player-pcdisplay .bbg, .u-edu-h5player-pcdisplay, .u-edu-h5player-cover, .u-edu-h5player-error, .u-edu-h5player-pread video, .u-edu-h5player-pread, .u-edu-h5player-mainvideo video, .u-edu-h5player-mainvideo, .u-edu-h5player .bg, .u-edu-h5player {\n  width: 100%;\n  height: 100%;\n}\n\n/* 全屏时body样式 */\n.u-edu-h5player-bodyfullWindow {\n  padding: 0;\n  margin: 0;\n  height: 100%;\n  overflow-y: auto;\n  -webkit-text-size-adjust: none;\n  -moz-text-size-adjust: none;\n  -ms-text-size-adjust: none;\n  text-size-adjust: none;\n}\n\n.u-edu-h5player {\n  position: relative;\n  font-size: 14px;\n  font-family: "Arial", "Hiragino Sans GB", 微软雅黑, "Helvetica", "sans-serif";\n  color: #999;\n  overflow: hidden;\n  /* 全屏样式 */\n  /* 背景 */\n  /* 链接 */\n}\n.u-edu-h5player.u-edu-h5player-fullWindow {\n  position: fixed;\n  overflow: hidden;\n  z-index: 2147483647;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: 100% !important;\n  height: 100% !important;\n}\n.u-edu-h5player .bg {\n  background: #000;\n  z-index: 1;\n}\n.u-edu-h5player a {\n  color: #2aa126;\n}\n.u-edu-h5player .f-vh {\n  visibility: hidden;\n}\n\n/* 通用组件样式 */\n/* main video */\n.u-edu-h5player-mainvideo {\n  z-index: 2;\n  left: 0;\n  top: 0;\n}\n/* 片头视频 */\n.u-edu-h5player-pread {\n  display: none;\n  z-index: 4;\n}\n.u-edu-h5player-pread-cover {\n  display: none;\n  opacity: 0;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 999;\n}\n.u-edu-h5player-pread-cover.z-show {\n  display: block;\n}\n\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n.u-edu-h5player-log {\n  visibility: hidden;\n  opacity: 0;\n  background: #333;\n  transition: 0.3s opacity;\n  z-index: 888;\n  width: 300px;\n  height: 200px;\n  top: 2px;\n  left: 2px;\n}\n.u-edu-h5player-log.z-show {\n  visibility: visible;\n  opacity: 0.85;\n}\n.u-edu-h5player-log_close {\n  right: 4px;\n  top: 2px;\n  font-size: 12px;\n  cursor: pointer;\n}\n.u-edu-h5player-log p {\n  padding: 0px 5px 5px 5px;\n  margin: 20px 0 0 0;\n  color: #fff;\n  font-size: 12px;\n  line-height: 1.6;\n  overflow: auto;\n  height: 175px;\n  text-align: left;\n}\n.u-edu-h5player-log p::-webkit-scrollbar {\n  width: 10px;\n  height: 10px;\n  background-color: transparent;\n}\n.u-edu-h5player-log p::-webkit-scrollbar-thumb {\n  border-width: 2px;\n  border-style: solid;\n  border-color: transparent;\n  border-radius: 0.8rem;\n  background-color: #cdd0d6;\n  background-clip: padding-box;\n}\n.u-edu-h5player-log p::-webkit-scrollbar-thumb:hover {\n  background-color: #adb5c3;\n}\n\n/* web 组件样式 */\n.u-edu-h5player-error {\n  display: none;\n  left: 0;\n  top: 0;\n  background: #000;\n  z-index: 100;\n}\n.u-edu-h5player-error.z-disall {\n  z-index: 100;\n}\n.u-edu-h5player-error.z-dis {\n  z-index: 9;\n}\n.u-edu-h5player-error .emid {\n  line-height: 18px;\n  height: 18px;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 50%;\n  margin-top: -9px;\n  text-align: center;\n}\n.u-edu-h5player-error .emid .eic {\n  margin-right: 3px;\n  vertical-align: top;\n  width: 18px;\n  height: 18px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 66.66667% 10.38961%;\n}\n.u-edu-h5player-error .bwarp {\n  position: absolute;\n  width: 100%;\n  height: auto;\n  left: 0;\n  top: 52%;\n  text-align: center;\n  margin-top: 10px;\n}\n.u-edu-h5player-error .bwarp .reloadbtn {\n  text-align: center;\n  line-height: 22px;\n  height: 22px;\n  color: #2aa126;\n  border: 1px solid #2aa126;\n  border-radius: 4px;\n  width: 70px;\n}\n\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n/* 封面 */\n.u-edu-h5player-cover {\n  display: none;\n  left: 0;\n  top: 0;\n  cursor: pointer;\n  overflow: hidden;\n  text-align: center;\n  background: #000;\n  z-index: 99;\n}\n.u-edu-h5player-cover .cimg {\n  top: 50%;\n  left: 50%;\n}\n.u-edu-h5player-cover .playbtnwrap {\n  width: 90px;\n  height: 90px;\n  top: 50%;\n  left: 50%;\n  margin: -45px 0 0 -45px;\n}\n.u-edu-h5player-cover .playbtnwrap .cbg {\n  opacity: 0.8;\n  background: #000;\n  width: 100%;\n  height: 100%;\n  border-radius: 5px;\n}\n.u-edu-h5player-cover .playbtnwrap .playbtn {\n  top: 29px;\n  left: 33px;\n  width: 24px;\n  height: 32px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 87.7551%;\n}\n.u-edu-h5player-cover .playbtnwrap:hover .playbtn {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 76.87075%;\n}\n\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n.u-edu-h5player-pcdisplay {\n  left: 0;\n  top: 0;\n  cursor: pointer;\n  z-index: 4;\n}\n.u-edu-h5player-pcdisplay .bbg {\n  opacity: 0;\n  background: #000;\n}\n.u-edu-h5player-pcdisplay .statewrap {\n  width: 90px;\n  height: 90px;\n  display: none;\n  top: 50%;\n  left: 50%;\n  margin: -45px 0 0 -45px;\n}\n.u-edu-h5player-pcdisplay .statewrap .sbg {\n  opacity: 0.8;\n  background: #000;\n  width: 100%;\n  height: 100%;\n  border-radius: 5px;\n}\n.u-edu-h5player-pcdisplay .statewrap .pause {\n  display: none;\n  top: 29px;\n  left: 33px;\n  width: 24px;\n  height: 32px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 87.7551%;\n}\n.u-edu-h5player-pcdisplay .statewrap .buffering {\n  top: 27px;\n  left: 27px;\n  display: none;\n  width: 36px;\n  height: 36px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 100%;\n}\n.u-edu-h5player-pcdisplay .statewrap .replay {\n  display: none;\n  width: 36px;\n  top: 15px;\n  left: 27px;\n}\n.u-edu-h5player-pcdisplay .statewrap .replay .ic {\n  width: 36px;\n  height: 32px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 55.10204%;\n}\n.u-edu-h5player-pcdisplay .statewrap .replay .txt {\n  color: #999;\n  text-align: center;\n  margin-top: 9px;\n}\n.u-edu-h5player-pcdisplay .statewrap:hover .pause {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 76.87075%;\n}\n.u-edu-h5player-pcdisplay .statewrap:hover .replay .ic {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 65.98639%;\n}\n.u-edu-h5player-pcdisplay .statewrap:hover .replay .txt {\n  color: #fff;\n}\n\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n/*========== popover组件 ==========*/\n.m-popover {\n  box-sizing: border-box;\n  visibility: hidden;\n  opacity: 0;\n  position: absolute;\n  bottom: 34px;\n  left: 50%;\n  padding: 8px 0;\n  width: 64px;\n  line-height: 0;\n  transform: translateX(-50%);\n  background: #333;\n  font-size: 0;\n  text-align: left;\n  border-radius: 2px;\n  cursor: auto;\n  transition: 0.3s opacity;\n}\n.m-popover:before {\n  content: "";\n  position: absolute;\n  left: 50%;\n  bottom: -12px;\n  transform: translateX(-50%);\n  width: 100%;\n  height: 12px;\n  opacity: 0;\n}\n.m-popover:after {\n  content: "";\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  bottom: -8px;\n  border: 4px solid transparent;\n  border-top-color: #333;\n}\n.m-popover.z-show {\n  visibility: visible;\n  opacity: 1;\n}\n.m-popover li {\n  box-sizing: border-box;\n  position: relative;\n  display: inline-block;\n  margin: 4px 2px;\n  padding-left: 8px;\n  width: 60px;\n  height: 19px;\n  line-height: 19px;\n  font-size: 14px;\n  color: #999;\n  cursor: pointer;\n}\n.m-popover li:hover {\n  background-color: #2aa126;\n  color: #fff;\n}\n.m-popover li.z-sel {\n  color: #fff;\n}\n.m-popover li.z-sel:hover {\n  background-color: transparent;\n}\n.m-popover.m-popover-multi li {\n  padding-left: 1.2em;\n}\n.m-popover.m-popover-multi li.z-sel:before {\n  content: "●";\n  position: absolute;\n  left: 5px;\n  top: 0;\n}\n\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n.m-progressbar {\n  position: relative;\n  height: 4px;\n  cursor: pointer;\n}\n.m-progressbar .backgroundbar {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  background-color: #555;\n}\n.m-progressbar .progressbar {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 0;\n  background-color: #2aa126;\n}\n.m-progressbar .bufferbar {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 0;\n  background-color: #888;\n}\n.m-progressbar .drag_item {\n  position: absolute;\n  top: -3px;\n  width: 8px;\n  height: 8px;\n  border: 1px solid #2aa126;\n  background: #ffffff;\n  border-radius: 100%;\n  cursor: pointer;\n  z-index: 1;\n}\n.m-progressbar .anchor {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 4px;\n  background-color: #ccc;\n}\n.m-progressbar.m-progressbar-hr .progressbar {\n  left: auto;\n  right: 0;\n}\n.m-progressbar.m-progressbar-hr .bufferbar {\n  left: auto;\n  right: 0;\n}\n.m-progressbar.m-progressbar-hr .drag_item {\n  left: auto;\n  right: 0;\n}\n.m-progressbar.m-progressbar-hr .anchor {\n  left: auto;\n}\n.m-progressbar.m-progressbar-vt {\n  width: 4px;\n  height: 120px;\n}\n.m-progressbar.m-progressbar-vt .progressbar {\n  width: 100%;\n  height: 0;\n}\n.m-progressbar.m-progressbar-vt .bufferbar {\n  width: 100%;\n  height: 0;\n}\n.m-progressbar.m-progressbar-vt .drag_item {\n  top: 0;\n  left: -3px;\n}\n.m-progressbar.m-progressbar-vt .anchor {\n  top: auto;\n  left: 0;\n  width: 100%;\n  height: 4px;\n}\n.m-progressbar.m-progressbar-vb {\n  width: 4px;\n  height: 85px;\n}\n.m-progressbar.m-progressbar-vb .progressbar {\n  top: auto;\n  bottom: 0;\n  width: 100%;\n  height: 0;\n}\n.m-progressbar.m-progressbar-vb .bufferbar {\n  top: auto;\n  bottom: 0;\n  width: 100%;\n  height: 0;\n}\n.m-progressbar.m-progressbar-vb .drag_item {\n  top: auto;\n  left: -3px;\n}\n.m-progressbar.m-progressbar-vb .anchor {\n  top: auto;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 4px;\n}\n\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n.u-edu-h5player-icon {\n  display: inline-block;\n}\n.u-edu-h5player-icon.icon-volume {\n  width: 16px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-origin: content-box;\n  background-clip: content-box;\n  background-repeat: no-repeat;\n  background-size: 24px 217.33333px;\n  background-position: 0 29.80132%;\n}\n.u-edu-h5player-icon.icon-play {\n  width: 12px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 100% 29.03226%;\n}\n.u-edu-h5player-icon.icon-big_play_btn {\n  width: 24px;\n  height: 32px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 87.7551%;\n}\n.u-edu-h5player-icon.icon-pause {\n  width: 12px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 66.66667% 5.16129%;\n}\n.u-edu-h5player-icon.icon-fullscreen {\n  width: 16px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 5.16129%;\n}\n.u-edu-h5player-icon.icon-notfullscreen {\n  width: 16px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 80% 0;\n}\n\n/*========== 进度条 ==========*/\n.u-edu-h5player-controlwrap {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  font-size: 14px;\n  letter-spacing: -0.34px;\n  z-index: 10;\n  /*========== 控制条 ==========*/\n  /* popover样式自定义 */\n  /* 其他逻辑 */\n}\n.u-edu-h5player-controlwrap .bigplaybtn {\n  display: none;\n  position: absolute;\n  left: 20px;\n  bottom: 19px;\n  width: 60px;\n  height: 32px;\n  padding: 14px 0;\n  text-align: center;\n  border-radius: 5px;\n  background-color: rgba(0, 0, 0, 0.8);\n  transition: 0.5s bottom;\n}\n.u-edu-h5player-controlwrap .bigplaybtn .icon-big_play_btn:hover {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 76.87075%;\n}\n.u-edu-h5player-controlwrap .bigplaybtn.z-show {\n  display: block;\n}\n.u-edu-h5player-controlwrap .progresswrap {\n  bottom: -36px;\n  transition: 0.5s bottom;\n  z-index: 1;\n}\n.u-edu-h5player-controlwrap .progresswrap .placeholder {\n  opacity: 0;\n  position: absolute;\n  left: 0;\n  top: -6px;\n  height: 6px;\n  width: 100%;\n}\n.u-edu-h5player-controlwrap .progresswrap .drag_item {\n  transition: 0.2s opacity, 0.2s transform, 0.1s left;\n  visibility: hidden;\n  opacity: 0;\n}\n.u-edu-h5player-controlwrap .progresswrap .drag_item.z-ban {\n  display: none !important;\n}\n.u-edu-h5player-controlwrap .progresswrap .bufferbar, .u-edu-h5player-controlwrap .progresswrap .progressbar {\n  transition: 0.1s width, 0.2s transform;\n}\n.u-edu-h5player-controlwrap .progresswrap .backgroundbar, .u-edu-h5player-controlwrap .progresswrap .anchor {\n  transition: 0.2s transform;\n}\n.u-edu-h5player-controlwrap .progresswrap:hover .backgroundbar, .u-edu-h5player-controlwrap .progresswrap:hover .progressbar, .u-edu-h5player-controlwrap .progresswrap:hover .bufferbar, .u-edu-h5player-controlwrap .progresswrap:hover .anchor {\n  transform: scaleY(1.4);\n}\n.u-edu-h5player-controlwrap .progresswrap:hover .drag_item {\n  visibility: visible;\n  opacity: 1;\n  transform: scale(1.1);\n}\n.u-edu-h5player-controlwrap .m-controlbar {\n  bottom: -36px;\n  transition: bottom 0.5s;\n}\n.u-edu-h5player-controlwrap.z-show .bigplaybtn {\n  bottom: 55px;\n}\n.u-edu-h5player-controlwrap.z-show .progresswrap {\n  bottom: 0;\n}\n.u-edu-h5player-controlwrap.z-show .m-controlbar {\n  bottom: 0;\n}\n.u-edu-h5player-controlwrap.z-show .u-edu-h5player-controlwrap_autoplaynexttip {\n  bottom: 46px;\n}\n.u-edu-h5player-controlwrap .time {\n  display: none;\n  position: absolute;\n  top: -32px;\n  left: 20px;\n  height: 20px;\n  padding: 3px 5px;\n  line-height: 20px;\n  background-color: #000;\n  color: #fff;\n  opacity: 0.8;\n  border-radius: 4px;\n  z-index: 5;\n}\n.u-edu-h5player-controlwrap .time.z-show {\n  display: block;\n}\n.u-edu-h5player-controlwrap_autoplaynexttip {\n  visibility: hidden;\n  opacity: 0;\n  position: absolute;\n  right: 20px;\n  bottom: 10px;\n  font-size: 14px;\n  height: 32px;\n  transition: 0.3s all;\n}\n.u-edu-h5player-controlwrap_autoplaynexttip_bg {\n  background-color: #000;\n  opacity: 0.7;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.u-edu-h5player-controlwrap_autoplaynexttip_content {\n  position: relative;\n  top: 0;\n  left: 0;\n  height: 32px;\n  line-height: 32px;\n  color: #fff;\n  padding: 0 6px;\n}\n.u-edu-h5player-controlwrap_autoplaynexttip-show {\n  visibility: visible;\n  opacity: 1;\n}\n.u-edu-h5player-controlwrap .m-controlbar {\n  box-sizing: border-box;\n  position: relative;\n  height: 36px;\n  line-height: 36px;\n  background-color: #333;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  user-select: none;\n}\n.u-edu-h5player-controlwrap .m-controlbar a:active, .u-edu-h5player-controlwrap .m-controlbar a:hover, .u-edu-h5player-controlwrap .m-controlbar a:visited, .u-edu-h5player-controlwrap .m-controlbar a:link {\n  text-decoration: none;\n}\n.u-edu-h5player-controlwrap .m-controlbar .g-left, .u-edu-h5player-controlwrap .m-controlbar .g-right {\n  height: 100%;\n}\n.u-edu-h5player-controlwrap .m-controlbar .g-left > *, .u-edu-h5player-controlwrap .m-controlbar .g-right > * {\n  font-size: 14px;\n  margin-top: 6px;\n  vertical-align: top;\n}\n.u-edu-h5player-controlwrap .m-controlbar .controlbar_btn {\n  position: relative;\n  display: inline-block;\n  padding: 4px 10px;\n  height: 16px;\n  line-height: 16px;\n  border-radius: 2px;\n  text-align: center;\n  color: #999;\n  cursor: pointer;\n}\n.u-edu-h5player-controlwrap .m-controlbar .controlbar_btn:hover {\n  background-color: #222;\n  color: #fff;\n}\n.u-edu-h5player-controlwrap .m-controlbar .controlbar_btn.z-show {\n  display: inline-block;\n}\n.u-edu-h5player-controlwrap .m-controlbar .controlbar_btn.z-hide {\n  display: none;\n}\n.u-edu-h5player-controlwrap .m-controlbar .cdnbtn.z-dis, .u-edu-h5player-controlwrap .m-controlbar .qualitybtn.z-dis {\n  color: #555;\n  cursor: not-allowed;\n}\n.u-edu-h5player-controlwrap .m-controlbar .cdnbtn.z-dis:hover, .u-edu-h5player-controlwrap .m-controlbar .qualitybtn.z-dis:hover {\n  color: #555;\n  background-color: transparent;\n}\n.u-edu-h5player-controlwrap .m-controlbar .playbtn:hover .icon-play {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 100% 21.29032%;\n}\n.u-edu-h5player-controlwrap .m-controlbar .pausebtn:hover .icon-pause {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 10.32258%;\n}\n.u-edu-h5player-controlwrap .m-controlbar .volumebtn {\n  z-index: 1000;\n}\n.u-edu-h5player-controlwrap .m-controlbar .volumebtn:hover .icon-volume {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 21.8543%;\n}\n.u-edu-h5player-controlwrap .m-controlbar .volumebtn.z-close .icon-volume {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 37.74834%;\n}\n.u-edu-h5player-controlwrap .m-controlbar .volumebtn.z-close:hover .icon-volume {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 45.69536%;\n}\n.u-edu-h5player-controlwrap .m-controlbar .fullscreen:hover .icon-fullscreen {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 16.12903%;\n}\n.u-edu-h5player-controlwrap .m-controlbar .notfullscreen:hover .icon-notfullscreen {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 0;\n}\n.u-edu-h5player-controlwrap .m-controlbar .playbtn:hover, .u-edu-h5player-controlwrap .m-controlbar .pausebtn:hover, .u-edu-h5player-controlwrap .m-controlbar .fullscreen:hover, .u-edu-h5player-controlwrap .m-controlbar .notfullscreen:hover {\n  background-color: transparent;\n}\n.u-edu-h5player-controlwrap .m-controlbar .pausebtn, .u-edu-h5player-controlwrap .m-controlbar .notfullscreen {\n  display: none;\n}\n.u-edu-h5player-controlwrap .m-controlbar .current_time {\n  margin-left: 10px;\n  color: #fff;\n}\n.u-edu-h5player-controlwrap .m-controlbar .seperator {\n  margin: 0 4px;\n  color: #999;\n}\n.u-edu-h5player-controlwrap .m-controlbar .duration {\n  color: #999;\n}\n.u-edu-h5player-controlwrap .m-popover {\n  z-index: 6;\n}\n.u-edu-h5player-controlwrap .m-popover-rate {\n  width: 150px;\n}\n.u-edu-h5player-controlwrap .m-popover-rate li {\n  width: 71px;\n}\n.u-edu-h5player-controlwrap .m-popover-quality {\n  width: 64px;\n}\n.u-edu-h5player-controlwrap .m-popover-quality li {\n  width: 60px;\n}\n.u-edu-h5player-controlwrap .m-popover-cdn {\n  width: 128px;\n}\n.u-edu-h5player-controlwrap .m-popover-cdn.m-popover-cdn-one_column {\n  width: 64px;\n}\n.u-edu-h5player-controlwrap .m-popover-volume {\n  padding: 8px 16px;\n  width: auto;\n}\n.u-edu-h5player-controlwrap .volumebtn:hover .m-popover-volume {\n  visibility: visible;\n  opacity: 1;\n}\n\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n.u-edu-h5player-icon {\n  display: inline-block;\n}\n.u-edu-h5player-icon.icon-volume {\n  width: 16px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-origin: content-box;\n  background-clip: content-box;\n  background-repeat: no-repeat;\n  background-size: 24px 217.33333px;\n  background-position: 0 29.80132%;\n}\n.u-edu-h5player-icon.icon-play {\n  width: 12px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 100% 29.03226%;\n}\n.u-edu-h5player-icon.icon-big_play_btn {\n  width: 24px;\n  height: 32px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 87.7551%;\n}\n.u-edu-h5player-icon.icon-pause {\n  width: 12px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 66.66667% 5.16129%;\n}\n.u-edu-h5player-icon.icon-fullscreen {\n  width: 16px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 5.16129%;\n}\n.u-edu-h5player-icon.icon-notfullscreen {\n  width: 16px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 80% 0;\n}\n\n.u-edu-h5player-controlwrap-live {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  font-size: 14px;\n  letter-spacing: -0.34px;\n  z-index: 10;\n  /*========== 控制条 ==========*/\n  /* popover样式自定义 */\n  /* 其他逻辑 */\n}\n.u-edu-h5player-controlwrap-live .bigplaybtn {\n  display: none;\n  position: absolute;\n  left: 20px;\n  bottom: 19px;\n  width: 60px;\n  height: 32px;\n  padding: 14px 0;\n  text-align: center;\n  border-radius: 5px;\n  background-color: rgba(0, 0, 0, 0.8);\n  transition: 0.5s bottom;\n}\n.u-edu-h5player-controlwrap-live .bigplaybtn .icon-big_play_btn:hover {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 76.87075%;\n}\n.u-edu-h5player-controlwrap-live .bigplaybtn.z-show {\n  display: block;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar {\n  bottom: -36px;\n  transition: bottom 0.5s;\n}\n.u-edu-h5player-controlwrap-live.z-show .m-controlbar {\n  bottom: 0;\n}\n.u-edu-h5player-controlwrap-live.z-show .bigplaybtn {\n  bottom: 55px;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar {\n  box-sizing: border-box;\n  position: relative;\n  height: 36px;\n  line-height: 36px;\n  background-color: #333;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  user-select: none;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar a:active, .u-edu-h5player-controlwrap-live .m-controlbar a:hover, .u-edu-h5player-controlwrap-live .m-controlbar a:visited, .u-edu-h5player-controlwrap-live .m-controlbar a:link {\n  text-decoration: none;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .g-left, .u-edu-h5player-controlwrap-live .m-controlbar .g-right {\n  height: 100%;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .g-left > *, .u-edu-h5player-controlwrap-live .m-controlbar .g-right > * {\n  font-size: 14px;\n  margin-top: 6px;\n  vertical-align: top;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .controlbar_btn {\n  position: relative;\n  display: inline-block;\n  padding: 4px 10px;\n  height: 16px;\n  line-height: 16px;\n  border-radius: 2px;\n  text-align: center;\n  color: #999;\n  cursor: pointer;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .controlbar_btn:hover {\n  background-color: #222;\n  color: #fff;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .controlbar_btn.z-show {\n  display: inline-block;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .controlbar_btn.z-hide {\n  display: none;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .cdnbtn.z-dis, .u-edu-h5player-controlwrap-live .m-controlbar .qualitybtn.z-dis {\n  color: #555;\n  cursor: not-allowed;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .cdnbtn.z-dis:hover, .u-edu-h5player-controlwrap-live .m-controlbar .qualitybtn.z-dis:hover {\n  color: #555;\n  background-color: transparent;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .playbtn:hover .icon-play {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 100% 21.29032%;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .pausebtn:hover .icon-pause {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 10.32258%;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .volumebtn {\n  z-index: 1000;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .volumebtn:hover .icon-volume {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 21.8543%;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .volumebtn.z-close .icon-volume {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 37.74834%;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .volumebtn.z-close:hover .icon-volume {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 45.69536%;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .fullscreen:hover .icon-fullscreen {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 16.12903%;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .notfullscreen:hover .icon-notfullscreen {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 0;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .playbtn:hover, .u-edu-h5player-controlwrap-live .m-controlbar .pausebtn:hover, .u-edu-h5player-controlwrap-live .m-controlbar .fullscreen:hover, .u-edu-h5player-controlwrap-live .m-controlbar .notfullscreen:hover {\n  background-color: transparent;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .pausebtn, .u-edu-h5player-controlwrap-live .m-controlbar .notfullscreen {\n  display: none;\n}\n.u-edu-h5player-controlwrap-live .m-popover {\n  z-index: 6;\n}\n.u-edu-h5player-controlwrap-live .m-popover-volume {\n  padding: 8px 16px;\n  width: auto;\n}\n.u-edu-h5player-controlwrap-live .m-popover-quality {\n  width: 64px;\n}\n.u-edu-h5player-controlwrap-live .m-popover-quality li {\n  width: 60px;\n}\n.u-edu-h5player-controlwrap-live .m-popover-cdn {\n  width: 128px;\n}\n.u-edu-h5player-controlwrap-live .m-popover-cdn.m-popover-cdn-one_column {\n  width: 64px;\n}\n.u-edu-h5player-controlwrap-live .volumebtn:hover .m-popover-volume {\n  visibility: visible;\n  opacity: 1;\n}\n\n.u-edu-h5player-srt {\n  position: relative;\n  width: 80%;\n  margin: 0 auto;\n  padding: 6px;\n  text-align: center;\n}\n.u-edu-h5player-srt .srt_item {\n  display: none;\n  line-height: 1.2;\n  font-size: 18px;\n  color: #fff;\n  text-shadow: 0px 3px 2px #000, -1px 0px 5px #000, 0px -2px 2px #000, 3px 0px 3px #000;\n  word-wrap: break-word;\n}\n.u-edu-h5player-srt .srt_item.z-show {\n  display: block;\n}\n\n.u-edu-h5player-controlwrap .u-edu-h5player-srt {\n  transition: bottom 0.5s;\n  position: absolute;\n  bottom: 4px;\n  margin-left: 10%;\n}\n.u-edu-h5player-controlwrap.z-show .u-edu-h5player-srt {\n  bottom: 40px;\n}\n\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n.u-edu-h5player-watermark {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  top: 0;\n  z-index: 3;\n  pointer-events: none;\n}\n.u-edu-h5player-watermark_content {\n  display: none;\n  opacity: 0.2;\n  font-size: 14px;\n  line-height: 1;\n  position: absolute;\n  top: 0;\n  left: 0;\n  word-wrap: normal;\n  white-space: nowrap;\n}\n\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n.u-edu-h5player-popmenu {\n  visibility: hidden;\n  opacity: 0;\n  background: #333;\n  transition: 0.3s opacity;\n  z-index: 999;\n  width: 150px;\n  top: 0;\n  left: 0;\n}\n.u-edu-h5player-popmenu_item {\n  margin: 4px 2px;\n  padding: 0 8px;\n  height: 20px;\n  line-height: 20px;\n  font-size: 14px;\n  color: #999;\n  cursor: pointer;\n}\n.u-edu-h5player-popmenu_item:hover {\n  background-color: #2aa126;\n  color: #fff;\n}\n.u-edu-h5player-popmenu_item-noclick {\n  cursor: default;\n}\n.u-edu-h5player-popmenu.z-show {\n  visibility: visible;\n  opacity: 1;\n}\n\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n/* 颜色变量 */\n/* 主题色 */\n/* 高亮字体色 */\n/* 正常字体色 */\n/* 禁用字体色 */\n/* 基础背景色 */\n/* 控制条背景色 */\n/* 进度条背景色 */\n/* 背景高亮色 */\n.u-edu-h5player-icon {\n  display: inline-block;\n}\n.u-edu-h5player-icon.icon-volume {\n  width: 16px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-origin: content-box;\n  background-clip: content-box;\n  background-repeat: no-repeat;\n  background-size: 24px 217.33333px;\n  background-position: 0 29.80132%;\n}\n.u-edu-h5player-icon.icon-play {\n  width: 12px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 100% 29.03226%;\n}\n.u-edu-h5player-icon.icon-big_play_btn {\n  width: 24px;\n  height: 32px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 87.7551%;\n}\n.u-edu-h5player-icon.icon-pause {\n  width: 12px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 66.66667% 5.16129%;\n}\n.u-edu-h5player-icon.icon-fullscreen {\n  width: 16px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 5.16129%;\n}\n.u-edu-h5player-icon.icon-notfullscreen {\n  width: 16px;\n  height: 16px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 80% 0;\n}\n\n.u-edu-h5player-controlwrap-live {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  font-size: 14px;\n  letter-spacing: -0.34px;\n  z-index: 10;\n  /*========== 控制条 ==========*/\n  /* popover样式自定义 */\n  /* 其他逻辑 */\n}\n.u-edu-h5player-controlwrap-live .bigplaybtn {\n  display: none;\n  position: absolute;\n  left: 20px;\n  bottom: 19px;\n  width: 60px;\n  height: 32px;\n  padding: 14px 0;\n  text-align: center;\n  border-radius: 5px;\n  background-color: rgba(0, 0, 0, 0.8);\n  transition: 0.5s bottom;\n}\n.u-edu-h5player-controlwrap-live .bigplaybtn .icon-big_play_btn:hover {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 76.87075%;\n}\n.u-edu-h5player-controlwrap-live .bigplaybtn.z-show {\n  display: block;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar {\n  bottom: -36px;\n  transition: bottom 0.5s;\n}\n.u-edu-h5player-controlwrap-live.z-show .m-controlbar {\n  bottom: 0;\n}\n.u-edu-h5player-controlwrap-live.z-show .bigplaybtn {\n  bottom: 55px;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar {\n  box-sizing: border-box;\n  position: relative;\n  height: 36px;\n  line-height: 36px;\n  background-color: #333;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  user-select: none;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar a:active, .u-edu-h5player-controlwrap-live .m-controlbar a:hover, .u-edu-h5player-controlwrap-live .m-controlbar a:visited, .u-edu-h5player-controlwrap-live .m-controlbar a:link {\n  text-decoration: none;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .g-left, .u-edu-h5player-controlwrap-live .m-controlbar .g-right {\n  height: 100%;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .g-left > *, .u-edu-h5player-controlwrap-live .m-controlbar .g-right > * {\n  font-size: 14px;\n  margin-top: 6px;\n  vertical-align: top;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .controlbar_btn {\n  position: relative;\n  display: inline-block;\n  padding: 4px 10px;\n  height: 16px;\n  line-height: 16px;\n  border-radius: 2px;\n  text-align: center;\n  color: #999;\n  cursor: pointer;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .controlbar_btn:hover {\n  background-color: #222;\n  color: #fff;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .controlbar_btn.z-show {\n  display: inline-block;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .controlbar_btn.z-hide {\n  display: none;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .cdnbtn.z-dis, .u-edu-h5player-controlwrap-live .m-controlbar .qualitybtn.z-dis {\n  color: #555;\n  cursor: not-allowed;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .cdnbtn.z-dis:hover, .u-edu-h5player-controlwrap-live .m-controlbar .qualitybtn.z-dis:hover {\n  color: #555;\n  background-color: transparent;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .playbtn:hover .icon-play {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 100% 21.29032%;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .pausebtn:hover .icon-pause {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 10.32258%;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .volumebtn {\n  z-index: 1000;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .volumebtn:hover .icon-volume {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 21.8543%;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .volumebtn.z-close .icon-volume {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 37.74834%;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .volumebtn.z-close:hover .icon-volume {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 45.69536%;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .fullscreen:hover .icon-fullscreen {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 16.12903%;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .notfullscreen:hover .icon-notfullscreen {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 0 0;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .playbtn:hover, .u-edu-h5player-controlwrap-live .m-controlbar .pausebtn:hover, .u-edu-h5player-controlwrap-live .m-controlbar .fullscreen:hover, .u-edu-h5player-controlwrap-live .m-controlbar .notfullscreen:hover {\n  background-color: transparent;\n}\n.u-edu-h5player-controlwrap-live .m-controlbar .pausebtn, .u-edu-h5player-controlwrap-live .m-controlbar .notfullscreen {\n  display: none;\n}\n.u-edu-h5player-controlwrap-live .m-popover {\n  z-index: 6;\n}\n.u-edu-h5player-controlwrap-live .m-popover-volume {\n  padding: 8px 16px;\n  width: auto;\n}\n.u-edu-h5player-controlwrap-live .m-popover-quality {\n  width: 64px;\n}\n.u-edu-h5player-controlwrap-live .m-popover-quality li {\n  width: 60px;\n}\n.u-edu-h5player-controlwrap-live .m-popover-cdn {\n  width: 128px;\n}\n.u-edu-h5player-controlwrap-live .m-popover-cdn.m-popover-cdn-one_column {\n  width: 64px;\n}\n.u-edu-h5player-controlwrap-live .volumebtn:hover .m-popover-volume {\n  visibility: visible;\n  opacity: 1;\n}\n\n/* mobile 组件样式 */\n.u-edu-h5player-mobileerror {\n  left: 0;\n  top: 0;\n  display: none;\n  background: #000;\n  z-index: 100;\n}\n.u-edu-h5player-mobileerror.z-disall {\n  z-index: 100;\n}\n.u-edu-h5player-mobileerror.z-dis {\n  z-index: 100;\n}\n.u-edu-h5player-mobileerror .emid {\n  font-size: 14px;\n  line-height: 0.5625rem;\n  height: 0.5625rem;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 50%;\n  margin-top: -0.78125rem;\n  text-align: center;\n}\n[data-dpr="2"] .u-edu-h5player-mobileerror .emid {\n  font-size: 28px;\n}\n[data-dpr="3"] .u-edu-h5player-mobileerror .emid {\n  font-size: 42px;\n}\n.u-edu-h5player-mobileerror .emid .eic {\n  background: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-error_icon_0522fdc139c709e3b63041fc3ab41124.png");\n  width: 0.5625rem;\n  height: 0.5625rem;\n  margin-right: 3px;\n  vertical-align: top;\n  background-size: 0.5625rem 0.5625rem;\n}\n.u-edu-h5player-mobileerror .bwarp {\n  position: absolute;\n  width: 100%;\n  height: 1.03125rem;\n  left: 0;\n  top: 50%;\n  text-align: center;\n  margin-top: 0.15625rem;\n}\n.u-edu-h5player-mobileerror .bwarp .reloadbtn {\n  text-align: center;\n  font-size: 14px;\n  line-height: 1.03125rem;\n  height: 1.03125rem;\n  color: #2aa126;\n  border: 1px solid #2aa126;\n  border-radius: 0.15625rem;\n  width: 3.125rem;\n}\n[data-dpr="2"] .u-edu-h5player-mobileerror .bwarp .reloadbtn {\n  font-size: 28px;\n}\n[data-dpr="3"] .u-edu-h5player-mobileerror .bwarp .reloadbtn {\n  font-size: 42px;\n}\n.u-edu-h5player-mobileerror .bwarp .reloadbtn .ic {\n  width: 0.5625rem;\n  height: 0.5rem;\n  background: transparent url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-reload_btn_ea156eebcf6278f0c7ac83e182678358.png") right center no-repeat;\n  background-size: 0.5625rem 0.5rem;\n  margin: 0.234375rem 0.078125rem 0.234375rem 0;\n}\n\n/* 封面 */\n.u-edu-h5player-mobilecover {\n  display: none;\n  left: 0;\n  top: 0;\n  cursor: pointer;\n  overflow: hidden;\n  text-align: center;\n  background: #000;\n  z-index: 99;\n  /*\n  .playbtnwrap{\n      width:rem(160px);\n      height:rem(160px);\n      top:50%;\n      left:50%;\n      margin:rem(-80px) 0 0 rem(-80px);\n\n      .cbg{\n          opacity:0.8;\n          background:$bgColor;\n          width:100%;\n          height:100%;\n          border-radius:rem(10px);\n      }\n\n      .playbtn{\n          width:rem(48px);\n          height:rem(64px);\n          background:url(\'//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-big_play_btn_4e9b92438182c366651bbba7a72fe6b9.png\');\n          top:rem(48px);\n          left:rem(56px);\n          background-size:rem(48px) rem(64px);\n      }\n\n      &:hover{\n          .playbtn{\n              background-image:url(\'//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-big_play_btn_hover_c53b267dd02910b8643e801d59abbfcc.png\');\n          }\n      }\n  }\n  */\n}\n.u-edu-h5player-mobilecover .cimg {\n  top: 50%;\n  left: 50%;\n}\n.u-edu-h5player-mobilecover .playbtn {\n  width: 1.625rem;\n  height: 1.625rem;\n  background: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-cover_playbtn_fb637bd7a94e59528a53d7d2396a74d1.png");\n  top: 50%;\n  left: 50%;\n  margin: -0.8125rem 0 0 -0.8125rem;\n  background-size: 1.625rem 1.625rem;\n}\n\n.u-edu-h5player-mobiledisplay {\n  z-index: 6;\n}\n.u-edu-h5player-mobiledisplay .volumewrap, .u-edu-h5player-mobiledisplay .seekwrap, .u-edu-h5player-mobiledisplay .statewrap {\n  z-index: 3;\n  display: none;\n  top: 50%;\n  left: 50%;\n}\n.u-edu-h5player-mobiledisplay .bbg {\n  opacity: 0;\n  background: #000;\n}\n.u-edu-h5player-mobiledisplay .sbg {\n  opacity: 0.8;\n  background: #000;\n  border-radius: 0.15625rem;\n}\n.u-edu-h5player-mobiledisplay .statewrap {\n  display: none;\n  width: 2.5rem;\n  height: 2.5rem;\n  margin: -1.25rem 0 0 -1.25rem;\n}\n.u-edu-h5player-mobiledisplay .statewrap .pause {\n  width: 0.75rem;\n  height: 1rem;\n  background: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-big_play_btn_4e9b92438182c366651bbba7a72fe6b9.png");\n  top: 0.75rem;\n  left: 0.875rem;\n  background-size: 0.75rem 1rem;\n}\n.u-edu-h5player-mobiledisplay .statewrap .buffering {\n  width: 1.125rem;\n  height: 1.125rem;\n  top: 0.6875rem;\n  left: 0.6875rem;\n  background: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-buffering_04eed3bc0591209bcf6d291d99939f89.png");\n  background-size: 1.125rem 1.125rem;\n}\n.u-edu-h5player-mobiledisplay .statewrap .replay {\n  width: 1.125rem;\n  top: 0.46875rem;\n  left: 0.6875rem;\n}\n.u-edu-h5player-mobiledisplay .statewrap .replay .ic {\n  width: 1.125rem;\n  height: 1rem;\n  background: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-big_replay_btn_1856b2da388733232e0b3d17cda5e789.png");\n  background-size: 1.125rem 1rem;\n}\n.u-edu-h5player-mobiledisplay .statewrap .replay .txt {\n  text-align: center;\n  margin-top: 0.28125rem;\n  color: #999;\n  font-size: 14px;\n}\n[data-dpr="2"] .u-edu-h5player-mobiledisplay .statewrap .replay .txt {\n  font-size: 28px;\n}\n[data-dpr="3"] .u-edu-h5player-mobiledisplay .statewrap .replay .txt {\n  font-size: 42px;\n}\n.u-edu-h5player-mobiledisplay .statewrap:hover .pause {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-big_play_btn_hover_c53b267dd02910b8643e801d59abbfcc.png");\n}\n.u-edu-h5player-mobiledisplay .statewrap:hover .replay .ic {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-big_replay_btn_hover_bc4f20158a476a88a8684dcf61cf94b1.png");\n}\n.u-edu-h5player-mobiledisplay .statewrap:hover .replay .txt {\n  color: #fff;\n}\n.u-edu-h5player-mobiledisplay .seekwrap {\n  width: 3.4375rem;\n  height: 3.4375rem;\n  margin: -1.71875rem 0 0 -1.71875rem;\n}\n.u-edu-h5player-mobiledisplay .seekwrap .scon {\n  top: 0;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n.u-edu-h5player-mobiledisplay .seekwrap .seekic {\n  width: 1.09375rem;\n  height: 0.75rem;\n  background-size: 1.09375rem 0.75rem;\n  margin: 0.90625rem auto 0.5rem auto;\n}\n.u-edu-h5player-mobiledisplay .seekwrap .seekic.forward {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-seek_forward_d06f7546a68e5cb1b50165df75e77a1e.png");\n}\n.u-edu-h5player-mobiledisplay .seekwrap .seekic.backward {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-seek_backward_9dfc9eeec587f8685ee1242597f41f8d.png");\n}\n.u-edu-h5player-mobiledisplay .seekwrap .time {\n  font-size: 14px;\n  color: #fff;\n  line-height: 1.4;\n}\n[data-dpr="2"] .u-edu-h5player-mobiledisplay .seekwrap .time {\n  font-size: 28px;\n}\n[data-dpr="3"] .u-edu-h5player-mobiledisplay .seekwrap .time {\n  font-size: 42px;\n}\n.u-edu-h5player-mobiledisplay .seekwrap .time .dur {\n  color: #999;\n}\n.u-edu-h5player-mobiledisplay .volumewrap {\n  width: 1.5625rem;\n  height: 4.0625rem;\n  margin: -2.03125rem 0 0 -0.78125rem;\n}\n.u-edu-h5player-mobiledisplay .volumewrap .vcon {\n  top: 0;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n.u-edu-h5player-mobiledisplay .volumewrap .vic {\n  width: 0.5rem;\n  height: 0.5rem;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-volume_icon_a80c70afac83017e5a471cd3e67a916a.png");\n  margin: 0.3125rem 0.53125rem;\n  background-size: 0.5rem 0.5rem;\n}\n.u-edu-h5player-mobiledisplay .volumewrap .vl {\n  height: 2.625rem;\n  width: 0.125rem;\n  background: #555;\n  margin: 0 auto;\n}\n.u-edu-h5player-mobiledisplay .volumewrap .vl .vp {\n  left: -0.125rem;\n  bottom: -0.125rem;\n  width: 0.25rem;\n  height: 0.25rem;\n  border: 0.0625rem solid #2aa126;\n  background: #fff;\n  border-radius: 100%;\n  z-index: 3;\n}\n.u-edu-h5player-mobiledisplay .volumewrap .vl .vb {\n  width: 100%;\n  height: 0;\n  left: 0;\n  bottom: 0;\n  background: #2aa126;\n  z-index: 1;\n}\n\n/**\n * 移动端控制条样式\n */\n.u-edu-h5player-controlwrap-mobile {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  z-index: 8;\n}\n.u-edu-h5player-controlwrap-mobile .m-controlbar-cover {\n  position: absolute;\n  width: 100%;\n  height: 105%;\n  z-index: 11;\n  top: -5%;\n  left: 0;\n}\n.u-edu-h5player-controlwrap-mobile .m-progressbar-mobile {\n  position: relative;\n  height: 0.125rem;\n  background-color: #555;\n  z-index: 10;\n}\n.u-edu-h5player-controlwrap-mobile .m-progressbar-mobile div {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n}\n.u-edu-h5player-controlwrap-mobile .m-progressbar-mobile .timebar {\n  width: 0;\n  background-color: #2aa126;\n  z-index: 2;\n}\n.u-edu-h5player-controlwrap-mobile .m-progressbar-mobile .bufferbar {\n  width: 0;\n  background-color: #888;\n  z-index: 1;\n}\n.u-edu-h5player-controlwrap-mobile .m-progressbar-mobile .drag_item {\n  top: -0.125rem;\n  width: 0.25rem;\n  height: 0.25rem;\n  border: 0.0625rem solid #2aa126;\n  background: #ffffff;\n  border-radius: 100%;\n  z-index: 5;\n  margin-top: 0;\n}\n.u-edu-h5player-controlwrap-mobile .m-progressbar-mobile .anchors {\n  z-index: 3;\n  width: 100%;\n}\n.u-edu-h5player-controlwrap-mobile .m-progressbar-mobile .anchors .anchor {\n  width: 6px;\n  background-color: #fff;\n}\n.u-edu-h5player-controlwrap-mobile .m-controlbar-mobile {\n  height: 1.125rem;\n  padding: 0.15625rem 0;\n  width: 100%;\n  box-sizing: border-box;\n  position: relative;\n  background-color: #333;\n}\n.u-edu-h5player-controlwrap-mobile .m-controlbar-mobile .pbtnwrap {\n  padding: 0.15625rem 0.3125rem;\n}\n.u-edu-h5player-controlwrap-mobile .m-controlbar-mobile .pbtnwrap.active .pause-play-btn {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-pause_btn_d071a1e0f18a01eea8bfff04610c9f46.png");\n}\n.u-edu-h5player-controlwrap-mobile .m-controlbar-mobile .pbtnwrap.active .full-screen-btn {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-exist_fullscreen_btn_eb75077966046f75f88b6035a09e6f89.png");\n}\n.u-edu-h5player-controlwrap-mobile .m-controlbar-mobile .pause-play-btn {\n  width: 0.375rem;\n  height: 0.5rem;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-play_btn_ec9b126049c143c4e7edac76f695b5c5.png");\n  background-size: 0.375rem 0.5rem;\n}\n.u-edu-h5player-controlwrap-mobile .m-controlbar-mobile .process-time {\n  height: 0.5rem;\n  padding: 0.15625rem 0;\n  line-height: 0.5rem;\n  font-size: 14px;\n}\n[data-dpr="2"] .u-edu-h5player-controlwrap-mobile .m-controlbar-mobile .process-time {\n  font-size: 28px;\n}\n[data-dpr="3"] .u-edu-h5player-controlwrap-mobile .m-controlbar-mobile .process-time {\n  font-size: 42px;\n}\n.u-edu-h5player-controlwrap-mobile .m-controlbar-mobile .now-time {\n  color: #fff;\n}\n.u-edu-h5player-controlwrap-mobile .m-controlbar-mobile .more-btn {\n  width: 1.5rem;\n  height: 0.8125rem;\n  text-decoration: none;\n  text-align: center;\n  line-height: 0.8125rem;\n  color: #fff;\n  font-size: 14px;\n}\n[data-dpr="2"] .u-edu-h5player-controlwrap-mobile .m-controlbar-mobile .more-btn {\n  font-size: 28px;\n}\n[data-dpr="3"] .u-edu-h5player-controlwrap-mobile .m-controlbar-mobile .more-btn {\n  font-size: 42px;\n}\n.u-edu-h5player-controlwrap-mobile .m-controlbar-mobile .more-btn.active {\n  background: #222;\n  border-radius: 4px;\n  text-decoration: none;\n}\n.u-edu-h5player-controlwrap-mobile .m-controlbar-mobile .full-screen-btn {\n  width: 0.5rem;\n  height: 0.5rem;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-fullscreen_btn_3c47b991b807343e60ad601728147af6.png");\n  background-size: 0.5rem 0.5rem;\n}\n\n/**\n * 移动端直播控制条样式\n */\n.u-edu-h5player-controlwrap-live-mobile {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  z-index: 8;\n}\n.u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile {\n  height: 1.125rem;\n  padding: 0.15625rem 0;\n  width: 100%;\n  box-sizing: border-box;\n  position: relative;\n  background-color: #333;\n}\n.u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile .pbtnwrap {\n  padding: 0.15625rem 0.3125rem;\n}\n.u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile .pbtnwrap.active .pause-play-btn {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-pause_btn_d071a1e0f18a01eea8bfff04610c9f46.png");\n}\n.u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile .pbtnwrap.active .full-screen-btn {\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-exist_fullscreen_btn_eb75077966046f75f88b6035a09e6f89.png");\n}\n.u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile .pbtnwrapsm {\n  padding: 0.15625rem 0.15625rem;\n}\n.u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile .pause-play-btn {\n  width: 0.375rem;\n  height: 0.5rem;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-play_btn_ec9b126049c143c4e7edac76f695b5c5.png");\n  background-size: 0.375rem 0.5rem;\n}\n.u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile .reload-btn {\n  width: 0.5625rem;\n  height: 0.5rem;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-reload_btn_ea156eebcf6278f0c7ac83e182678358.png");\n  background-size: 0.5625rem 0.5rem;\n}\n.u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile .full-screen-btn {\n  width: 0.5rem;\n  height: 0.5rem;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-fullscreen_btn_3c47b991b807343e60ad601728147af6.png");\n  background-size: 0.5rem 0.5rem;\n}\n.u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile .liveinfo {\n  padding-left: 0.234375rem;\n  width: 6.25rem;\n  color: #fff;\n  position: relative;\n  height: 0.8125rem;\n}\n.u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile .liveinfo .livetith {\n  font-size: 14px;\n  line-height: 1;\n}\n[data-dpr="2"] .u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile .liveinfo .livetith {\n  font-size: 28px;\n}\n[data-dpr="3"] .u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile .liveinfo .livetith {\n  font-size: 42px;\n}\n.u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile .liveinfo .livetitp {\n  position: absolute;\n  bottom: 0;\n  left: 0.234375rem;\n  font-size: 12px;\n  line-height: 1;\n}\n[data-dpr="2"] .u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile .liveinfo .livetitp {\n  font-size: 24px;\n}\n[data-dpr="3"] .u-edu-h5player-controlwrap-live-mobile .m-controlbar-mobile .liveinfo .livetitp {\n  font-size: 36px;\n}\n\n.u-edu-h5player-moreMenu-mobile {\n  position: absolute;\n  bottom: 1.328125rem;\n  left: 50%;\n  transform: translateX(-50%);\n  -ms-transform: translateX(-50%);\n  -moz-transform: translateX(-50%);\n  -webkit-transform: translateX(-50%);\n  -o-transform: translateX(-50%);\n  box-sizing: border-box;\n  width: 6.25rem;\n  border-radius: 4px;\n  padding: 0 0.3125rem;\n  color: #999;\n  background-color: #333;\n  z-index: 10;\n  font-size: 14px;\n}\n[data-dpr="2"] .u-edu-h5player-moreMenu-mobile {\n  font-size: 28px;\n}\n[data-dpr="3"] .u-edu-h5player-moreMenu-mobile {\n  font-size: 42px;\n}\n.u-edu-h5player-moreMenu-mobile_section {\n  padding: 0.3125rem 0;\n}\n.u-edu-h5player-moreMenu-mobile_hr {\n  width: 100%;\n  height: 1px;\n  background-color: #666;\n  border: none;\n  margin: 0;\n}\n.u-edu-h5player-moreMenu-mobile_h4 {\n  width: 1.5625rem;\n  float: left;\n  line-height: 0.5625rem;\n  color: inherit;\n}\n.u-edu-h5player-moreMenu-mobile_ol {\n  width: 4.0625rem;\n  float: left;\n}\n.u-edu-h5player-moreMenu-mobile_ol li {\n  float: left;\n  width: 33.3%;\n  line-height: 0.5625rem;\n}\n.u-edu-h5player-moreMenu-mobile_ol li.active {\n  color: #fff;\n}\n\n.u-edu-h5player-srtmobile-wrap {\n  z-index: 4;\n  bottom: 20px;\n  position: absolute;\n  left: 0;\n  width: 100%;\n}\n.u-edu-h5player-srtmobile-wrap .u-edu-h5player-srtmobile {\n  position: relative;\n  width: 80%;\n  margin: 0 auto;\n  padding: 6px;\n  text-align: center;\n}\n.u-edu-h5player-srtmobile-wrap .u-edu-h5player-srtmobile .srt_item {\n  display: none;\n  line-height: 1.2;\n  font-size: 18px;\n  color: #fff;\n  text-shadow: 0px 3px 2px #000, -1px 0px 5px #000, 0px -2px 2px #000, 3px 0px 3px #000;\n  word-wrap: break-word;\n}\n.u-edu-h5player-srtmobile-wrap .u-edu-h5player-srtmobile .srt_item.z-show {\n  display: block;\n}\n\n@media screen and (orientation: portrait) {\n  .u-edu-h5player-srtmobile-wrap .u-edu-h5player-srtmobile .srt_item {\n    font-size: 12px !important;\n  }\n}\n.ux-video-player {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  color: #999;\n}\n.ux-video-player a {\n  color: #2aa126;\n  text-decoration: none;\n}\n.ux-video-player_tip {\n  position: relative;\n  background-color: #000000;\n  height: 100%;\n}\n.ux-video-player_tip .emid {\n  line-height: 18px;\n  height: 18px;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 50%;\n  margin-top: -9px;\n  text-align: center;\n}\n.ux-video-player_tip .emid .eic {\n  margin-right: 3px;\n  vertical-align: top;\n  width: 18px;\n  height: 18px;\n  background-image: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-web-s3864e82090_fb6bb9f59f90e3e232bbf57a200502f2.png");\n  background-position: 66.66667% 10.38961%;\n}\n.ux-video-player_tip-wap .emid {\n  font-size: 14px;\n  line-height: 0.5625rem;\n  height: 0.5625rem;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 50%;\n  margin-top: -0.78125rem;\n  text-align: center;\n}\n[data-dpr="2"] .ux-video-player_tip-wap .emid {\n  font-size: 28px;\n}\n[data-dpr="3"] .ux-video-player_tip-wap .emid {\n  font-size: 42px;\n}\n.ux-video-player_tip-wap .emid .eic {\n  background: url("//edu-image.nosdn.127.net/component-video-player-images-h5VideoPlayer-mobile-error_icon_0522fdc139c709e3b63041fc3ab41124.png");\n  width: 0.5625rem;\n  height: 0.5625rem;\n  margin-right: 3px;\n  vertical-align: top;\n  background-size: 0.5625rem 0.5625rem;\n}\n\n.uc-video-toolbar {\n  display: none !important;\n}\n'),I$("4ba3beecac53c63f6abbc5d32a9eb5c9",(function(e,t,n,i){var r;return(r=Function.prototype)._$aop=function(e,t){t=t||n,e=e||n;var r=this;return function(){var n={args:i.slice.call(arguments,0)};return e(n),n.stopped||(n.value=r.apply(this,n.args),t(n)),n.value}},r._$bind=function(){var e=arguments,t=arguments[0],n=this;return function(){var r=i.slice.call(e,1);return i.push.apply(r,arguments),n.apply(t||null,r)}},r._$bind2=function(){var e=arguments,t=i.shift.call(e),n=this;return function(){return i.push.apply(arguments,e),n.apply(t||null,arguments)}},(r=String.prototype).trim||(r.trim=function(){var e=/(?:^\s+)|(?:\s+$)/g;return function(){return this.replace(e,"")}}()),this.console||(this.console={log:n,error:n}),NEJ=this.NEJ||{},NEJ.copy=function(e,n){for(var i in e=e||{},n=n||t)n.hasOwnProperty(i)&&(e[i]=n[i]);return e},NEJ=NEJ.copy(NEJ,{O:t,R:i,F:n,P:function(e){if(!e||!e.length)return null;for(var t=window,n=e.split("."),i=n.length,r="window"==n[0]?1:0;r<i;t=t[n[r]]=t[n[r]]||{},r++);return t}}),NEJ})),I$("450d3b0a6346d19b488fd0d67d4c7975",(function(e,t,n,i){return e.__forIn=function(e,t,n){if(!e||!t)return null;for(var i,r=Object.keys(e),o=0,a=r.length;o<a;o++)if(i=r[o],t.call(n||null,e[i],i,e))return i;return null},e.__forEach=function(e,t,n){e.forEach(t,n)},e.__col2array=function(e){return i.slice.call(e,0)},e.__str2time=function(e){return Date.parse(e)},e})),I$("6d7d8efca2984621427afebf4740148f",(function(e,t,n,i,r){var o=this.navigator.platform,a=this.navigator.userAgent,s={mac:o,win:o,linux:o,ipad:a,ipod:a,iphone:o,android:a};for(var c in t._$IS=s,s)s[c]=new RegExp(c,"i").test(s[c]);s.ios=s.ipad||s.iphone||s.ipod,s.tablet=s.ipad,s.desktop=s.mac||s.win||s.linux&&!s.android,t._$is=function(e){return!!s[e]};var u={engine:"unknow",release:"unknow",browser:"unknow",version:"unknow",prefix:{css:"",pro:"",clz:""}};if(t._$KERNEL=u,/msie\s+(.*?);/i.test(a)||/trident\/.+rv:([\d\.]+)/i.test(a)){u.engine="trident",u.browser="ie",u.version=RegExp.$1,u.prefix={css:"ms",pro:"ms",clz:"MS",evt:"MS"};var l={6:"2.0",7:"3.0",8:"4.0",9:"5.0",10:"6.0",11:"7.0"};u.release=l[document.documentMode]||l[parseInt(u.version)]}else/webkit\/?([\d.]+?)(?=\s|$)/i.test(a)?(u.engine="webkit",u.release=RegExp.$1||"",u.prefix={css:"webkit",pro:"webkit",clz:"WebKit"}):/rv\:(.*?)\)\s+gecko\//i.test(a)?(u.engine="gecko",u.release=RegExp.$1||"",u.browser="firefox",u.prefix={css:"Moz",pro:"moz",clz:"Moz"},/firefox\/(.*?)(?=\s|$)/i.test(a)&&(u.version=RegExp.$1||"")):/presto\/(.*?)\s/i.test(a)&&(u.engine="presto",u.release=RegExp.$1||"",u.browser="opera",u.prefix={css:"O",pro:"o",clz:"O"},/version\/(.*?)(?=\s|$)/i.test(a)&&(u.version=RegExp.$1||""));if("unknow"==u.browser)for(var d,f=0,p=(l=["chrome","maxthon","safari"]).length;f<p;f++)if(d="safari"==l[f]?"version":"chrome"==l[f]?"[chrome|CriOS]":l[f],new RegExp(d+"/(.*?)(?=\\s|$)","i").test(a)){u.browser=l[f],u.version=RegExp.$1.trim();break}return t._$SUPPORT={},t._$support=function(e){return!!t._$SUPPORT[e]},e.copy(e.P("nej.p"),t),t}),"4ba3beecac53c63f6abbc5d32a9eb5c9"),I$("21c093ae96095cb62a812e86a0f31e24",(function(e,t,n,i,r,o){return"trident"===t._$KERNEL.engine&&t._$KERNEL.release<="4.0"&&I$("4797f33b48724cdf1c1f9680ba3adc80",(function(){e.__forIn=function(e,t,n){if(e&&t)for(var i in e)if(e.hasOwnProperty(i)&&t.call(n,e[i],i,e))return i},e.__forEach=function(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},e.__col2array=function(e){var t=[];if(e&&e.length)for(var n=0,i=e.length;n<i;n++)t.push(e[n]);return t},e.__str2time=function(){var e=/-/g;return function(t){return Date.parse(t.replace(e,"/").split(".")[0])}}()})),e}),"450d3b0a6346d19b488fd0d67d4c7975","6d7d8efca2984621427afebf4740148f"),I$("84c66edbaac3f0e7d6c8b753c5fa2fbd",(function(e,t,n,i,r,o){var a=function(e,t){try{return t=t.toLowerCase(),null===e?"null"==t:void 0===e?"undefined"==t:i.toString.call(e).toLowerCase()=="[object "+t+"]"}catch(e){return!1}};return n._$isFunction=function(e){return a(e,"function")},n._$isString=function(e){return a(e,"string")},n._$isNumber=function(e){return a(e,"number")},n._$isBoolean=function(e){return a(e,"boolean")},n._$isDate=function(e){return a(e,"date")},n._$isArray=function(e){return a(e,"array")},n._$isObject=function(e){return a(e,"object")},n._$length=function(){var e=/[^\x00-\xff]/g;return function(t){return(""+(t||"")).replace(e,"**").length}}(),n._$loop=function(e,i,r){return n._$isObject(e)&&n._$isFunction(i)?t.__forIn.apply(t,arguments):null},n._$indexOf=function(e,t){var i=n._$isFunction(t)?t:function(e){return e===t},r=n._$forIn(e,i);return null!=r?r:-1},n._$binSearch=function(){var e,t=function t(n,i,r){if(i>r)return-1;var o=Math.ceil((i+r)/2),a=e(n[o],o,n);return 0==a?o:a<0?t(n,i,o-1):t(n,o+1,r)};return function(n,i){return e=i||r,t(n,0,n.length-1)}}(),n._$reverseEach=function(e,t,i){if(e&&e.length&&n._$isFunction(t))for(var r=e.length-1;r>=0;r--)if(t.call(i,e[r],r,e))return r;return null},n._$forEach=function(e,i,r){e&&e.length&&n._$isFunction(i)&&(e.forEach?t.__forEach(e,i,r):n._$forIn.apply(n,arguments))},n._$forIn=function(e,t,i){if(!e||!n._$isFunction(t))return null;if(n._$isNumber(e.length)){for(var r=0,o=e.length;r<o;r++)if(t.call(i,e[r],r,e))return r}else if(n._$isObject(e))return n._$loop(e,t,i);return null},n._$encode=function(e,t){return t=""+t,e&&t?t.replace(e.r,(function(t){var n=e[e.i?t:t.toLowerCase()];return null!=n?n:t})):t||""},n._$escape=function(){var e=/<br\/?>$/,t={r:/\<|\>|\&|\r|\n|\s|\'|\"/g,"<":"&lt;",">":"&gt;","&":"&amp;"," ":"&nbsp;",'"':"&quot;","'":"&#39;","\n":"<br/>","\r":""};return function(i){return(i=n._$encode(t,i)).replace(e,"<br/><br/>")}}(),n._$unescape=function(){var e={r:/\&(?:lt|gt|amp|nbsp|#39|quot)\;|\<br\/\>/gi,"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&#39;":"'","&quot;":'"',"<br/>":"\n"};return function(t){return n._$encode(e,t)}}(),n._$format=function(){var e={i:!0,r:/\byyyy|yy|MM|cM|eM|M|dd|d|HH|H|mm|ms|ss|m|s|w|ct|et\b/g},t=["上午","下午"],i=["A.M.","P.M."],r=["日","一","二","三","四","五","六"],o=["一","二","三","四","五","六","七","八","九","十","十一","十二"],a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],s=function(e){return((e=parseInt(e)||0)<10?"0":"")+e};return function(c,u,l){if(!c||!u)return"";c=n._$var2date(c),e.yyyy=c.getFullYear(),e.yy=(""+e.yyyy).substr(2),e.M=c.getMonth()+1,e.MM=s(e.M),e.eM=a[e.M-1],e.cM=o[e.M-1],e.d=c.getDate(),e.dd=s(e.d),e.H=c.getHours(),e.HH=s(e.H),e.m=c.getMinutes(),e.mm=s(e.m),e.s=c.getSeconds(),e.ss=s(e.s),e.ms=c.getMilliseconds(),e.w=r[c.getDay()];var d=function(e){return e<12?0:1}(e.H);return e.ct=t[d],e.et=i[d],l&&(e.H=e.H%12),n._$encode(e,u)}}(),n._$var2date=function(e){var i=e;return n._$isString(e)&&(i=new Date(t.__str2time(e))),n._$isDate(i)||(i=new Date(e)),i},n._$fixed=function(e,t){return parseFloat(new Number(e).toFixed(t))},n._$absolute=function(){var e=/([^\/:])\/.*$/,t=/\/[^\/]+$/,n=/[#\?]/,i=location.href.split(/[?#]/)[0],r=document.createElement("a"),o=function(e){return(e=e||"").indexOf("://")>0||0===e.indexOf("//")},a=function(e){return(e||"").split(n)[0].replace(t,"/")},s=function(t,n){return 0==t.indexOf("/")?n.replace(e,"$1")+t:a(n)+t};return i=a(i),function(e,t){if(e=(e||"").trim(),o(t)||(t=i),!e)return t;0===e.indexOf("//")&&(e=t.split(":")[0]+":"+e);return o(e)?e:(e=s(e,t),r.href=e,e=r.href,o(e)?e:r.getAttribute("href",4))}}(),n._$url2origin=function(){var e=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(t){return 0===(t=t||"").indexOf("//")&&(t=location.protocol+t),e.test(t)?RegExp.$1.toLowerCase():""}}(),n._$string2object=function(e,t,i){var r={},o=i;return n._$isFunction(o)||(o=function(e){return i?decodeURIComponent(e):e}),n._$forEach((e||"").split(t),(function(e){var t=e.split("=");if(t&&t.length){var n=t.shift();n&&(r[o(n)]=o(t.join("=")))}})),r},n._$object2string=function(e,t,i){if(!e)return"";var r=[],o=i;return n._$isFunction(o)||(o=function(e){return i?encodeURIComponent(e):e}),n._$loop(e,(function(e,t){n._$isFunction(e)||(n._$isDate(e)?e=e.getTime():n._$isArray(e)?e=e.join(","):n._$isObject(e)&&(e=JSON.stringify(e)),r.push(o(t)+"="+o(e)))})),r.join(t||",")},n._$query2object=function(e){return n._$string2object(e,"&",!0)},n._$object2query=function(e){return n._$object2string(e,"&",!0)},n._$object2array=function(e){return t.__col2array(e)},n._$array2object=function(e,t){var i={};return n._$forEach(e,(function(e){var n=e;t&&(n=t(e)),null!=n&&(i[n]=e)})),i},n._$number2string=function(e,t){var n=(""+e).length,i=Math.max(1,parseInt(t)||0)-n;return i>0&&(e=new Array(i+1).join("0")+e),""+e},n._$safeDelete=function(e,t){if(n._$isArray(t))n._$forEach(t,(function(t){n._$safeDelete(e,t)}));else try{delete e[t]}catch(n){e[t]=void 0}},n._$randString=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";return function(t){t=t||10;for(var n,i=[],r=0;r<t;++r)n=Math.floor(Math.random()*e.length),i.push(e.charAt(n));return i.join("")}}(),n._$randNumber=function(e,t){return Math.floor(Math.random()*(t-e)+e)},n._$randNumberString=function(e){e=Math.max(0,Math.min(e||8,30));var t=Math.pow(10,e-1),i=10*t;return n._$randNumber(t,i).toString()},n._$uniqueID=function(){var e=+new Date;return function(){return""+e++}}(),n._$query=function(e,t){e=e||i;for(var n=(t||"").split("."),r=0,o=n.length;r<o&&(e=e[n[r]]);r++);return e},n._$merge=function(){var e=arguments.length-1,t=arguments[e];n._$isFunction(t)?e-=1:t=r;for(var i=arguments[0]||{},o=1;o<=e;o++)n._$loop(arguments[o],(function(e,n){t(e,n)||(i[n]=e)}));return i},n._$fetch=function(e,t){return t&&n._$loop(e,(function(e,n,i){var r=t[n];null!=r&&(i[n]=r)})),e},n._$hasProperty=function(e){if(!e)return!1;if(null!=e.length)return e.length>0;var t=0;return n._$loop(e,(function(){return++t>0})),t>0},e.Q=n._$query,e.X=n._$merge,e.EX=n._$fetch,e.copy(this.NEJ,e),e.copy(e.P("nej.u"),n),n}),"4ba3beecac53c63f6abbc5d32a9eb5c9","21c093ae96095cb62a812e86a0f31e24"),I$("a6161e565402ebf7656bbb92aad2a00e",(function(e,t,n,i,r,o){var a={};return n.__url2host=function(){var e=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(t){return 0===(t=t||"").indexOf("//")&&(t=location.protocol+t),e.test(t)?RegExp.$1:location.protocol+"//"+location.host}}(),n.__set=function(e,t){a[e]=t},n.__get=function(e){return a[e]},function(){var e={portrait:{name:"portrait",dft:"portrait/"},"ajax.swf":{name:"ajax",dft:"nej_proxy_flash.swf"},"chart.swf":{name:"chart",dft:"nej_flex_chart.swf"},"audio.swf":{name:"audio",dft:"nej_player_audio.swf"},"video.swf":{name:"video",dft:"nej_player_video.swf"},"clipboard.swf":{name:"clipboard",dft:"nej_clipboard.swf"},"upload.image.swf":{name:"uploadimage",dft:"nej_upload_image.swf"}},r=function(e){var t={};if(!e||!e.length)return t;for(var i,r=0,o=e.length;r<o;r++)(i=e[r]).indexOf("://")>0&&(t[n.__url2host(i)]=i);return t};return function(o){n.__set("root",o.root||"/res/");var a=n.__get("root");t._$loop(e,(function(e,t,i){n.__set(t,o[e.name]||a+e.dft)}));var s=o.p_csrf;!0===s&&(s={cookie:"AntiCSRF",param:"AntiCSRF"}),s=s||i,n.__set("csrf",{param:s.param||"",cookie:s.cookie||""}),n.__set("frames",r(o.p_frame)),n.__set("flashs",r(o.p_flash))}}()(this.NEJ_CONF||i),n}),"4ba3beecac53c63f6abbc5d32a9eb5c9","84c66edbaac3f0e7d6c8b753c5fa2fbd"),I$("f3b987f47ba13a5a972616547ca30306",(function(e,t,n,i,r,o){return"trident"===t._$KERNEL.engine&&I$("73e0e032eb9c05dcf6712f5f4be0bbdd",(function(){e.__set("storage.swf",(this.NEJ_CONF||i).storage||e.__get("root")+"nej_storage.swf")})),"trident"===t._$KERNEL.engine&&t._$KERNEL.release<="3.0"&&I$("15e8cfd537e776d378eb5f1a06071f17",(function(){e.__set("blank.png",(this.NEJ_CONF||i).blank||e.__get("root")+"nej_blank.gif")})),e}),"a6161e565402ebf7656bbb92aad2a00e","6d7d8efca2984621427afebf4740148f"),I$("8c8a07aeafcda1041b8f34bf9d65458a",(function(e,t,n,i,r,o){return n._$getFrameProxy=function(e){var i=t.__url2host(e);return n._$get("frames")[i]||i+"/res/nej_proxy_frame.html"},n._$getFlashProxy=function(e){return n._$get("flashs")[t.__url2host(e)]},n._$get=function(e){return t.__get(e)},e.copy(e.P("nej.c"),n),n}),"4ba3beecac53c63f6abbc5d32a9eb5c9","f3b987f47ba13a5a972616547ca30306"),I$("de85da6b52f225de2e019291c3d4669b",(function(e,t,n,i,r,o){var a=+new Date;return n._$CODE_NOTFUND=1e4-a,n._$CODE_NOTASGN=10001-a,n._$CODE_NOTSPOT=10002-a,n._$CODE_TIMEOUT=10003-a,n._$CODE_ERREVAL=10004-a,n._$CODE_ERRCABK=10005-a,n._$CODE_ERRSERV=10006-a,n._$CODE_ERRABRT=10007-a,n._$HEAD_CT="Content-Type",n._$HEAD_CT_PLAN="text/plain",n._$HEAD_CT_FILE="multipart/form-data",n._$HEAD_CT_FORM="application/x-www-form-urlencoded",n._$BLANK_IMAGE=t._$get("blank.png")||"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",e.copy(e.P("nej.g"),n),n}),"4ba3beecac53c63f6abbc5d32a9eb5c9","8c8a07aeafcda1041b8f34bf9d65458a"),I$("857e5b14c4f80b48914afa112ddb7797",(function(e,t){var n={};return t._$merge=function(t){e._$merge(n,t)},t._$dump=function(){return n},t._$clear=function(){n={}},t}),"84c66edbaac3f0e7d6c8b753c5fa2fbd"),I$("1367cec36c4f83f1d17e5d21e0c3899a",(function(e,t,n,i,r,o){n.__getElementById=function(e,t){if(e.getElementById)return e.getElementById(""+t);try{return e.querySelector("#"+t)}catch(e){return null}},n.__getChildren=function(t){return e._$object2array(t.children||t.childNodes)},n.__getElementsByClassName=function(t,n){return e._$object2array(t.getElementsByClassName(n))},n.__nextSibling=function(e){return e.nextElementSibling},n.__previousSibling=function(e){return e.previousElementSibling},n.__dataset=function(e,t,n){return e.dataset=e.dataset||{},void 0!==n&&(e.dataset[t]=n),e.dataset[t]},n.__getAttribute=function(e,t){if("getAttribute"in e)return e.getAttribute(t)},n.__serializeDOM2XML=function(e){return(new XMLSerializer).serializeToString(e)||""},n.__parseDOMFromXML=function(e){var t=(new DOMParser).parseFromString(e,"text/xml").documentElement;return"parsererror"==t.nodeName?null:t},n.__fullScreen=function(){},n.__mask=function(){},n.__unmask=function(){};var a=t._$SUPPORT,s=t._$KERNEL.prefix;return n.__isMatchedName=function(){var e=/^([a-z]+?)[A-Z]/;return function(t,n){return!!(n[t]||e.test(t)&&n[RegExp.$1])}}(),n.__isNeedPrefixed=function(){var t=e._$array2object(["animation","transform","transition","appearance","userSelect","box","flex","column"]);return function(e){return n.__isMatchedName(e,t)}}(),n.__fmtStyleName=function(){var e=/-([a-z])/g;return function(t){return(t=t||"").replace(e,(function(e,t){return t.toUpperCase()}))}}(),n.__getStyleName=function(){var e=/^[a-z]/,t=s.css||"";return function(i){return i=n.__fmtStyleName(i),n.__isNeedPrefixed(i)?t+i.replace(e,(function(e){return e.toUpperCase()})):i}}(),n.__getStyleValue=function(e,t){return window.getComputedStyle(e,null)[n.__getStyleName(t)]||""},n.__setStyleValue=function(e,t,i){e.style[n.__getStyleName(t)]=i},n.__getCSSMatrix=function(){var t=/\((.*?)\)/,n=/\s*,\s*/,i=["CSSMatrix",s.clz+"CSSMatrix"],r=["m11","m12","m21","m22","m41","m42"],o=function(i){var o={};return t.test(i||"")&&e._$forEach(RegExp.$1.split(n),(function(e,t){o[r[t]]=e})),o};return function(t){var n;return e._$forIn(i,(function(e){if(this[e])return n=new this[e](t||""),!0})),n||o(t)}}(),n.__injectCSSText=function(e,t){e.textContent=t},n.__processCSSText=function(){var t=/\$<(.*?)>/gi,r=/\{(.*?)\}/g,o="-"+s.css.toLowerCase()+"-",c={scale:"scale({x|1},{y|1})",rotate:"rotate({a})",translate:"translate({x},{y})",matrix:"matrix({m11},{m12},{m21},{m22},{m41},{m42})"},u={scale:"scale3d({x|1},{y|1},{z|1})",rotate:"rotate3d({x},{y},{z},{a})",translate:"translate3d({x},{y},{z})",matrix:"matrix3d({m11},{m12},{m13},{m14},{m21},{m22},{m23},{m24},{m31},{m32},{m33|1},{m34},{m41},{m42},{m43},{m44|1})"};return n.__processTransformValue=function(e,t){var n=(a.css3d?u:c)[e.trim()];return n?function(e,t){return t=t||i,e.replace(r,(function(e,n){var i=n.split("|");return t[i[0]]||i[1]||"0"}))}(n,t):""},function(i){return i.replace?i.replace(t,(function(t,i){if("vendor"===i)return o;var r=(i||"").split("|");return n.__processTransformValue(r[0],e._$query2object(r[1]))||t})):i}}(),n.__appendCSSText=function(e,t){var n=e.sheet,i=n.cssRules.length;return n.insertRule(t,i),n.cssRules[i]},n.__getClassList=function(){var e=/\s+/;return function(t){return(t=(t||"").trim())?t.split(e):null}}(),n.__processClassName=function(t,i,r){"replace"!=i?e._$forEach(n.__getClassList(r),(function(e){t.classList[i](e)})):(n.__processClassName(t,"remove",r),n.__processClassName(t,"add",arguments[3]))},n.__hasClassName=function(t,i){var r=t.classList;return!(!r||!r.length)&&e._$indexOf(n.__getClassList(i),(function(e){return r.contains(e)}))>=0},function(){if(!a.css3d){var e=n.__getCSSMatrix();a.css3d=!!e&&null!=e.m41}}(),n}),"84c66edbaac3f0e7d6c8b753c5fa2fbd","6d7d8efca2984621427afebf4740148f"),I$("7339744d841d995b61da1a1311328d20",(function(e,t,n,i,r,o,a){return"trident"===t._$KERNEL.engine&&I$("dd969406dc22a6eccc2d2d706fd82744",(function(){e.__getChildren=e.__getChildren._$aop((function(e){var t=e.args[0];if(!t.children){e.stopped=!0;var i=[];n._$forEach(t.childNodes,(function(e){1==e.nodeType&&i.push(e)})),e.value=i}}))})),"trident"===t._$KERNEL.engine&&t._$KERNEL.release<="6.0"&&I$("8bb00e6f0be5bae18986db3402fd0d83",(function(){e.__dataset=function(){var e={},t="data-",i=/\-(.{1})/gi,r=function(r){var o=r.id;if(!e[o]){var a={};n._$forEach(r.attributes,(function(e){var n=e.nodeName;0==n.indexOf(t)&&(n=n.replace(t,"").replace(i,(function(e,t){return t.toUpperCase()})),a[n]=e.nodeValue||"")})),e[o]=a}};return function(t,n,i){r(t);var o=e[t.id];return void 0!==i&&(o[n]=i),o[n]}}()})),"trident"===t._$KERNEL.engine&&t._$KERNEL.release<="5.0"&&I$("a28e541de8731b7dbdac21cfaeb17ddc",(function(){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}e.__injectCSSText=e.__injectCSSText._$aop((function(e){var t=e.args[0];if(t.styleSheet){e.stopped=!0;var n=e.args[1],i=document.styleSheets;i.length>30?n=(t=i[30]).cssText+n:t=t.styleSheet,t.cssText=n}})),e.__getClassRegExp=function(){var e=/\s+/g;return function(t){return(t=(t||"").trim().replace(e,"|"))?new RegExp("(\\s|^)(?:"+t+")(?=\\s|$)","g"):null}}(),e.__processClassName=function(t,n,i){i=i||"";var r=t.className||"",o=e.__getClassRegExp(i+" "+(arguments[3]||"")),a=r;switch(o&&(a=a.replace(o,"")),n){case"remove":i="";break;case"replace":i=arguments[3]||""}r!=(a=(a+" "+i).trim())&&(t.className=a)},e.__hasClassName=function(t,n){var i=e.__getClassRegExp(n);return!!i&&i.test(t.className||"")}})),"trident"===t._$KERNEL.engine&&t._$KERNEL.release<="4.0"&&I$("deed242dd18b3dce8d50c48d472e8ed8",(function(){e.__getElementsByClassName=function(e,t){var i=[],r=new RegExp("(\\s|^)(?:"+t.replace(/\s+/g,"|")+")(?=\\s|$)");return n._$forEach(e.getElementsByTagName("*"),(function(e){r.test(e.className)&&i.push(e)})),i},e.__nextSibling=function(e){for(;e=e.nextSibling;)if(1==e.nodeType)return e},e.__previousSibling=function(e){for(;e=e.previousSibling;)if(1==e.nodeType)return e},e.__serializeDOM2XML=function(e){return"xml"in e?e.xml:e.outerHTML},e.__parseDOMFromXML=function(){var e=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"],t=function(){try{for(var t=0,n=e.length;t<n;t++)return new ActiveXObject(e[t])}catch(e){return null}};return function(e){var n=t();return n&&n.loadXML(e)&&!n.parseError.errorCode?n.documentElement:null}}(),e.__getStyleValue=function(){var t=/opacity\s*=\s*([\d]+)/i,n={opacity:function(e){var n=0;return t.test(e.filter||"")&&(n=parseFloat(RegExp.$1)/100),n}};return function(t,i){var r=t.currentStyle,o=n[i];return o?o(r):r[e.__getStyleName(i)]||""}}(),e.__setStyleValue=function(){var t={opacity:function(e,t){e.style.filter="alpha(opacity="+100*t+")"}};return function(n,i,r){var o=t[i];o?o(n,r):n.style[e.__getStyleName(i)]=r}}(),e.__appendCSSText=function(e,t){var n=e.styleSheet,i=n.rules.length,r=t.split(/[\{\}]/);return n.addRule(r[0],r[1],i),n.rules[i]}})),"trident"===t._$KERNEL.engine&&t._$KERNEL.release<="3.0"&&I$("828716b8ec3cef4abdc31657c1ad0f71",(function(){e.__getAttribute=e.__getAttribute._$aop(null,(function(e){"maxlength"==e.args[1]&&2147483647==e.value&&(e.value=null)}))})),"trident"===t._$KERNEL.engine&&t._$KERNEL.release<="2.0"&&I$("97146f3af80db7cf03e39dc73e92d8e6",(function(){e.__fullScreen=function(e,t){var n=e.style;n.width=t.scrollWidth+"px",n.height=t.scrollHeight+"px"},e.__mask=function(){var t={};return e.__unmask=function(e){var n=e.id,i=t[n];i&&(delete t[n],i.parentNode.removeChild(i))},function(e){var n=e.id,i=t[n];i||((i=document.createElement("iframe")).style.position="absolute",t[n]=i);var r=i.style,o=e.style;return r.top=(parseInt(o.top)||0)+"px",r.left=(parseInt(o.left)||0)+"px",r.width=e.offsetWidth+"px",r.height=e.offsetHeight+"px",e.insertAdjacentElement("beforeBegin",i),i}}()})),"gecko"===t._$KERNEL.engine&&I$("05dca8b11892fbb3c637d9c142dd50f5",(function(){t._$SUPPORT.css3d||(t._$SUPPORT.css3d="MozPerspective"in document.body.style),"insertAdjacentElement"in document.body||(HTMLElement.prototype.insertAdjacentElement=function(e,t){if(e&&t)switch(e){case"beforeEnd":return void this.appendChild(t);case"beforeBegin":return void this.parentNode.insertBefore(t,this);case"afterBegin":return void(this.firstChild?this.insertBefore(t,this.firstChild):this.appendChild(t));case"afterEnd":return void(this.nextSibling?this.parentNode.insertBefore(t,this.nextSibling):this.parentNode.appendChild(t))}}),"innerText"in document.body||(HTMLElement.prototype.__defineGetter__("innerText",(function(){return this.textContent})),HTMLElement.prototype.__defineSetter__("innerText",(function(e){this.textContent=e})))})),e}),"1367cec36c4f83f1d17e5d21e0c3899a","6d7d8efca2984621427afebf4740148f","84c66edbaac3f0e7d6c8b753c5fa2fbd"),I$("0648e0c0c5aea01ad6e22f1aaa3f76a3",(function(e,t,n,i,r,o,a,s,c,u){var l,d={},f={},p={},h=document.createDocumentFragment();return document.head||(document.head=document.getElementsByTagName("head")[0]||document.body),a.dump=function(){return{pool:f,dirty:p,fragment:h}},a._$id=d._$id=function(e){if(e=a._$get(e)){var t=e.id?e.id:"auto-id-"+n._$uniqueID();return"id"in e||(f[t]=e),e.id=t,a._$get(t)||(p[t]=e),t}},a._$get=function(e){try{var t=f[""+e]}catch(e){}return t||(n._$isString(e)||n._$isNumber(e)?((t=document.getElementById(e))||(t=o.__getElementById(h,e)),t&&delete p[e],t||p[e]):e)},a._$getChildren=d._$getChildren=function(e,t){if(!(e=a._$get(e)))return null;var i=o.__getChildren(e);return t&&n._$reverseEach(i,(function(e,n,i){a._$hasClassName(e,t)||i.splice(n,1)})),i},a._$getParent=function(){var e,t=function(t,n){var i=t.split(":");if(i.length>1){e||(e={a:a._$attr,d:a._$dataset,c:a._$hasClassName,t:function(e,t){return(e.tagName||"").toLowerCase()===t}});var r=e[i[0]];if(r)return!!r(n,i[1]);t=i[1]}return!!a._$attr(n,t)||!!a._$dataset(n,t)||a._$hasClassName(n,t)};return function(e,i){if(e=a._$get(e)){if(!i)return e;if(n._$isString(i)&&(i=t._$bind(null,i)),n._$isFunction(i)){for(;e;){if(i(e))return e;e=e.parentNode}return null}return e}}}(),a._$getByClassName=d._$getByClassName=function(e,t){return(e=a._$get(e))?o.__getElementsByClassName(e,t.trim()):null},a._$getSibling=d._$getSibling=function(){var e=function(){return!0};return function(t,i){if(!(t=a._$get(t)))return null;var r={backward:!1,filter:e};n._$isFunction(i)?r.filter=i:r=n._$fetch(r,i);for(var s=r.backward?o.__previousSibling:o.__nextSibling;(t=s(t))&&!r.filter(t););return t}}(),a._$getScrollViewPort=function(e){if(e=a._$get(e)){for(e=e.parentNode;e&&!(e.scrollHeight>e.clientHeight);)e=e.parentNode;if(e)return e}var t=document.body.scrollHeight;return document.documentElement.scrollHeight>=t?document.documentElement:document.body},a._$getPageBox=function(){var e=function(e){var t=0;return n._$forEach(e,(function(e){e&&(t=t?Math.min(t,e):e)})),t},t=[{main:"scroll",sub:["Top","Left"],func:function(e,t,n){return Math.max(t["scroll"+e],n["scroll"+e])}},{main:"client",sub:["Width","Height"],func:function(t,n,i){return e([n["client"+t],n["offset"+t],i["client"+t],i["offset"+t]])}},{main:"scroll",sub:["Width","Height"],func:function(e,t,n,i){return Math.max(i["client"+e],t["scroll"+e],n["scroll"+e])}}];return function(e){var i={},r=e||document,o=r.body,a=r.documentElement;return n._$forEach(t,(function(e){var t=e.main;n._$forEach(e.sub,(function(n){i[t+n]=e.func(n,o,a,i)}))})),i}}(),a._$getMaxBox=function(e,t){var i=n._$merge({},e),r=t.width/t.height,o=e.width/e.height;return r>o&&e.height>t.height&&(i.height=t.height,i.width=i.height*o),r<o&&e.width>t.width&&(i.width=t.width,i.height=i.width/o),i},a._$scrollTo=d._$scrollTo=function(e){var t=a._$offset(e);window.scrollTo(t.x,t.y)},a._$align=function(){var e=/\s+/,t={left:function(){return 0},center:function(e,t){return(e.width-t.width)/2},right:function(e,t){return e.width-t.width},top:function(){return 0},middle:function(e,t){return(e.height-t.height)/2},bottom:function(e,t){return e.height-t.height}};return function(n,i,r){var o={},a=(r||"").split(e),s=t[a[1]]||t.middle,c=t[a[0]]||t.center;return o.top=s(n,i),o.left=c(n,i),o}}(),a._$offset=d._$offset=function(e,t){if(!(e=a._$get(e)))return null;t=a._$get(t)||null;for(var n,i,r,o,s=e,c={x:0,y:0};s&&s!=t;)i=(n=(o=s)==document.body||o==document.documentElement||s==e)?0:s.scrollLeft,r=parseInt(a._$getStyle(s,"borderLeftWidth"))||0,c.x+=s.offsetLeft+r-i,i=n?0:s.scrollTop,r=parseInt(a._$getStyle(s,"borderTopWidth"))||0,c.y+=s.offsetTop+r-i,s=s.offsetParent;return c},a._$fullScreen=d._$fullScreen=function(e){(e=a._$get(e))&&o.__fullScreen(e,a._$getPageBox())},a._$mask=d._$mask=function(e){return(e=a._$get(e))?(a._$id(e),o.__mask(e)):null},a._$unmask=d._$unmask=function(e){return(e=a._$get(e))?(a._$id(e),o.__unmask(e)):null},a._$create=function(){var e={a:{href:"#",hideFocus:!0},style:{type:"text/css"},link:{type:"text/css",rel:"stylesheet"},iframe:{frameBorder:0},script:{defer:!0,type:"text/javascript"}};return function(t,i,r){var o=document.createElement(t),s=e[t.toLowerCase()];return n._$merge(o,s),i&&(o.className=i),(r=a._$get(r))?r.appendChild(o):s||h.appendChild(o),o}}(),a._$createXFrame=function(e){var t=function(e){if(!(e=e.trim()))return a._$create("iframe");var t;try{(t=document.createElement('<iframe name="'+e+'"></iframe>')).frameBorder=0}catch(n){(t=a._$create("iframe")).name=e}return t}((e=e||s).name||"");e.visible||(t.style.display="none"),n._$isFunction(e.onload)&&i._$addEvent(t,"load",(function(n){t.src&&(i._$clearEvent(t,"load"),e.onload(n))}));var r=e.parent;if(n._$isFunction(r))try{r(t)}catch(e){}else(a._$get(r)||document.body).appendChild(t);var o=e.src||(location.hostname==document.domain?"about:blank":'javascript:(function(){document.open();document.domain="'+document.domain+'";document.close();})();');return window.setTimeout((function(){t.src=o}),0),t},a._$remove=d._$remove=function(){var e={img:function(e){e.src=t._$BLANK_IMAGE},iframe:function(e){e.src="about:blank"}},r=function t(i,r){if(r)i.getElementsByTagName&&n._$forEach(i.getElementsByTagName(r),t);else{var o=(i.tagName||"").toLowerCase(),a=e[o];a&&a(i)}};return function(e){(e=a._$get(e))&&(arguments[1]||i._$clearEvent(e),r(e),r(e,"img"),r(e,"iframe"),e.parentNode&&e.parentNode.removeChild(e))}}(),a._$removeByEC=d._$removeByEC=function(e){if(e=a._$get(e))try{h.appendChild(e)}catch(e){console.error(e)}},a._$clearChildren=d._$clearChildren=function(e){(e=a._$get(e))&&n._$reverseEach(e.childNodes,(function(e){a._$remove(e)}))},a._$wrapInline=d._$wrapInline=function(){var e,t=/\s+/;return function(n,i){if(!(n=a._$get(n)))return null;e||(e=a._$pushCSSText(".#<uispace>{position:relative;zoom:1;}.#<uispace>-show{position:absolute;top:0;left:100%;cursor:text;white-space:nowrap;overflow:hidden;}"),a._$dumpCSSText()),i=i||s;var r=n.parentNode;a._$hasClassName(r,e)||(r=a._$create("span",e),n.insertAdjacentElement("beforeBegin",r),r.appendChild(n));var o=i.nid||"",c=a._$getByClassName(r,o||e+"-show")[0];if(!c){var u=((i.clazz||"")+" "+o).trim();u=e+"-show"+(u?" ":"")+u,c=a._$create(i.tag||"span",u),r.appendChild(c)}return(u=i.clazz)&&(u=(u||"").trim().split(t)[0]+"-parent",a._$addClassName(r,u)),c}}(),a._$dataset=d._$dataset=function(e,t,i){var r=a._$id(e);if(!r)return null;if(n._$isString(t))return o.__dataset(a._$get(e),t,i);if(n._$isObject(t)){var s={};return n._$forIn(t,(function(e,t){s[t]=a._$dataset(r,t,e)})),s}if(n._$isArray(t)){s={};return n._$forEach(t,(function(e){s[e]=a._$dataset(r,e)})),s}return null},a._$attr=d._$attr=function(e,t,n){return(e=a._$get(e))?(void 0!==n&&e.setAttribute&&e.setAttribute(t,n),o.__getAttribute(e,t)):""},a._$html2node=function(){var e=/<(.*?)(?=\s|>)/i,t={li:"ul",tr:"tbody",td:"tr",th:"tr",option:"select"};return function(n){var i;e.test(n)&&(i=t[(RegExp.$1||"").toLowerCase()]||"");var r=a._$create(i||"div");r.innerHTML=n;var o=a._$getChildren(r);return o.length>1?r:o[0]}}(),a._$dom2xml=d._$dom2xml=function(e){return(e=a._$get(e))?o.__serializeDOM2XML(e):""},a._$xml2dom=function(e){return(e=(e||"").trim())?o.__parseDOMFromXML(e):null},a._$dom2object=d._$dom2object=function(e,t){if(t=t||{},!(e=a._$get(e)))return t;var i=e.tagName.toLowerCase(),r=a._$getChildren(e);if(!r||!r.length)return t[i]=e.textContent||e.text||"",t;var o={};return t[i]=o,n._$forEach(r,(function(e){a._$dom2object(e,o)})),t},a._$xml2object=function(e){try{return a._$dom2object(a._$xml2dom(e))}catch(e){return null}},a._$text2type=function(){var e={xml:function(e){return a._$xml2dom(e)},json:function(e){try{return JSON.parse(e)}catch(e){return null}},dft:function(e){return e}};return function(t,n){return n=(n||"").toLowerCase(),(e[n]||e.dft)(t||"")}}(),a._$style=d._$style=function(e,t){(e=a._$get(e))&&n._$loop(t,(function(t,n){a._$setStyle(e,n,t)}))},a._$setStyle=d._$setStyle=function(e,t,n){(e=a._$get(e))&&o.__setStyleValue(e,t,o.__processCSSText(n))},a._$getStyle=d._$getStyle=function(e,t){return(e=a._$get(e))?o.__getStyleValue(e,t):""},a._$addScript=function(e){try{if(e=e.trim())return new Function(e)()}catch(e){console.error(e.message),console.error(e.stack)}},a._$addStyle=function(){var e=/[\s\r\n]+/gi;return function(t){var n=null;return(t=(t||"").replace(e," ").trim())&&(n=a._$create("style"),document.head.appendChild(n),o.__injectCSSText(n,o.__processCSSText(t))),n}}(),a._$pushCSSText=function(){var e=/#<(.*?)>/g;new Date;return function(t,i){l||(l=[]);var r="auto-"+n._$uniqueID(),o=n._$merge({uispace:r},i);return l.push(t.replace(e,(function(e,t){return o[t]||e}))),r}}(),a._$dumpCSSText=function(){l&&(a._$addStyle(l.join(" ")),l=null)},a._$appendCSSText=d._$appendCSSText=function(e,t){return(e=a._$get(e))?o.__appendCSSText(e,o.__processCSSText(t)):null},a._$addClassName=d._$addClassName=function(e,t){t&&(e=a._$get(e))&&o.__processClassName(e,"add",t)},a._$delClassName=d._$delClassName=function(e,t){(e=a._$get(e))&&o.__processClassName(e,"remove",t)},a._$replaceClassName=d._$replaceClassName=function(e,t,n){(e=a._$get(e))&&o.__processClassName(e,"replace",t,n)},a._$hasClassName=d._$hasClassName=function(e,t){return!!(e=a._$get(e))&&o.__hasClassName(e,t)},a._$matrix=function(e){return e=(e||"").trim(),o.__getCSSMatrix(e)},a._$css3d=d._$css3d=function(e,t,n){if(e=a._$get(e)){var i=o.__processTransformValue(t,n);i&&a._$setStyle(e,"transform",i)}},r._$merge(d),e.copy(e.P("nej.e"),a),a}),"4ba3beecac53c63f6abbc5d32a9eb5c9","de85da6b52f225de2e019291c3d4669b","84c66edbaac3f0e7d6c8b753c5fa2fbd","c0c334bf3ca5fbd97535793ddce3d534","857e5b14c4f80b48914afa112ddb7797","7339744d841d995b61da1a1311328d20"),I$("94c0973d37c7ebb022d1cd7b6077f45c",(function(e,t,n,i,r,o){return n.__checkEvent=function(){var e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},n=t._$KERNEL.prefix,i={transitionend:"TransitionEnd",animationend:"AnimationEnd",animationstart:"AnimationStart",animationiteration:"AnimationIteration",visibilitychange:"visibilitychange",fullscreenchange:"fullscreenchange"},r={enter:function(e,t,n){var i={type:"keypress"};return n&&(i.handler=function(t){13===t.keyCode&&n.call(e,t)}),i}},o=function(e){return(n.evt||n.pro)+e};return function(t,n,a){var s={type:n,handler:a};if(!("on"+n in t)){var c;if(c=e[n])return s.type=c,s;if(c=i[n])return s.type=o(c),s;var u=r[n];if(u)return u.apply(null,arguments)}return s}}(),n.__addEvent=function(){var e=arguments;e[0].addEventListener(e[1],e[2],e[3])},n.__delEvent=function(){var e=arguments;e[0].removeEventListener(e[1],e[2],e[3])},n.__dispatchEvent=function(t,n,i){var r=document.createEvent("Event");r.initEvent(n,!0,!0),e._$merge(r,i),t.dispatchEvent(r)},n}),"84c66edbaac3f0e7d6c8b753c5fa2fbd","6d7d8efca2984621427afebf4740148f"),I$("4f877fc109d2f90b02f745efa4646fe9",(function(e,t,n,i,r,o,a){return"trident"===e._$KERNEL.engine&&e._$KERNEL.release>="6.0"&&I$("3348a452d31eef363c2a232a9d3cd952",(function(){t.__checkEvent=function(){var e={touchcancel:"MSPointerCancel",touchstart:"MSPointerDown",touchmove:"MSPointerMove",touchend:"MSPointerUp",fullscreenchange:"MSFullscreenChange"};return t.__checkEvent._$aop((function(t){var n=t.args,i=e[n[1]];i&&(t.stopped=!0,t.value={type:i,handler:n[2]})}))}()})),"trident"===e._$KERNEL.engine&&"5.0"==e._$KERNEL.release&&I$("715fa47ff6d89c5a80ea442799828464",(function(){t.__checkEvent=function(){var e={},n={input:function(t,n,i){return i?{type:n,handler:function(n){var r=t.id;e[r]=t.value,i.call(t,n)},link:[[document,"selectionchange",function(n){var r=t.id;t==document.activeElement?e[r]!==t.value&&(e[r]=t.value,i.call(t,n)):delete e[r]}]]}:{type:n}}};return t.__checkEvent._$aop((function(e){var t=e.args,i=n[t[1]];i&&(e.stopped=!0,e.value=i.apply(null,t))}))}()})),"trident"===e._$KERNEL.engine&&e._$KERNEL.release>="5.0"&&I$("d88aa05586cd74964a62043ca1d74f88",(function(){var e={propertychange:1};t.__addEvent=t.__addEvent._$aop((function(t){var n=t.args;null!=e[n[1]]&&n[0].attachEvent&&(t.stopped=!0,n[0].attachEvent("on"+n[1],n[2]))})),t.__delEvent=t.__delEvent._$aop((function(t){var n=t.args;n[1];null!=e[n[1]]&&n[0].detachEvent&&(t.stopped=!0,n[0].detachEvent("on"+n[1],n[2]))}))})),"trident"===e._$KERNEL.engine&&e._$KERNEL.release<="4.0"&&I$("a5e5a2aed13cf1b3f3ac3cbdae970a75",(function(){t.__checkEvent=function(){var e={},n={input:function(t,n,i){var r={type:"propertychange"};if(i){var o=t.id,a=function(n){t.value&&!e["x-"+o]&&(e["x-"+o]=!0,i.call(t,n))};r.handler=function(n){if("value"in t&&"value"==n.propertyName){if(e[o])return;e[o]=!0,i.call(t,n),delete e[o]}},r.link=[[t,"keyup",a],[t,"mouseup",a],[t,"mousemove",a]],r.destroy=function(){delete e[o],delete e["x-"+o]}}return r},load:function(e,t,n){var i={type:"readystatechange"};return n&&(i.handler=function(t){"loaded"!=e.readyState&&"complete"!=e.readyState||n.call(e,t)}),i}};return t.__checkEvent._$aop((function(e){var t=e.args,i=n[t[1]];i&&(e.stopped=!0,e.value=i.apply(null,t)),t[2]&&(t[2]=t[2]._$bind(t[0]))}))}(),t.__addEvent=function(){var e=arguments;e[0].attachEvent("on"+e[1],e[2])},t.__delEvent=function(){var e=arguments;e[0].detachEvent("on"+e[1],e[2])},t.__dispatchEvent=function(){var e={propertychange:{propertyName:"value"}};return function(t,i,r){var o=document.createEventObject();try{n._$merge(o,e[i],r),t.fireEvent("on"+i,o)}catch(e){console.error(e.message),console.error(e.stack)}}}()})),"gecko"===e._$KERNEL.engine&&I$("d878c4d17922f3c3e988b753d155a547",(function(){t.__checkEvent=function(){var e=/^(?:transitionend|animationend|animationstart|animationiteration)$/i,n={mousewheel:function(e,t,n){var i={type:"MozMousePixelScroll"};return n&&(i.handler=function(t){var i=t.detail;t.wheelDelta=-i,t.wheelDeltaY=-i,t.wheelDeltaX=0,n.call(e,t)}),i}};return t.__checkEvent._$aop((function(t){var i=t.args;e.test(i[1])&&(t.stopped=!0,t.value={type:i[1],handler:i[2]});var r=n[i[1]];r&&(t.stopped=!0,t.value=r.apply(null,i))}))}()})),t}),"6d7d8efca2984621427afebf4740148f","94c0973d37c7ebb022d1cd7b6077f45c","84c66edbaac3f0e7d6c8b753c5fa2fbd"),I$("c0c334bf3ca5fbd97535793ddce3d534",(function(e,t,n,i,r,o,a,s,c){var u={},l={},d=function(){var e=/[\s,;]+/;return function(t){return(t=(t||"").trim().toLowerCase())?t.split(e):null}}(),f=function(e,n,i){var r="page"+n;return null!=e[r]?e[r]:e["client"+n]+t._$getPageBox()["scroll"+i]},p=function(e,t,n){var i="scroll"+n;for(_node=o._$getElement(e),_xret=f(e,t,n);_node&&_node!=document.body&&_node!=document.documentElement;)_xret+=_node[i]||0,_node=_node.parentNode;return _xret},h=function(e,i,r,o){var a={};return(e=t._$get(e))?(t._$id(e),a.element=e,n._$isFunction(r)?(a.handler=r,(i=d(i))?(a.type=i,a.capture=!!o,a):null):null):null};return o._$addEvent=l._$addEvent=function(){var e=function(e,n,i){var r=t._$id(n.element),o=u[r]||{},a=o[e]||[];a.push({type:i.type||e,func:i.handler||n.handler,sfun:n.handler,capt:n.capture,link:i.link,destroy:i.destroy}),o[e]=a,u[r]=o};return function(){var i=h.apply(null,arguments);i&&n._$forEach(i.type,(function(o){var a=r.__checkEvent(i.element,o,i.handler);r.__addEvent(i.element,a.type,a.handler,i.capture),n._$forIn(a.link,(function(e){e[3]=!!e[3],r.__addEvent.apply(r,e),e[0]=t._$id(e[0])})),e(o,i,a)}))}}(),o._$delEvent=l._$delEvent=function(){var e=function(e,i){var r=t._$id(i.element),o=u[r]||a,s=o[e],c=n._$indexOf(s,(function(e){return e.sfun===i.handler&&e.capt===i.capture})),l=null;if(c>=0){var d=s.splice(c,1)[0];l=[[i.element,d.type,d.func,i.capture]],d.link&&(n._$forEach(d.link,(function(e){e[0]=t._$get(e[0])})),l.push.apply(l,d.link)),d.destroy&&d.destroy(),s.length||delete o[e],n._$hasProperty(o)||delete u[r]}return l};return function(){var t=h.apply(null,arguments);t&&n._$forEach(t.type,(function(i){n._$forEach(e(i,t),(function(e){r.__delEvent.apply(r,e)}))}))}}(),o._$clearEvent=l._$clearEvent=function(e,i){var r=t._$id(e);if(r){var a=u[r];a&&((i=d(i))?n._$forEach(i,(function(e){!function(e,t,i){n._$reverseEach(i,(function(n){o._$delEvent(e,t,n.sfun,n.capt)}))}(r,e,a[e])})):n._$loop(a,(function(t,n){o._$clearEvent(e,n)})))}},o._$dispatchEvent=l._$dispatchEvent=function(e,i,o){(e=t._$get(e))&&n._$forEach(d(i),(function(t){var n=r.__checkEvent(e,t);r.__dispatchEvent(e,n.type,o)}))},o._$getElement=function(e){if(!e)return null;var n=e.target||e.srcElement,i=arguments[1];return t._$getParent(n,i)},o._$stop=function(e){o._$stopBubble(e),o._$stopDefault(e)},o._$stopBubble=function(e){e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},o._$stopDefault=function(e){e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},o._$page=function(e){return{x:o._$pageX(e),y:o._$pageY(e)}},o._$pageX=function(e){return p(e,"X","Left")},o._$pageY=function(e){return p(e,"Y","Top")},o._$clientX=function(e){return f(e,"X","Left")},o._$clientY=function(e){return f(e,"Y","Top")},i._$merge(l),e.copy(e.P("nej.v"),o),o}),"4ba3beecac53c63f6abbc5d32a9eb5c9","0648e0c0c5aea01ad6e22f1aaa3f76a3","84c66edbaac3f0e7d6c8b753c5fa2fbd","857e5b14c4f80b48914afa112ddb7797","4f877fc109d2f90b02f745efa4646fe9"),function(){var e=!0,t=null;(function(n){function i(n){if("bug-string-char-index"==n)return"a"!="a"[0];var i,r="json"==n;if(r||"json-stringify"==n||"json-parse"==n){if("json-stringify"==n||r){var o=u.stringify,c="function"==typeof o&&l;if(c){(i=function(){return 1}).toJSON=i;try{c="0"===o(0)&&"0"===o(new Number)&&'""'==o(new String)&&o(s)===a&&o(a)===a&&o()===a&&"1"===o(i)&&"[1]"==o([i])&&"[null]"==o([a])&&"null"==o(t)&&"[null,null,null]"==o([a,s,t])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==o({a:[i,e,!1,t,"\0\b\n\f\r\t"]})&&"1"===o(t,i)&&"[\n 1,\n 2\n]"==o([1,2],t,1)&&'"-271821-04-20T00:00:00.000Z"'==o(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==o(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==o(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==o(new Date(-1))}catch(e){c=!1}}if(!r)return c}if("json-parse"==n||r){if("function"==typeof(n=u.parse))try{if(0===n("0")&&!n(!1)){var d=5==(i=n('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}')).a.length&&1===i.a[0];if(d){try{d=!n('"\t"')}catch(e){}if(d)try{d=1!==n("01")}catch(e){}}}}catch(e){d=!1}if(!r)return d}return c&&d}}var r,o,a,s={}.toString,c=__webpack_require__.amdO,u="object"==_typeof(exports)&&exports;u||c?"object"==("undefined"==typeof JSON?"undefined":_typeof(JSON))&&JSON?u?(u.stringify=JSON.stringify,u.parse=JSON.parse):u=JSON:c&&(u=n.JSON={}):u=n.JSON||(n.JSON={});var l=new Date(-0xc782b5b800cec);try{l=-109252==l.getUTCFullYear()&&0===l.getUTCMonth()&&1===l.getUTCDate()&&10==l.getUTCHours()&&37==l.getUTCMinutes()&&6==l.getUTCSeconds()&&708==l.getUTCMilliseconds()}catch(e){}if(!i("json")){var d=i("bug-string-char-index");if(!l)var f=Math.floor,p=[0,31,59,90,120,151,181,212,243,273,304,334],h=function(e,t){return p[t]+365*(e-1970)+f((e-1969+(t=+(t>1)))/4)-f((e-1901+t)/100)+f((e-1601+t)/400)};(r={}.hasOwnProperty)||(r=function(e){var n,i={};return(i.__proto__=t,i.__proto__={toString:1},i).toString!=s?r=function(e){var n=this.__proto__;e=e in(this.__proto__=t,this);return this.__proto__=n,e}:(n=i.constructor,r=function(e){var t=(this.constructor||n).prototype;return e in this&&!(e in t&&this[e]===t[e])}),i=t,r.call(this,e)});var _={boolean:1,number:1,string:1,undefined:1};if(o=function(e,n){var i,o,a,c=0;for(a in(i=function(){this.valueOf=0}).prototype.valueOf=0,o=new i)r.call(o,a)&&c++;i=o=t,c?c=2==c?function(e,t){var n,i={},o="[object Function]"==s.call(e);for(n in e)(!o||"prototype"!=n)&&!r.call(i,n)&&(i[n]=1)&&r.call(e,n)&&t(n)}:function(e,t){var n,i,o="[object Function]"==s.call(e);for(n in e)(!o||"prototype"!=n)&&r.call(e,n)&&!(i="constructor"===n)&&t(n);(i||r.call(e,n="constructor"))&&t(n)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],c=function(e,t){var n,i,a="[object Function]"==s.call(e);for(n in(i=!a)&&(i="function"!=typeof e.constructor)&&(i="object"==(i=_typeof(e.hasOwnProperty))?!!e.hasOwnProperty:!_[i]),i=i?e.hasOwnProperty:r,e)(!a||"prototype"!=n)&&i.call(e,n)&&t(n);for(a=o.length;n=o[--a];i.call(e,n)&&t(n));}),c(e,n)},!i("json-stringify")){var m={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},v=function(e,t){return("000000"+(t||0)).slice(-e)},b=function(e){var t,n='"',i=0,r=e.length,o=r>10&&d;for(o&&(t=e.split(""));i<r;i++){var a=e.charCodeAt(i);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=m[a];break;default:if(a<32){n+="\\u00"+v(2,a.toString(16));break}n+=o?t[i]:d?e.charAt(i):e[i]}}return n+'"'},g=function n(i,c,u,l,d,p,_){var m,g,y,E,A,w,C,$,x,S=c[i];try{S=c[i]}catch(e){}if("object"==_typeof(S)&&S)if("[object Date]"!=(m=s.call(S))||r.call(S,"toJSON"))"function"==typeof S.toJSON&&("[object Number]"!=m&&"[object String]"!=m&&"[object Array]"!=m||r.call(S,"toJSON"))&&(S=S.toJSON(i));else if(S>-1/0&&S<1/0){if(h){for(y=f(S/864e5),m=f(y/365.2425)+1970-1;h(m+1,0)<=y;m++);for(g=f((y-h(m,0))/30.42);h(m,g+1)<=y;g++);y=1+y-h(m,g),A=f((E=(S%864e5+864e5)%864e5)/36e5)%24,w=f(E/6e4)%60,C=f(E/1e3)%60,E%=1e3}else m=S.getUTCFullYear(),g=S.getUTCMonth(),y=S.getUTCDate(),A=S.getUTCHours(),w=S.getUTCMinutes(),C=S.getUTCSeconds(),E=S.getUTCMilliseconds();S=(m<=0||m>=1e4?(m<0?"-":"+")+v(6,m<0?-m:m):v(4,m))+"-"+v(2,g+1)+"-"+v(2,y)+"T"+v(2,A)+":"+v(2,w)+":"+v(2,C)+"."+v(3,E)+"Z"}else S=t;if(u&&(S=u.call(c,i,S)),S===t)return"null";if("[object Boolean]"==(m=s.call(S)))return""+S;if("[object Number]"==m)return S>-1/0&&S<1/0?""+S:"null";if("[object String]"==m)return b(""+S);if("object"==_typeof(S)){for(i=_.length;i--;)if(_[i]===S)throw TypeError();if(_.push(S),$=[],c=p,p+=d,"[object Array]"==m){for(g=0,i=S.length;g<i;x||(x=e),g++)m=n(g,S,u,l,d,p,_),$.push(m===a?"null":m);i=x?d?"[\n"+p+$.join(",\n"+p)+"\n"+c+"]":"["+$.join(",")+"]":"[]"}else o(l||S,(function(t){var i=n(t,S,u,l,d,p,_);i!==a&&$.push(b(t)+":"+(d?" ":"")+i),x||(x=e)})),i=x?d?"{\n"+p+$.join(",\n"+p)+"\n"+c+"}":"{"+$.join(",")+"}":"{}";return _.pop(),i}};u.stringify=function(e,t,n){var i,r,o;if("function"==typeof t||"object"==_typeof(t)&&t)if("[object Function]"==s.call(t))r=t;else if("[object Array]"==s.call(t)){o={};for(var a,c=0,u=t.length;c<u;a=t[c++],("[object String]"==s.call(a)||"[object Number]"==s.call(a))&&(o[a]=1));}if(n)if("[object Number]"==s.call(n)){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else"[object String]"==s.call(n)&&(i=n.length<=10?n:n.slice(0,10));return g("",((a={})[""]=e,a),r,o,i,"",[])}}if(!i("json-parse")){var y,E,A=String.fromCharCode,w={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},C=function(){throw y=E=t,SyntaxError()},$=function(){for(var n,i,r,o,a,s=E,c=s.length;y<c;)switch(a=s.charCodeAt(y)){case 9:case 10:case 13:case 32:y++;break;case 123:case 125:case 91:case 93:case 58:case 44:return n=d?s.charAt(y):s[y],y++,n;case 34:for(n="@",y++;y<c;)if((a=s.charCodeAt(y))<32)C();else if(92==a)switch(a=s.charCodeAt(++y)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:n+=w[a],y++;break;case 117:for(i=++y,r=y+4;y<r;y++)(a=s.charCodeAt(y))>=48&&a<=57||a>=97&&a<=102||a>=65&&a<=70||C();n+=A("0x"+s.slice(i,y));break;default:C()}else{if(34==a)break;for(a=s.charCodeAt(y),i=y;a>=32&&92!=a&&34!=a;)a=s.charCodeAt(++y);n+=s.slice(i,y)}if(34==s.charCodeAt(y))return y++,n;C();default:if(i=y,45==a&&(o=e,a=s.charCodeAt(++y)),a>=48&&a<=57){for(48==a&&((a=s.charCodeAt(y+1))>=48&&a<=57)&&C();y<c&&((a=s.charCodeAt(y))>=48&&a<=57);y++);if(46==s.charCodeAt(y)){for(r=++y;r<c&&((a=s.charCodeAt(r))>=48&&a<=57);r++);r==y&&C(),y=r}if(101==(a=s.charCodeAt(y))||69==a){for((43==(a=s.charCodeAt(++y))||45==a)&&y++,r=y;r<c&&((a=s.charCodeAt(r))>=48&&a<=57);r++);r==y&&C(),y=r}return+s.slice(i,y)}if(o&&C(),"true"==s.slice(y,y+4))return y+=4,e;if("false"==s.slice(y,y+5))return y+=5,!1;if("null"==s.slice(y,y+4))return y+=4,t;C()}return"$"},x=function t(n){var i,r;if("$"==n&&C(),"string"==typeof n){if("@"==(d?n.charAt(0):n[0]))return n.slice(1);if("["==n){for(i=[];"]"!=(n=$());r||(r=e))r&&(","==n?"]"==(n=$())&&C():C()),","==n&&C(),i.push(t(n));return i}if("{"==n){for(i={};"}"!=(n=$());r||(r=e))r&&(","==n?"}"==(n=$())&&C():C()),(","==n||"string"!=typeof n||"@"!=(d?n.charAt(0):n[0])||":"!=$())&&C(),i[n.slice(1)]=t($());return i}C()}return n},S=function(e,t,n){(n=I(e,t,n))===a?delete e[t]:e[t]=n},I=function(e,t,n){var i,r=e[t];if("object"==_typeof(r)&&r)if("[object Array]"==s.call(r))for(i=r.length;i--;)S(r,i,n);else o(r,(function(e){S(r,e,n)}));return n.call(e,t,r)};u.parse=function(e,n){var i,r;return y=0,E=""+e,i=x($()),"$"!=$()&&C(),y=E=t,n&&"[object Function]"==s.call(n)?I(((r={})[""]=i,r),"",n):i}}}c&&(void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return u}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))})(this),JSON}(),I$("5dd87ae7b6132c179ec92fb52ce3d30b",(function(_m,_p,_o,_f,_r){return"trident"===_m._$KERNEL.engine&&"2.0"==_m._$KERNEL.release&&I$("624dda0e9b39dd2d9db20cac2f17304a",(function(){JSON.parse=function(){var _isSafeJSON=function(e){return!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(e.replace(/"(\\.|[^"\\])*"/g,""))};return JSON.parse._$aop((function(_event){var _str=_event.args[0]||"";_str.length>=5e5&&(_event.stopped=!0,_event.value=eval("("+_str+")"))}))}()})),JSON}),"6d7d8efca2984621427afebf4740148f"),I$("d54340b50ebb0e85090dcbb31bc2720d",(function(){return JSON}),"5dd87ae7b6132c179ec92fb52ce3d30b"),I$("359df7a607d3d9edad6eae4ba16084ed",(function(e,t,n,i,r,o){for(var a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c={},u={},l=0,d=s.length;l<d;l++)a=s.charAt(l),c[l]=a,u[a]=l;var f=function(){var e=/\r\n/g;return function(t){t=t.replace(e,"\n");var n=[];if(String.fromCharCode(237).charCodeAt(0)<0)for(var i=0,r=t.length;i<r;i++)(o=t.charCodeAt(i))>0?n.push(o):n.push(256+o>>6|192,256+o&63|128);else{var o;for(i=0,r=t.length;i<r;i++)(o=t.charCodeAt(i))<128?n.push(o):o>127&&o<2048?n.push(o>>6|192,63&o|128):n.push(o>>12|224,o>>6&63|128,63&o|128)}return n}}(),p=function(){var e=/\n|\r|=/g;return function(t){for(var n=[],i=0,r=(t=t.replace(e,"")).length;i<r;i+=4)n.push(u[t.charAt(i)]<<2|u[t.charAt(i+1)]>>4,(15&u[t.charAt(i+1)])<<4|u[t.charAt(i+2)]>>2,(3&u[t.charAt(i+2)])<<6|u[t.charAt(i+3)]);var o=n.length,a=t.length%4;return 2==a&&(n=n.slice(0,o-2)),3==a&&(n=n.slice(0,o-1)),n}}();return n._$b642str=function(e){return function(e){for(var t,n=0,i=[];n<e.length;)(t=e[n])<128?(i.push(String.fromCharCode(t)),n++):t>191&&t<224?(i.push(String.fromCharCode((31&t)<<6|63&e[n+1])),n+=2):(i.push(String.fromCharCode((15&t)<<12|(63&e[n+1])<<6|63&e[n+2])),n+=3);return i.join("")}(p(e))},n._$str2b64=function(e){try{return window.btoa(e)}catch(t){return function(e){var t=0,n=[],i=e.length%3;for(1==i&&e.push(0,0),2==i&&e.push(0);t<e.length;)n.push(c[e[t]>>2],c[(3&e[t])<<4|e[t+1]>>4],c[(15&e[t+1])<<2|e[t+2]>>6],c[63&e[t+2]]),t+=3;return 1==i&&(n[n.length-1]=n[n.length-2]="="),2==i&&(n[n.length-1]="="),n.join("")}(f(e))}},e.copy(e.P("nej.u"),n),n}),"4ba3beecac53c63f6abbc5d32a9eb5c9","84c66edbaac3f0e7d6c8b753c5fa2fbd"),I$("000e81f744cfd9926f418cd7d7226a6a",(function(e,t,n,i){var r={},o={},a={},s={},c={};i.batch=function(t){e._$loop(t,(function(e,t){this.set(t,e)}),this)},i.$default=function(t){var n=function(t,n){var r=e._$merge(n,i.get(t));a[t]=r};if("string"==typeof t){var r=1;n(t,arguments[r])}else e._$loop(t,(function(e,t){n(t,e)}))},i.set=function(t,n){var i=this.get(t);e._$merge(i,n),a[t]=i},i.get=function(e){return a[e]||{}},i.setPermission=function(t,n){e._$forIn(n,(function(t){c=e._$merge(c,t)})),e._$forEach(t,(function(t){e._$forIn(n[t],(function(t,n){s[n]=s[n]||t,s[n]=e._$merge(s[n],t)}))}))},i.isShow=function(e){var t=!1!==(a[e.key]||{})[e.switcher];return c[e.key]&&(t=t&&!0===(s[e.key]||{})[e.switcher]),t},i.isShow2=function(e,t){if(!t)return i.isShow(e);var n=!1!==(a[e.key]||{})[e.switcher]&&!!c[e.key];return c[e.key]&&(n=n&&!0===(s[e.key]||{})[e.switcher]),n},i.setScope=function(e,i,o){if("string"==typeof e){var a=n._$b642str(e),s=t.parse(a);(e=s.scope||{}).signature=s.signature}i&&(e.extend=i),r[o=o||"_default"]=e},i.getScope=function(e){return r[e=e||"_default"]},i.setAuth=function(e){o._default=e},i.getAuth=function(){return o._default},i.setToken=function(e){o._token=e},i.getToken=function(){return o._token},i.setLoginUser=function(e){i.set("global-login-user",e)},i.getLoginUser=function(){return i.get("global-login-user")}}),"84c66edbaac3f0e7d6c8b753c5fa2fbd","d54340b50ebb0e85090dcbb31bc2720d","359df7a607d3d9edad6eae4ba16084ed"),I$("36363d532750f767f7937a82c4c774f4",(function(e){function t(e,t){var n=t?new Map:{};return e.forEach((function(e){t?n.set(e.key,e.value):n[e.key]=e.value})),n}function n(e,t,i){if("this"===t)return this&&this.valueOf?this.valueOf():this;if(null==e)return i;var r=(t=(t=t.replace(/\[(\d+)]/g,(function(e,t){return"."+t}))).replace(/^\./,"")).indexOf("."),o=t.slice(0,r),a=t.slice(r+1),s="this"===o?this:e[o];return-1===r?!e.hasOwnProperty&&t in e||e.hasOwnProperty&&e.hasOwnProperty(t)?e[t]:i:n.call(this,s,a,i)}e.dom=Regular.dom,e.noop=Regular.util.noop,e.multiline=function(e){if(/^function\s*\(\)\s*\{\s*\/\*+\s*([\s\S]*)\s*\*+\/\s*\}$/.test(e))return RegExp.$1};var i=/(^|[^<]+)<[\w-]+\s*class="\s*([\w-]+)[\s|"]/i,r=/(\sclass="\s*)~/gi,o=/(\sclass="\s*)&/gi;e.bemify=function(e,t,n){return(t=t||(e.trim().match(i)||"")[2])?e.replace(n?o:r,(function(e,n){return n+t})):(console.warn("there is no root-class here:\n",e.slice(0,99)),e)},e.extend=function(e,t,n,i){for(var r in t)i&&!t.hasOwnProperty(r)||!n&&void 0!==e[r]||(e[r]=t[r]);return e},e.map2list=function(e,t,n){var i,r=[];for(var o in t=t||"id",n=n||"name",e)e.hasOwnProperty(o)&&((i={})[t]=o,i[n]=e[o],r.push(i));return r},e.hashList2map=t,e.updateCheckedListByHashList=function(e,n){var i=t(n);return e.forEach((function(e){e.checked=1==i[e.id]})),e},e.deepGet=n,e.webTypeParserMap={time:function(e){return Number(e)||""},number:function(e){return(e=Number(e))!=e?"":e},string:function(e){return null==e?"":String(e)},boolean:function(e){return""===e||null==e?"":!1!==e&&0!==e&&"0"!==e&&"false"!==e&&"FALSE"!==e},array:function(e){return Array.isArray(e)?e:[]},fullList:function(e){return"string"==typeof e?e.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})):e.filter((function(e){return null!=e&&""!==e}))},checkedHashList:function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++)t.push({key:e[n].id,value:Number(e[n].checked)});return t}},e.addType=function(t,n){e.webTypeParserMap[t]?console.log(t+"is override!"):e.webTypeParserMap[t]=n},e.pick=function(t,i,r){var o,a,s,c,u,l,d,f,p,h={},_=" as ",m="{",v=":",b=/([\w:]+)\s*\{\s*([\w.]+)\s*}/g,g=this===e?t:this,y="string"==typeof i;if(null==i)return h;y&&(i=[i]),arguments[2]&&"object"==_typeof(arguments[2])&&(r=(d=arguments[2]).notFound,f=d.keepNull,p=d.keepUndefined);for(var E=0;E<i.length;E++){if((o=i[E].replace(/\[(\d+)]/g,(function(e,t){return"."+t}))).indexOf(_)>0?c=o.split(_):o.indexOf(m)>0&&o.replace(b,(function(e,t,n){c=[n,t]})),c){if(c.length<2)throw new Error("Params Error:there is no attr-path or key here!");s=c[0].trim(),o=c[1].trim()}o.indexOf(v)>0&&(l=(u=o.split(v))[1].trim(),o=u[0].trim()),s=s||o,a=2==arguments.length?n.call(g,t,s):n.call(g,t,s,r),a=l?e.webTypeParserMap[l](a):a,f&&null===a||p&&void 0===a||(a=null==a?"":a),h[o]=a,c=s=o=a=l=u=null}if(y)for(var A in h)return h[A];return h}})),I$("8104595af1e10ecefb4711ed8d694c76",(function(e,t){function n(e){return function(t,n){t.setAttribute(e,n),this.$watch(n,(function(i){t.setAttribute(e,n)}))}}var i="log-id",r="log-act",o="log-data";t[i]=n("data-log-id"),t[r]=n("data-log-act"),t.setData=function(t,n){t.setAttribute("data-log-data",function(t){if(e._$isObject(t,"object"))try{t=JSON.stringify(t)}catch(e){t="{}"}return t}(n))},t[o]=function(e,n){t.setData(e,n),this.$watch(n,(function(n){t.setData(e,n)}))},t["r-class"]=function(e,t){"string"==typeof t&&(t=function(e){return 0!==e.trim().indexOf("{")?"{"+e+"}":e}(t));var n=this.name,i=e.getAttribute("class")||"",r=this.bemify?e.getAttribute("bem-class")||i.trim().split(" ")[0].trim():"",o=e.namespaceURI&&"http://www.w3.org/1999/xhtml"!==e.namespaceURI;this.$watch(t,(function(t){var i,a=e.getAttribute("class");for(var s in a=" "+(a||"").replace(/\s+/g," ")+" ",t)t.hasOwnProperty(s)&&(i=this.bemify?s.replace(/^~/,n).replace(/^&/,r):s,a=a.replace(" "+i+" "," "),!0===t[s]&&(a+=i+" "));a=a.trim(),o?e.setAttribute("class",a):e.className=a}),!0)}}),"84c66edbaac3f0e7d6c8b753c5fa2fbd"),I$("74f071927a65c13cc98c23678a88c919",(function(e,t){t.set=function(n){e._$loop(n,(function(e,n){t[n]="string"==typeof e?e:e.message}))},t.$=function(e,t){return map[e]||""}}),"84c66edbaac3f0e7d6c8b753c5fa2fbd"),I$("db8fc203efc70d896192c3773c1a91d5",(function(e,t){return{asNumOrDash:function(e,t){return null==e?t||"--":e}}}),"84c66edbaac3f0e7d6c8b753c5fa2fbd"),I$("4f162cb25f4228e549ecb6fa613edb29",'@font-face {\n  font-family: "ux-icon";\n  src: url("//icon.nosdn.127.net/dad719ada698eb33de95c69e74645990.eot");\n  src: url("//icon.nosdn.127.net/dad719ada698eb33de95c69e74645990.eot") format("embedded-opentype"), url("//icon.nosdn.127.net/dc2d3cbcc40edc31cfd43cbeed64c151.ttf") format("truetype"), url("//icon.nosdn.127.net/14742af36cb3eb426eb00bfcb6a764ed.woff") format("woff"), url("//icon.nosdn.127.net/b33dd203625ac20e914de3db17e9b533.svg") format("svg");\n  font-weight: normal;\n  font-style: normal; }\n[class^="ux-icon-"], [class*=" ux-icon-"] {\n  font-family: "ux-icon" !important;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-style: normal;\n  font-variant: normal;\n  font-weight: normal;\n  text-decoration: none;\n  text-transform: none;\n  line-height: 1; }\n\n.ux-icon-OJ-question:before {\n  content: "\\EA01"; }\n\n.ux-icon-QQ:before {\n  content: "\\EA02"; }\n\n.ux-icon-add-big:before {\n  content: "\\EA03"; }\n\n.ux-icon-angle-double-left:before {\n  content: "\\EA04"; }\n\n.ux-icon-angle-double-right:before {\n  content: "\\EA05"; }\n\n.ux-icon-answer-question:before {\n  content: "\\EA06"; }\n\n.ux-icon-arr-right-small:before {\n  content: "\\EA07"; }\n\n.ux-icon-arrange:before {\n  content: "\\EA08"; }\n\n.ux-icon-arrow-down:before {\n  content: "\\EA09"; }\n\n.ux-icon-arrow-left:before {\n  content: "\\EA0A"; }\n\n.ux-icon-arrow-top:before {\n  content: "\\EA0B"; }\n\n.ux-icon-attachment:before {\n  content: "\\EA0C"; }\n\n.ux-icon-attachment2:before {\n  content: "\\EA0D"; }\n\n.ux-icon-audio-text-1:before {\n  content: "\\EA0E"; }\n\n.ux-icon-audio-text:before {\n  content: "\\EA0F"; }\n\n.ux-icon-audio:before {\n  content: "\\EA10"; }\n\n.ux-icon-audio1:before {\n  content: "\\EA11"; }\n\n.ux-icon-audio2:before {\n  content: "\\EA12"; }\n\n.ux-icon-audio3:before {\n  content: "\\EA13"; }\n\n.ux-icon-back:before {\n  content: "\\EA14"; }\n\n.ux-icon-bell:before {\n  content: "\\EA15"; }\n\n.ux-icon-bin:before {\n  content: "\\EA16"; }\n\n.ux-icon-blank-state:before {\n  content: "\\EA17"; }\n\n.ux-icon-blocked:before {\n  content: "\\EA18"; }\n\n.ux-icon-book-1:before {\n  content: "\\EA19"; }\n\n.ux-icon-book:before {\n  content: "\\EA1A"; }\n\n.ux-icon-broswer-close-slim:before {\n  content: "\\EA1B"; }\n\n.ux-icon-broswer-close:before {\n  content: "\\EA1C"; }\n\n.ux-icon-broswer-max-slim:before {\n  content: "\\EA1D"; }\n\n.ux-icon-broswer-max:before {\n  content: "\\EA1E"; }\n\n.ux-icon-broswer-min-slim:before {\n  content: "\\EA1F"; }\n\n.ux-icon-broswer-min:before {\n  content: "\\EA20"; }\n\n.ux-icon-broswer-refresh:before {\n  content: "\\EA21"; }\n\n.ux-icon-broswer-setting:before {\n  content: "\\EA22"; }\n\n.ux-icon-calculating-signs:before {\n  content: "\\EA23"; }\n\n.ux-icon-calendar:before {\n  content: "\\EA24"; }\n\n.ux-icon-caret-down:before {\n  content: "\\EA25"; }\n\n.ux-icon-caret-left:before {\n  content: "\\EA26"; }\n\n.ux-icon-caret-right:before {\n  content: "\\EA27"; }\n\n.ux-icon-caret-up:before {\n  content: "\\EA28"; }\n\n.ux-icon-cart:before {\n  content: "\\EA29"; }\n\n.ux-icon-cart3:before {\n  content: "\\EA2A"; }\n\n.ux-icon-cash:before {\n  content: "\\EA2B"; }\n\n.ux-icon-cash2:before {\n  content: "\\EA2C"; }\n\n.ux-icon-category-forum:before {\n  content: "\\EA2D"; }\n\n.ux-icon-category-live:before {\n  content: "\\EA2E"; }\n\n.ux-icon-category-pdf:before {\n  content: "\\EA2F"; }\n\n.ux-icon-category-replay:before {\n  content: "\\EA30"; }\n\n.ux-icon-category-scorm:before {\n  content: "\\EA31"; }\n\n.ux-icon-category-test:before {\n  content: "\\EA32"; }\n\n.ux-icon-category-text:before {\n  content: "\\EA33"; }\n\n.ux-icon-category-unknown:before {\n  content: "\\EA34"; }\n\n.ux-icon-category-video:before {\n  content: "\\EA35"; }\n\n.ux-icon-cert-manage:before {\n  content: "\\EA36"; }\n\n.ux-icon-certification:before {\n  content: "\\EA37"; }\n\n.ux-icon-chat-circle:before {\n  content: "\\EA38"; }\n\n.ux-icon-check-slim:before {\n  content: "\\EA39"; }\n\n.ux-icon-check:before {\n  content: "\\EA3A"; }\n\n.ux-icon-circle-green-hook:before {\n  content: "\\EA3B"; }\n\n.ux-icon-circle-green-success:before {\n  content: "\\EA3C"; }\n\n.ux-icon-clear:before {\n  content: "\\EA3D"; }\n\n.ux-icon-clock:before {\n  content: "\\EA3E"; }\n\n.ux-icon-close:before {\n  content: "\\EA3F"; }\n\n.ux-icon-collect:before {\n  content: "\\EA40"; }\n\n.ux-icon-combined-shape:before {\n  content: "\\EA41"; }\n\n.ux-icon-comment:before {\n  content: "\\EA42"; }\n\n.ux-icon-comment2:before {\n  content: "\\EA43"; }\n\n.ux-icon-continue:before {\n  content: "\\EA44"; }\n\n.ux-icon-cooperation:before {\n  content: "\\EA45"; }\n\n.ux-icon-course-content:before {\n  content: "\\EA46"; }\n\n.ux-icon-course-discuss:before {\n  content: "\\EA47"; }\n\n.ux-icon-course-intro:before {\n  content: "\\EA48"; }\n\n.ux-icon-course-manage:before {\n  content: "\\EA49"; }\n\n.ux-icon-course-slim:before {\n  content: "\\EA4A"; }\n\n.ux-icon-create-course:before {\n  content: "\\EA4B"; }\n\n.ux-icon-credit-setting:before {\n  content: "\\EA4C"; }\n\n.ux-icon-credit:before {\n  content: "\\EA4D"; }\n\n.ux-icon-data-interface:before {\n  content: "\\EA4E"; }\n\n.ux-icon-data:before {\n  content: "\\EA4F"; }\n\n.ux-icon-delay-punched:before {\n  content: "\\EA50"; }\n\n.ux-icon-delay-punched2:before {\n  content: "\\EA51"; }\n\n.ux-icon-delay-punched3:before {\n  content: "\\EA52"; }\n\n.ux-icon-delete:before {\n  content: "\\EA53"; }\n\n.ux-icon-dialog:before {\n  content: "\\EA54"; }\n\n.ux-icon-discuss:before {\n  content: "\\EA55"; }\n\n.ux-icon-document-small:before {\n  content: "\\EA56"; }\n\n.ux-icon-document:before {\n  content: "\\EA57"; }\n\n.ux-icon-douban:before {\n  content: "\\EA58"; }\n\n.ux-icon-download:before {\n  content: "\\EA59"; }\n\n.ux-icon-edit:before {\n  content: "\\EA5A"; }\n\n.ux-icon-elite:before {\n  content: "\\EA5B"; }\n\n.ux-icon-empty-criterial:before {\n  content: "\\EA5C"; }\n\n.ux-icon-empty-status:before {\n  content: "\\EA5D"; }\n\n.ux-icon-empty:before {\n  content: "\\EA5E"; }\n\n.ux-icon-enter-fullscreen:before {\n  content: "\\EA5F"; }\n\n.ux-icon-error-circle:before {\n  content: "\\EA60"; }\n\n.ux-icon-error-round:before {\n  content: "\\EA61"; }\n\n.ux-icon-exam:before {\n  content: "\\EA62"; }\n\n.ux-icon-exchange:before {\n  content: "\\EA63"; }\n\n.ux-icon-exercise:before {\n  content: "\\EA64"; }\n\n.ux-icon-exit-fullscreen:before {\n  content: "\\EA65"; }\n\n.ux-icon-eye:before {\n  content: "\\EA66"; }\n\n.ux-icon-feedback:before {\n  content: "\\EA67"; }\n\n.ux-icon-file-export:before {\n  content: "\\EA68"; }\n\n.ux-icon-folder:before {\n  content: "\\EA69"; }\n\n.ux-icon-folder2:before {\n  content: "\\EA6A"; }\n\n.ux-icon-front:before {\n  content: "\\EA6B"; }\n\n.ux-icon-gear:before {\n  content: "\\EA6C"; }\n\n.ux-icon-gift:before {\n  content: "\\EA6D"; }\n\n.ux-icon-halfcircle:before {\n  content: "\\EA6E"; }\n\n.ux-icon-hand-down:before {\n  content: "\\EA6F"; }\n\n.ux-icon-hand-up:before {\n  content: "\\EA70"; }\n\n.ux-icon-headphone:before {\n  content: "\\EA71"; }\n\n.ux-icon-home:before {\n  content: "\\EA72"; }\n\n.ux-icon-html-canvas-add-image:before {\n  content: "\\EA73"; }\n\n.ux-icon-html-canvas-add-text:before {\n  content: "\\EA74"; }\n\n.ux-icon-hyper-link:before {\n  content: "\\EA75"; }\n\n.ux-icon-icourse:before {\n  content: "\\EA76"; }\n\n.ux-icon-im:before {\n  content: "\\EA77"; }\n\n.ux-icon-judge:before {\n  content: "\\EA78"; }\n\n.ux-icon-key:before {\n  content: "\\EA79"; }\n\n.ux-icon-learn-content:before {\n  content: "\\EA7A"; }\n\n.ux-icon-learn-select:before {\n  content: "\\EA7B"; }\n\n.ux-icon-like:before {\n  content: "\\EA7C"; }\n\n.ux-icon-list:before {\n  content: "\\EA7D"; }\n\n.ux-icon-live-notify-text:before {\n  content: "\\EA7E"; }\n\n.ux-icon-live-playback-text:before {\n  content: "\\EA7F"; }\n\n.ux-icon-live-text:before {\n  content: "\\EA80"; }\n\n.ux-icon-live-tips:before {\n  content: "\\EA81"; }\n\n.ux-icon-live:before {\n  content: "\\EA82"; }\n\n.ux-icon-locate:before {\n  content: "\\EA83"; }\n\n.ux-icon-lock-circle:before {\n  content: "\\EA84"; }\n\n.ux-icon-lock-ellipse:before {\n  content: "\\EA85"; }\n\n.ux-icon-lock:before {\n  content: "\\EA86"; }\n\n.ux-icon-loop2:before {\n  content: "\\EA87"; }\n\n.ux-icon-management:before {\n  content: "\\EA88"; }\n\n.ux-icon-message:before {\n  content: "\\EA89"; }\n\n.ux-icon-microphone:before {\n  content: "\\EA8A"; }\n\n.ux-icon-minus-big:before {\n  content: "\\EA8B"; }\n\n.ux-icon-minus:before {\n  content: "\\EA8C"; }\n\n.ux-icon-mobile-plat:before {\n  content: "\\EA8D"; }\n\n.ux-icon-mobile:before {\n  content: "\\EA8E"; }\n\n.ux-icon-mobileview:before {\n  content: "\\EA8F"; }\n\n.ux-icon-move:before {\n  content: "\\EA90"; }\n\n.ux-icon-mune-lines:before {\n  content: "\\EA91"; }\n\n.ux-icon-mute:before {\n  content: "\\EA92"; }\n\n.ux-icon-netease:before {\n  content: "\\EA93"; }\n\n.ux-icon-new-label:before {\n  content: "\\EA94"; }\n\n.ux-icon-no-pass-label:before {\n  content: "\\EA95"; }\n\n.ux-icon-no-picture:before {\n  content: "\\EA96"; }\n\n.ux-icon-notice:before {\n  content: "\\EA97"; }\n\n.ux-icon-noword:before {\n  content: "\\EA98"; }\n\n.ux-icon-object-question:before {\n  content: "\\EA99"; }\n\n.ux-icon-order:before {\n  content: "\\EA9A"; }\n\n.ux-icon-org-content:before {\n  content: "\\EA9B"; }\n\n.ux-icon-org-content2:before {\n  content: "\\EA9C"; }\n\n.ux-icon-org-test:before {\n  content: "\\EA9D"; }\n\n.ux-icon-org-tutor:before {\n  content: "\\EA9E"; }\n\n.ux-icon-org-utility:before {\n  content: "\\EA9F"; }\n\n.ux-icon-out-of-order:before {\n  content: "\\EAA0"; }\n\n.ux-icon-pack:before {\n  content: "\\EAA1"; }\n\n.ux-icon-password:before {\n  content: "\\EAA2"; }\n\n.ux-icon-pause:before {\n  content: "\\EAA3"; }\n\n.ux-icon-payCard:before {\n  content: "\\EAA4"; }\n\n.ux-icon-pen:before {\n  content: "\\EAA5"; }\n\n.ux-icon-people:before {\n  content: "\\EAA6"; }\n\n.ux-icon-permission-manage:before {\n  content: "\\EAA7"; }\n\n.ux-icon-phone-number:before {\n  content: "\\EAA8"; }\n\n.ux-icon-phone:before {\n  content: "\\EAA9"; }\n\n.ux-icon-phone2:before {\n  content: "\\EAAA"; }\n\n.ux-icon-play-1:before {\n  content: "\\EAAB"; }\n\n.ux-icon-play-fill:before {\n  content: "\\EAAC"; }\n\n.ux-icon-playback:before {\n  content: "\\EAAD"; }\n\n.ux-icon-playing:before {\n  content: "\\EAAE"; }\n\n.ux-icon-plus-circle:before {\n  content: "\\EAAF"; }\n\n.ux-icon-plus:before {\n  content: "\\EAB0"; }\n\n.ux-icon-popularize:before {\n  content: "\\EAB1"; }\n\n.ux-icon-pre-live:before {\n  content: "\\EAB2"; }\n\n.ux-icon-preview:before {\n  content: "\\EAB3"; }\n\n.ux-icon-priority-hollow-bold:before {\n  content: "\\EAB4"; }\n\n.ux-icon-priority-hollow:before {\n  content: "\\EAB5"; }\n\n.ux-icon-priority-solid:before {\n  content: "\\EAB6"; }\n\n.ux-icon-punched:before {\n  content: "\\EAB7"; }\n\n.ux-icon-qiyemail:before {\n  content: "\\EAB8"; }\n\n.ux-icon-question-answer-v2:before {\n  content: "\\EAB9"; }\n\n.ux-icon-question-circle:before {\n  content: "\\EABA"; }\n\n.ux-icon-questionnaire-slim:before {\n  content: "\\EABB"; }\n\n.ux-icon-questionnaire:before {\n  content: "\\EABC"; }\n\n.ux-icon-quiz-slim:before {\n  content: "\\EABD"; }\n\n.ux-icon-qzone:before {\n  content: "\\EABE"; }\n\n.ux-icon-recheck:before {\n  content: "\\EABF"; }\n\n.ux-icon-recommend-label:before {\n  content: "\\EAC0"; }\n\n.ux-icon-recommend:before {\n  content: "\\EAC1"; }\n\n.ux-icon-renren:before {\n  content: "\\EAC2"; }\n\n.ux-icon-reply:before {\n  content: "\\EAC3"; }\n\n.ux-icon-resit:before {\n  content: "\\EAC4"; }\n\n.ux-icon-resource-manage:before {\n  content: "\\EAC5"; }\n\n.ux-icon-richText:before {\n  content: "\\EAC6"; }\n\n.ux-icon-right-slim:before {\n  content: "\\EAC7"; }\n\n.ux-icon-right:before {\n  content: "\\EAC8"; }\n\n.ux-icon-sad:before {\n  content: "\\EAC9"; }\n\n.ux-icon-score:before {\n  content: "\\EACA"; }\n\n.ux-icon-scorm:before {\n  content: "\\EACB"; }\n\n.ux-icon-scroll-top:before {\n  content: "\\EACC"; }\n\n.ux-icon-seal:before {\n  content: "\\EACD"; }\n\n.ux-icon-search:before {\n  content: "\\EACE"; }\n\n.ux-icon-search2:before {\n  content: "\\EACF"; }\n\n.ux-icon-secret:before {\n  content: "\\EAD0"; }\n\n.ux-icon-secure-number:before {\n  content: "\\EAD1"; }\n\n.ux-icon-service:before {\n  content: "\\EAD2"; }\n\n.ux-icon-share:before {\n  content: "\\EAD3"; }\n\n.ux-icon-sign-up:before {\n  content: "\\EAD4"; }\n\n.ux-icon-smile:before {\n  content: "\\EAD5"; }\n\n.ux-icon-square-close:before {\n  content: "\\EAD6"; }\n\n.ux-icon-standard:before {\n  content: "\\EAD7"; }\n\n.ux-icon-star:before {\n  content: "\\EAD8"; }\n\n.ux-icon-success-circle-empty:before {\n  content: "\\EAD9"; }\n\n.ux-icon-success-circle:before {\n  content: "\\EADA"; }\n\n.ux-icon-success-round:before {\n  content: "\\EADB"; }\n\n.ux-icon-success:before {\n  content: "\\EADC"; }\n\n.ux-icon-surprise:before {\n  content: "\\EADD"; }\n\n.ux-icon-tag:before {\n  content: "\\EADE"; }\n\n.ux-icon-teach-bussiness:before {\n  content: "\\EADF"; }\n\n.ux-icon-teach-info:before {\n  content: "\\EAE0"; }\n\n.ux-icon-test-slim:before {\n  content: "\\EAE1"; }\n\n.ux-icon-test:before {\n  content: "\\EAE2"; }\n\n.ux-icon-test2:before {\n  content: "\\EAE3"; }\n\n.ux-icon-thin-caret-down:before {\n  content: "\\EAE4"; }\n\n.ux-icon-thin-caret-up:before {\n  content: "\\EAE5"; }\n\n.ux-icon-trophy:before {\n  content: "\\EAE6"; }\n\n.ux-icon-unfold:before {\n  content: "\\EAE7"; }\n\n.ux-icon-unknown:before {\n  content: "\\EAE8"; }\n\n.ux-icon-upload-clound:before {\n  content: "\\EAE9"; }\n\n.ux-icon-upvote1:before {\n  content: "\\EAEA"; }\n\n.ux-icon-upvote2:before {\n  content: "\\EAEB"; }\n\n.ux-icon-user:before {\n  content: "\\EAEC"; }\n\n.ux-icon-video-camera:before {\n  content: "\\EAED"; }\n\n.ux-icon-video-text:before {\n  content: "\\EAEE"; }\n\n.ux-icon-video:before {\n  content: "\\EAEF"; }\n\n.ux-icon-volume:before {\n  content: "\\EAF0"; }\n\n.ux-icon-warning-circle-circular:before {\n  content: "\\EAF1"; }\n\n.ux-icon-warning-circle-empty:before {\n  content: "\\EAF2"; }\n\n.ux-icon-warning-circle:before {\n  content: "\\EAF3"; }\n\n.ux-icon-warning-round:before {\n  content: "\\EAF4"; }\n\n.ux-icon-warning:before {\n  content: "\\EAF5"; }\n\n.ux-icon-wave:before {\n  content: "\\EAF6"; }\n\n.ux-icon-wechat-friend:before {\n  content: "\\EAF7"; }\n\n.ux-icon-wechat-share:before {\n  content: "\\EAF8"; }\n\n.ux-icon-wechat:before {\n  content: "\\EAF9"; }\n\n.ux-icon-wechat2:before {\n  content: "\\EAFA"; }\n\n.ux-icon-weibo:before {\n  content: "\\EAFB"; }\n\n.ux-icon-wrong-slim:before {\n  content: "\\EAFC"; }\n\n.ux-icon-wrong:before {\n  content: "\\EAFD"; }\n\n.ux-icon-xiaochengxu:before {\n  content: "\\EAFE"; }\n\n.ux-icon-ykt-logo:before {\n  content: "\\EAFF"; }\n\n.ux-icon-OJ-question-after:after {\n  content: "\\EA01"; }\n\n.ux-icon-QQ-after:after {\n  content: "\\EA02"; }\n\n.ux-icon-add-big-after:after {\n  content: "\\EA03"; }\n\n.ux-icon-angle-double-left-after:after {\n  content: "\\EA04"; }\n\n.ux-icon-angle-double-right-after:after {\n  content: "\\EA05"; }\n\n.ux-icon-answer-question-after:after {\n  content: "\\EA06"; }\n\n.ux-icon-arr-right-small-after:after {\n  content: "\\EA07"; }\n\n.ux-icon-arrange-after:after {\n  content: "\\EA08"; }\n\n.ux-icon-arrow-down-after:after {\n  content: "\\EA09"; }\n\n.ux-icon-arrow-left-after:after {\n  content: "\\EA0A"; }\n\n.ux-icon-arrow-top-after:after {\n  content: "\\EA0B"; }\n\n.ux-icon-attachment-after:after {\n  content: "\\EA0C"; }\n\n.ux-icon-attachment2-after:after {\n  content: "\\EA0D"; }\n\n.ux-icon-audio-text-1-after:after {\n  content: "\\EA0E"; }\n\n.ux-icon-audio-text-after:after {\n  content: "\\EA0F"; }\n\n.ux-icon-audio-after:after {\n  content: "\\EA10"; }\n\n.ux-icon-audio1-after:after {\n  content: "\\EA11"; }\n\n.ux-icon-audio2-after:after {\n  content: "\\EA12"; }\n\n.ux-icon-audio3-after:after {\n  content: "\\EA13"; }\n\n.ux-icon-back-after:after {\n  content: "\\EA14"; }\n\n.ux-icon-bell-after:after {\n  content: "\\EA15"; }\n\n.ux-icon-bin-after:after {\n  content: "\\EA16"; }\n\n.ux-icon-blank-state-after:after {\n  content: "\\EA17"; }\n\n.ux-icon-blocked-after:after {\n  content: "\\EA18"; }\n\n.ux-icon-book-1-after:after {\n  content: "\\EA19"; }\n\n.ux-icon-book-after:after {\n  content: "\\EA1A"; }\n\n.ux-icon-broswer-close-slim-after:after {\n  content: "\\EA1B"; }\n\n.ux-icon-broswer-close-after:after {\n  content: "\\EA1C"; }\n\n.ux-icon-broswer-max-slim-after:after {\n  content: "\\EA1D"; }\n\n.ux-icon-broswer-max-after:after {\n  content: "\\EA1E"; }\n\n.ux-icon-broswer-min-slim-after:after {\n  content: "\\EA1F"; }\n\n.ux-icon-broswer-min-after:after {\n  content: "\\EA20"; }\n\n.ux-icon-broswer-refresh-after:after {\n  content: "\\EA21"; }\n\n.ux-icon-broswer-setting-after:after {\n  content: "\\EA22"; }\n\n.ux-icon-calculating-signs-after:after {\n  content: "\\EA23"; }\n\n.ux-icon-calendar-after:after {\n  content: "\\EA24"; }\n\n.ux-icon-caret-down-after:after {\n  content: "\\EA25"; }\n\n.ux-icon-caret-left-after:after {\n  content: "\\EA26"; }\n\n.ux-icon-caret-right-after:after {\n  content: "\\EA27"; }\n\n.ux-icon-caret-up-after:after {\n  content: "\\EA28"; }\n\n.ux-icon-cart-after:after {\n  content: "\\EA29"; }\n\n.ux-icon-cart3-after:after {\n  content: "\\EA2A"; }\n\n.ux-icon-cash-after:after {\n  content: "\\EA2B"; }\n\n.ux-icon-cash2-after:after {\n  content: "\\EA2C"; }\n\n.ux-icon-category-forum-after:after {\n  content: "\\EA2D"; }\n\n.ux-icon-category-live-after:after {\n  content: "\\EA2E"; }\n\n.ux-icon-category-pdf-after:after {\n  content: "\\EA2F"; }\n\n.ux-icon-category-replay-after:after {\n  content: "\\EA30"; }\n\n.ux-icon-category-scorm-after:after {\n  content: "\\EA31"; }\n\n.ux-icon-category-test-after:after {\n  content: "\\EA32"; }\n\n.ux-icon-category-text-after:after {\n  content: "\\EA33"; }\n\n.ux-icon-category-unknown-after:after {\n  content: "\\EA34"; }\n\n.ux-icon-category-video-after:after {\n  content: "\\EA35"; }\n\n.ux-icon-cert-manage-after:after {\n  content: "\\EA36"; }\n\n.ux-icon-certification-after:after {\n  content: "\\EA37"; }\n\n.ux-icon-chat-circle-after:after {\n  content: "\\EA38"; }\n\n.ux-icon-check-slim-after:after {\n  content: "\\EA39"; }\n\n.ux-icon-check-after:after {\n  content: "\\EA3A"; }\n\n.ux-icon-circle-green-hook-after:after {\n  content: "\\EA3B"; }\n\n.ux-icon-circle-green-success-after:after {\n  content: "\\EA3C"; }\n\n.ux-icon-clear-after:after {\n  content: "\\EA3D"; }\n\n.ux-icon-clock-after:after {\n  content: "\\EA3E"; }\n\n.ux-icon-close-after:after {\n  content: "\\EA3F"; }\n\n.ux-icon-collect-after:after {\n  content: "\\EA40"; }\n\n.ux-icon-combined-shape-after:after {\n  content: "\\EA41"; }\n\n.ux-icon-comment-after:after {\n  content: "\\EA42"; }\n\n.ux-icon-comment2-after:after {\n  content: "\\EA43"; }\n\n.ux-icon-continue-after:after {\n  content: "\\EA44"; }\n\n.ux-icon-cooperation-after:after {\n  content: "\\EA45"; }\n\n.ux-icon-course-content-after:after {\n  content: "\\EA46"; }\n\n.ux-icon-course-discuss-after:after {\n  content: "\\EA47"; }\n\n.ux-icon-course-intro-after:after {\n  content: "\\EA48"; }\n\n.ux-icon-course-manage-after:after {\n  content: "\\EA49"; }\n\n.ux-icon-course-slim-after:after {\n  content: "\\EA4A"; }\n\n.ux-icon-create-course-after:after {\n  content: "\\EA4B"; }\n\n.ux-icon-credit-setting-after:after {\n  content: "\\EA4C"; }\n\n.ux-icon-credit-after:after {\n  content: "\\EA4D"; }\n\n.ux-icon-data-interface-after:after {\n  content: "\\EA4E"; }\n\n.ux-icon-data-after:after {\n  content: "\\EA4F"; }\n\n.ux-icon-delay-punched-after:after {\n  content: "\\EA50"; }\n\n.ux-icon-delay-punched2-after:after {\n  content: "\\EA51"; }\n\n.ux-icon-delay-punched3-after:after {\n  content: "\\EA52"; }\n\n.ux-icon-delete-after:after {\n  content: "\\EA53"; }\n\n.ux-icon-dialog-after:after {\n  content: "\\EA54"; }\n\n.ux-icon-discuss-after:after {\n  content: "\\EA55"; }\n\n.ux-icon-document-small-after:after {\n  content: "\\EA56"; }\n\n.ux-icon-document-after:after {\n  content: "\\EA57"; }\n\n.ux-icon-douban-after:after {\n  content: "\\EA58"; }\n\n.ux-icon-download-after:after {\n  content: "\\EA59"; }\n\n.ux-icon-edit-after:after {\n  content: "\\EA5A"; }\n\n.ux-icon-elite-after:after {\n  content: "\\EA5B"; }\n\n.ux-icon-empty-criterial-after:after {\n  content: "\\EA5C"; }\n\n.ux-icon-empty-status-after:after {\n  content: "\\EA5D"; }\n\n.ux-icon-empty-after:after {\n  content: "\\EA5E"; }\n\n.ux-icon-enter-fullscreen-after:after {\n  content: "\\EA5F"; }\n\n.ux-icon-error-circle-after:after {\n  content: "\\EA60"; }\n\n.ux-icon-error-round-after:after {\n  content: "\\EA61"; }\n\n.ux-icon-exam-after:after {\n  content: "\\EA62"; }\n\n.ux-icon-exchange-after:after {\n  content: "\\EA63"; }\n\n.ux-icon-exercise-after:after {\n  content: "\\EA64"; }\n\n.ux-icon-exit-fullscreen-after:after {\n  content: "\\EA65"; }\n\n.ux-icon-eye-after:after {\n  content: "\\EA66"; }\n\n.ux-icon-feedback-after:after {\n  content: "\\EA67"; }\n\n.ux-icon-file-export-after:after {\n  content: "\\EA68"; }\n\n.ux-icon-folder-after:after {\n  content: "\\EA69"; }\n\n.ux-icon-folder2-after:after {\n  content: "\\EA6A"; }\n\n.ux-icon-front-after:after {\n  content: "\\EA6B"; }\n\n.ux-icon-gear-after:after {\n  content: "\\EA6C"; }\n\n.ux-icon-gift-after:after {\n  content: "\\EA6D"; }\n\n.ux-icon-halfcircle-after:after {\n  content: "\\EA6E"; }\n\n.ux-icon-hand-down-after:after {\n  content: "\\EA6F"; }\n\n.ux-icon-hand-up-after:after {\n  content: "\\EA70"; }\n\n.ux-icon-headphone-after:after {\n  content: "\\EA71"; }\n\n.ux-icon-home-after:after {\n  content: "\\EA72"; }\n\n.ux-icon-html-canvas-add-image-after:after {\n  content: "\\EA73"; }\n\n.ux-icon-html-canvas-add-text-after:after {\n  content: "\\EA74"; }\n\n.ux-icon-hyper-link-after:after {\n  content: "\\EA75"; }\n\n.ux-icon-icourse-after:after {\n  content: "\\EA76"; }\n\n.ux-icon-im-after:after {\n  content: "\\EA77"; }\n\n.ux-icon-judge-after:after {\n  content: "\\EA78"; }\n\n.ux-icon-key-after:after {\n  content: "\\EA79"; }\n\n.ux-icon-learn-content-after:after {\n  content: "\\EA7A"; }\n\n.ux-icon-learn-select-after:after {\n  content: "\\EA7B"; }\n\n.ux-icon-like-after:after {\n  content: "\\EA7C"; }\n\n.ux-icon-list-after:after {\n  content: "\\EA7D"; }\n\n.ux-icon-live-notify-text-after:after {\n  content: "\\EA7E"; }\n\n.ux-icon-live-playback-text-after:after {\n  content: "\\EA7F"; }\n\n.ux-icon-live-text-after:after {\n  content: "\\EA80"; }\n\n.ux-icon-live-tips-after:after {\n  content: "\\EA81"; }\n\n.ux-icon-live-after:after {\n  content: "\\EA82"; }\n\n.ux-icon-locate-after:after {\n  content: "\\EA83"; }\n\n.ux-icon-lock-circle-after:after {\n  content: "\\EA84"; }\n\n.ux-icon-lock-ellipse-after:after {\n  content: "\\EA85"; }\n\n.ux-icon-lock-after:after {\n  content: "\\EA86"; }\n\n.ux-icon-loop2-after:after {\n  content: "\\EA87"; }\n\n.ux-icon-management-after:after {\n  content: "\\EA88"; }\n\n.ux-icon-message-after:after {\n  content: "\\EA89"; }\n\n.ux-icon-microphone-after:after {\n  content: "\\EA8A"; }\n\n.ux-icon-minus-big-after:after {\n  content: "\\EA8B"; }\n\n.ux-icon-minus-after:after {\n  content: "\\EA8C"; }\n\n.ux-icon-mobile-plat-after:after {\n  content: "\\EA8D"; }\n\n.ux-icon-mobile-after:after {\n  content: "\\EA8E"; }\n\n.ux-icon-mobileview-after:after {\n  content: "\\EA8F"; }\n\n.ux-icon-move-after:after {\n  content: "\\EA90"; }\n\n.ux-icon-mune-lines-after:after {\n  content: "\\EA91"; }\n\n.ux-icon-mute-after:after {\n  content: "\\EA92"; }\n\n.ux-icon-netease-after:after {\n  content: "\\EA93"; }\n\n.ux-icon-new-label-after:after {\n  content: "\\EA94"; }\n\n.ux-icon-no-pass-label-after:after {\n  content: "\\EA95"; }\n\n.ux-icon-no-picture-after:after {\n  content: "\\EA96"; }\n\n.ux-icon-notice-after:after {\n  content: "\\EA97"; }\n\n.ux-icon-noword-after:after {\n  content: "\\EA98"; }\n\n.ux-icon-object-question-after:after {\n  content: "\\EA99"; }\n\n.ux-icon-order-after:after {\n  content: "\\EA9A"; }\n\n.ux-icon-org-content-after:after {\n  content: "\\EA9B"; }\n\n.ux-icon-org-content2-after:after {\n  content: "\\EA9C"; }\n\n.ux-icon-org-test-after:after {\n  content: "\\EA9D"; }\n\n.ux-icon-org-tutor-after:after {\n  content: "\\EA9E"; }\n\n.ux-icon-org-utility-after:after {\n  content: "\\EA9F"; }\n\n.ux-icon-out-of-order-after:after {\n  content: "\\EAA0"; }\n\n.ux-icon-pack-after:after {\n  content: "\\EAA1"; }\n\n.ux-icon-password-after:after {\n  content: "\\EAA2"; }\n\n.ux-icon-pause-after:after {\n  content: "\\EAA3"; }\n\n.ux-icon-payCard-after:after {\n  content: "\\EAA4"; }\n\n.ux-icon-pen-after:after {\n  content: "\\EAA5"; }\n\n.ux-icon-people-after:after {\n  content: "\\EAA6"; }\n\n.ux-icon-permission-manage-after:after {\n  content: "\\EAA7"; }\n\n.ux-icon-phone-number-after:after {\n  content: "\\EAA8"; }\n\n.ux-icon-phone-after:after {\n  content: "\\EAA9"; }\n\n.ux-icon-phone2-after:after {\n  content: "\\EAAA"; }\n\n.ux-icon-play-1-after:after {\n  content: "\\EAAB"; }\n\n.ux-icon-play-fill-after:after {\n  content: "\\EAAC"; }\n\n.ux-icon-playback-after:after {\n  content: "\\EAAD"; }\n\n.ux-icon-playing-after:after {\n  content: "\\EAAE"; }\n\n.ux-icon-plus-circle-after:after {\n  content: "\\EAAF"; }\n\n.ux-icon-plus-after:after {\n  content: "\\EAB0"; }\n\n.ux-icon-popularize-after:after {\n  content: "\\EAB1"; }\n\n.ux-icon-pre-live-after:after {\n  content: "\\EAB2"; }\n\n.ux-icon-preview-after:after {\n  content: "\\EAB3"; }\n\n.ux-icon-priority-hollow-bold-after:after {\n  content: "\\EAB4"; }\n\n.ux-icon-priority-hollow-after:after {\n  content: "\\EAB5"; }\n\n.ux-icon-priority-solid-after:after {\n  content: "\\EAB6"; }\n\n.ux-icon-punched-after:after {\n  content: "\\EAB7"; }\n\n.ux-icon-qiyemail-after:after {\n  content: "\\EAB8"; }\n\n.ux-icon-question-answer-v2-after:after {\n  content: "\\EAB9"; }\n\n.ux-icon-question-circle-after:after {\n  content: "\\EABA"; }\n\n.ux-icon-questionnaire-slim-after:after {\n  content: "\\EABB"; }\n\n.ux-icon-questionnaire-after:after {\n  content: "\\EABC"; }\n\n.ux-icon-quiz-slim-after:after {\n  content: "\\EABD"; }\n\n.ux-icon-qzone-after:after {\n  content: "\\EABE"; }\n\n.ux-icon-recheck-after:after {\n  content: "\\EABF"; }\n\n.ux-icon-recommend-label-after:after {\n  content: "\\EAC0"; }\n\n.ux-icon-recommend-after:after {\n  content: "\\EAC1"; }\n\n.ux-icon-renren-after:after {\n  content: "\\EAC2"; }\n\n.ux-icon-reply-after:after {\n  content: "\\EAC3"; }\n\n.ux-icon-resit-after:after {\n  content: "\\EAC4"; }\n\n.ux-icon-resource-manage-after:after {\n  content: "\\EAC5"; }\n\n.ux-icon-richText-after:after {\n  content: "\\EAC6"; }\n\n.ux-icon-right-slim-after:after {\n  content: "\\EAC7"; }\n\n.ux-icon-right-after:after {\n  content: "\\EAC8"; }\n\n.ux-icon-sad-after:after {\n  content: "\\EAC9"; }\n\n.ux-icon-score-after:after {\n  content: "\\EACA"; }\n\n.ux-icon-scorm-after:after {\n  content: "\\EACB"; }\n\n.ux-icon-scroll-top-after:after {\n  content: "\\EACC"; }\n\n.ux-icon-seal-after:after {\n  content: "\\EACD"; }\n\n.ux-icon-search-after:after {\n  content: "\\EACE"; }\n\n.ux-icon-search2-after:after {\n  content: "\\EACF"; }\n\n.ux-icon-secret-after:after {\n  content: "\\EAD0"; }\n\n.ux-icon-secure-number-after:after {\n  content: "\\EAD1"; }\n\n.ux-icon-service-after:after {\n  content: "\\EAD2"; }\n\n.ux-icon-share-after:after {\n  content: "\\EAD3"; }\n\n.ux-icon-sign-up-after:after {\n  content: "\\EAD4"; }\n\n.ux-icon-smile-after:after {\n  content: "\\EAD5"; }\n\n.ux-icon-square-close-after:after {\n  content: "\\EAD6"; }\n\n.ux-icon-standard-after:after {\n  content: "\\EAD7"; }\n\n.ux-icon-star-after:after {\n  content: "\\EAD8"; }\n\n.ux-icon-success-circle-empty-after:after {\n  content: "\\EAD9"; }\n\n.ux-icon-success-circle-after:after {\n  content: "\\EADA"; }\n\n.ux-icon-success-round-after:after {\n  content: "\\EADB"; }\n\n.ux-icon-success-after:after {\n  content: "\\EADC"; }\n\n.ux-icon-surprise-after:after {\n  content: "\\EADD"; }\n\n.ux-icon-tag-after:after {\n  content: "\\EADE"; }\n\n.ux-icon-teach-bussiness-after:after {\n  content: "\\EADF"; }\n\n.ux-icon-teach-info-after:after {\n  content: "\\EAE0"; }\n\n.ux-icon-test-slim-after:after {\n  content: "\\EAE1"; }\n\n.ux-icon-test-after:after {\n  content: "\\EAE2"; }\n\n.ux-icon-test2-after:after {\n  content: "\\EAE3"; }\n\n.ux-icon-thin-caret-down-after:after {\n  content: "\\EAE4"; }\n\n.ux-icon-thin-caret-up-after:after {\n  content: "\\EAE5"; }\n\n.ux-icon-trophy-after:after {\n  content: "\\EAE6"; }\n\n.ux-icon-unfold-after:after {\n  content: "\\EAE7"; }\n\n.ux-icon-unknown-after:after {\n  content: "\\EAE8"; }\n\n.ux-icon-upload-clound-after:after {\n  content: "\\EAE9"; }\n\n.ux-icon-upvote1-after:after {\n  content: "\\EAEA"; }\n\n.ux-icon-upvote2-after:after {\n  content: "\\EAEB"; }\n\n.ux-icon-user-after:after {\n  content: "\\EAEC"; }\n\n.ux-icon-video-camera-after:after {\n  content: "\\EAED"; }\n\n.ux-icon-video-text-after:after {\n  content: "\\EAEE"; }\n\n.ux-icon-video-after:after {\n  content: "\\EAEF"; }\n\n.ux-icon-volume-after:after {\n  content: "\\EAF0"; }\n\n.ux-icon-warning-circle-circular-after:after {\n  content: "\\EAF1"; }\n\n.ux-icon-warning-circle-empty-after:after {\n  content: "\\EAF2"; }\n\n.ux-icon-warning-circle-after:after {\n  content: "\\EAF3"; }\n\n.ux-icon-warning-round-after:after {\n  content: "\\EAF4"; }\n\n.ux-icon-warning-after:after {\n  content: "\\EAF5"; }\n\n.ux-icon-wave-after:after {\n  content: "\\EAF6"; }\n\n.ux-icon-wechat-friend-after:after {\n  content: "\\EAF7"; }\n\n.ux-icon-wechat-share-after:after {\n  content: "\\EAF8"; }\n\n.ux-icon-wechat-after:after {\n  content: "\\EAF9"; }\n\n.ux-icon-wechat2-after:after {\n  content: "\\EAFA"; }\n\n.ux-icon-weibo-after:after {\n  content: "\\EAFB"; }\n\n.ux-icon-wrong-slim-after:after {\n  content: "\\EAFC"; }\n\n.ux-icon-wrong-after:after {\n  content: "\\EAFD"; }\n\n.ux-icon-xiaochengxu-after:after {\n  content: "\\EAFE"; }\n\n.ux-icon-ykt-logo-after:after {\n  content: "\\EAFF"; }\n\n/*# sourceMappingURL=icons.css.map */\n'),I$("64e62dd7bec81f4c2601aa032bccb27e",(function(e,t,n,i,r,o,a,s,c){n._$pushCSSText(c);var u=Regular.extend({config:function(){n._$dumpCSSText(),r.extend(this.data,{visible:!0,lang:a}),this.supr()},init:function(){this.supr()},destroy:function(){e._$forEach(this._tmp_events,(function(e){t._$delEvent.apply(t,e)})),delete this._tmp_events,this.supr()},isShow:function(e){return i.isShow({switcher:e,key:this.settingKey})},_flushSetting:function(){var e={};return function(t,n){e[t]||(e[t]=!0,i.$default(t,n))}}(),_addGlobalEvent:function(n){var i=this._tmp_events;i||(i=[],this._tmp_events=i),e._$forEach(n,(function(e){t._$addEvent.apply(t,e),i.push(e)}))}}).directive(o).filter(s);return u.$extends=function e(t){(t.hasOwnProperty("bem")&&(t.bemify=t.bem),t.bemify&&t.template&&(t.template=r.bemify(t.template,t.name,"&"===t.bemify)),"string"==typeof t.css)&&(t.css.trim()&&n._$pushCSSText(t.css),delete t.css);var i=this.extend(t);return i.$extends=e,i.cname=t.name,i},u}),"84c66edbaac3f0e7d6c8b753c5fa2fbd","c0c334bf3ca5fbd97535793ddce3d534","0648e0c0c5aea01ad6e22f1aaa3f76a3","000e81f744cfd9926f418cd7d7226a6a","36363d532750f767f7937a82c4c774f4","8104595af1e10ecefb4711ed8d694c76","74f071927a65c13cc98c23678a88c919","db8fc203efc70d896192c3773c1a91d5","4f162cb25f4228e549ecb6fa613edb29"),I$("4b580f44bb46eed3bdca9ef584876649",(function(e,t,n,i,r,o){return n._$cookie=function(){var e=new Date,n=+e;return function(r,o){if(void 0===o)return function(e){var t=document.cookie,n="\\b"+e+"=",i=t.search(n);if(i<0)return"";i+=n.length-2;var r=t.indexOf(";",i);return r<0&&(r=t.length),t.substring(i,r)||""}(r);if(t._$isString(o)){if(o)return document.cookie=r+"="+o+";",o;o={expires:-100}}var a=r+"="+((o=o||i).value||"")+";";delete o.value,void 0!==o.expires&&(e.setTime(n+864e5*o.expires),o.expires=e.toGMTString()),a+=t._$object2string(o,";"),document.cookie=a}}(),e.copy(e.P("nej.j"),n),n}),"4ba3beecac53c63f6abbc5d32a9eb5c9","84c66edbaac3f0e7d6c8b753c5fa2fbd"),I$("21695c9c68ca9b7b4b0b20b75db7c635",(function(e,t,n,i,r,o){return n._$klass=function(){var e=function(){return"[object Function]"!==i.toString.call(arguments[0])},n=function(e,n){for(;n;){var i=n.prototype,r=t.__forIn(i,(function(t){return e===t}));if(null!=r)return{name:r,klass:n};n=n._$super}};return function(){var i=function(){return this.__init.apply(this,arguments)};return i.prototype.__init=r,i._$extend=function(i,r){if(!e(i)){var o=this;!1!==r&&t.__forIn(i,(function(t,n){e(t)||(o[n]=t)})),this._$super=i;var a=function(){};a.prototype=i.prototype,this.prototype=new a,this.prototype.constructor=this;var s=[],c={},u=function(e,t){var i=n(e,t);if(i)return s[s.length-1]!=i.name&&s.push(i.name),c[i.name]=i.klass._$super,i.name};this.prototype.__super=function(){var e=s[s.length-1],t=arguments.callee.caller;if(e){var n=c[e].prototype;n.hasOwnProperty(e)&&t==n[e]?c[e]=c[e]._$super:e=u(t,this.constructor)}else e=u(t,this.constructor);var i=c[e].prototype[e].apply(this,arguments);return e==s[s.length-1]&&(s.pop(),delete c[e]),i};var l=this.prototype;return l.__supInit=l.__super,l.__supReset=l.__super,l.__supDestroy=l.__super,l.__supInitNode=l.__super,l.__supDoBuild=l.__super,l.__supOnShow=l.__super,l.__supOnHide=l.__super,l.__supOnRefresh=l.__super,this._$supro=i.prototype,this.prototype}},i}}(),e.C=n._$klass,e.copy(this.NEJ,e),n}),"4ba3beecac53c63f6abbc5d32a9eb5c9","21c093ae96095cb62a812e86a0f31e24"),I$("538a7b5718a38aec5f3e055b957e51e1",(function(e,t,n,i,r,o,a,s){var c;return r._$$EventTarget=t._$klass(),c=r._$$EventTarget.prototype,r._$$EventTarget._$allocate=function(e){e=e||{};var t=!!this.__pool&&this.__pool.shift();return t||(t=new this(e),this.__inst__=(this.__inst__||0)+1),t.__reset(e),t},r._$$EventTarget._$recycle=function(){var e=function(e,t,n){e._$recycle(),n.splice(t,1)};return function(t){if(!t)return null;if(!i._$isArray(t)){if(!(t instanceof this)){var n=t.constructor;return n._$recycle&&n._$recycle(t),null}return t==this.__instance&&delete this.__instance,t==this.__inctanse&&delete this.__inctanse,t.__destroy(),this.__pool||(this.__pool=[]),i._$indexOf(this.__pool,t)<0&&this.__pool.push(t),null}i._$reverseEach(t,e,this)}}(),r._$$EventTarget._$getInstance=function(e){return this.__instance||(this.__instance=this._$allocate(e)),this.__instance},r._$$EventTarget._$getInstanceWithReset=function(e,t){return t&&this.__inctanse&&(this.__inctanse._$recycle(),delete this.__inctanse),this.__inctanse?this.__inctanse.__reset(e):this.__inctanse=this._$allocate(e),this.__inctanse},c.__init=function(){this.__events={},this.__events_dom={},this.id=i._$uniqueID()},c.__reset=function(e){this._$batEvent(e)},c.__destroy=function(){this._$clearEvent(),this.__doClearDomEvent()},c.__doInitDomEvent=function(){var e=function(e){!e||e.length<3||(this.__events_dom["de-"+i._$uniqueID()]=e,n._$addEvent.apply(n,e))};return function(t){i._$forEach(t,e,this)}}(),c.__doClearDomEvent=function(){var e=function(e,t,i){delete i[t],n._$delEvent.apply(n,e)};return function(){i._$loop(this.__events_dom,e)}}(),c.__doClearComponent=function(e){e=e||a,i._$loop(this,(function(t,n,i){t&&t._$recycle&&!e(t)&&(delete i[n],t._$recycle())}))},c._$recycle=function(){this.constructor._$recycle(this)},c._$hasEvent=function(e){e=(e||"").toLowerCase();var t=this.__events[e];return!!t&&t!==a},c._$delEvent=function(e,t){e=(e||"").toLowerCase();var n=this.__events[e];i._$isArray(n)?(i._$reverseEach(n,(function(e,n,i){e==t&&i.splice(n,1)})),n.length||delete this.__events[e]):n==t&&delete this.__events[e]},c._$setEvent=function(e,t){e&&i._$isFunction(t)&&(this.__events[e.toLowerCase()]=t)},c._$batEvent=function(){var e=function(e,t){this._$setEvent(t,e)};return function(t){i._$loop(t,e,this)}}(),c._$clearEvent=function(){var e=function(e,t){this._$clearEvent(t)};return function(t){(t=(t||"").toLowerCase())?delete this.__events[t]:i._$loop(this.__events,e,this)}}(),c._$addEvent=function(e,t){if(e&&i._$isFunction(t)){e=e.toLowerCase();var n=this.__events[e];n?(i._$isArray(n)||(this.__events[e]=[n]),this.__events[e].push(t)):this.__events[e]=t}},c._$dispatchEvent=function(e){e=(e||"").toLowerCase();var t=this.__events[e];if(t){var n=s.slice.call(arguments,1);i._$isArray(t)?i._$forEach(t,(function(e){try{e.apply(this,n)}catch(e){console.error(e.message),console.error(e.stack)}}),this):t.apply(this,n)}},r._$$Event=r._$$EventTarget,e.copy(e.P("nej.ut"),r),r}),"4ba3beecac53c63f6abbc5d32a9eb5c9","21695c9c68ca9b7b4b0b20b75db7c635","c0c334bf3ca5fbd97535793ddce3d534","84c66edbaac3f0e7d6c8b753c5fa2fbd"),function(){if("undefined"==typeof TrimPath){TrimPath={},TrimPath=exports;var e,t,n,i={},r=[],o=/\s+/g,a=+new Date,s=function(){var e=/^\s*[\[\{'"].*?[\]\}'"]\s*$/,t=/[\&\|\<\>\+\-\*\/\%\,\(\)\[\]\?\:\!\=\;]/,i=/^(?:defined|null|undefined|true|false|instanceof|new|this|typeof|\$v|[\d]+)$/i,r=/^new\s+/,o=/['"]/,a=function(t){if(!e.test(t)&&(t=t.split(".")[0].trim())&&!o.test(t)){t=t.replace(r,"");try{if(i.test(t))return;n[t]=1}catch(e){}}};return function(n){if((n=n||"")&&!e.test(n))for(var i=n.split(t),r=0,o=i.length;r<o;r++)a(i[r])}}(),c=function(e,t){return s(t.slice(1).join(" ")),e};t={blk:/^\{(cdata|minify|eval)/i,tag:"forelse|for|list|if|elseif|else|var|macro|break|notrim|trim|include",def:{if:{pfix:function(e){return c("if(",e)},sfix:"){",pmin:1},else:{pfix:"}else{"},elseif:{pfix:function(e){return c("}else if(",e)},sfix:"){",pdft:"true"},"/if":{pfix:"}"},for:{pfix:function(e){if("in"!=e[2])throw"bad for loop statement: "+e.join(" ");return r.push(e[1]),s(e[3]),"var __HASH__"+e[1]+" = "+e[3]+","+e[1]+","+e[1]+"_count=0;if (!!__HASH__"+e[1]+")for(var "+e[1]+"_key in __HASH__"+e[1]+"){"+e[1]+" = __HASH__"+e[1]+"["+e[1]+"_key];if (typeof("+e[1]+')=="function") continue;'+e[1]+"_count++;"},pmin:3},forelse:{pfix:function(){var e=r[r.length-1];return"}; if(!__HASH__"+e+"||!"+e+"_count){"}},"/for":{pfix:function(){return r.pop(),"};"}},list:{pfix:function(e){if("as"!=e[2])throw"bad for list loop statement: "+e.join(" ");var t=e[1].split("..");return t.length>1?(s(t[0]),s(t[1]),"for(var "+e[3]+","+e[3]+"_index=0,"+e[3]+"_beg="+t[0]+","+e[3]+"_end="+t[1]+","+e[3]+"_length=parseInt("+e[3]+"_end-"+e[3]+"_beg+1);"+e[3]+"_index<"+e[3]+"_length;"+e[3]+"_index++){"+e[3]+" = "+e[3]+"_beg+"+e[3]+"_index;"):(s(e[1]),"for(var __LIST__"+e[3]+" = "+e[1]+","+e[3]+","+e[3]+"_index=0,"+e[3]+"_length=__LIST__"+e[3]+".length;"+e[3]+"_index<"+e[3]+"_length;"+e[3]+"_index++){"+e[3]+" = __LIST__"+e[3]+"["+e[3]+"_index];")},pmin:3},"/list":{pfix:"};"},break:{pfix:"break;"},var:{pfix:function(e){return c("var ",e)},sfix:";"},macro:{pfix:function(e){if(e&&e.length){e.shift();var t=e[0].split("(")[0];return"var "+t+" = function"+e.join("").replace(t,"")+"{var __OUT=[];"}}},"/macro":{pfix:'return __OUT.join("");};'},trim:{pfix:function(){e=!0}},"/trim":{pfix:function(){e=null}},inline:{pfix:function(e){if(!e[1])throw"bad include statement: "+e.join(" ");return'if (typeof inline == "function"){__OUT.push(inline('},pmin:1,sfix:"));}"}},ext:{seed:function(e){return(e||"")+""+a},default:function(e,t){return e||t}}};var u=function(){var e=/\\([\{\}])/g;return function(n,i){var r=(n=n.replace(e,"$1")).slice(1,-1).split(o),a=t.def[r[0]];if(a){if(a.pmin&&a.pmin>=r.length)throw"Statement needs more parameters:"+n;if(i.push(a.pfix&&"string"!=typeof a.pfix?a.pfix(r):a.pfix||""),a.sfix){if(r.length<=1)a.pdft&&i.push(a.pdft);else for(var s=1,c=r.length;s<c;s++)s>1&&i.push(" "),i.push(r[s]);i.push(a.sfix)}}else d(n,i)}}(),l=function e(t,n){if(t&&t.length)if(1!=t.length){var i=t.pop().split(":");if(n.push("__MDF['"+i.shift()+"']("),e(t,n),i.length>0){var r=i.join(":");s(r),n.push(","+r)}n.push(")")}else{var o=t.pop();s(o),n.push(""==o?'""':o)}},d=function(t,n){if(t){var i=t.split("\n");if(i&&i.length)for(var r,o=0,a=i.length;o<a;o++)r=i[o],e&&!(r=r.trim())||(f(r,n),e&&o<a-1&&n.push("__OUT.push('\\n');"))}},f=function(){var e=/\|\|/g,t=/#@@#/g;return function(n,i){for(var r,o,a,s,c,u="}",d=-1,f=n.length;d+u.length<f&&(r="${",o="}",!((a=n.indexOf(r,d+u.length))<0))&&("%"==n.charAt(a+2)&&(r="${%",o="%}"),!((s=n.indexOf(o,a+r.length))<0));){p(n.substring(d+u.length,a),i);for(var h=0,_=(c=n.substring(a+r.length,s).replace(e,"#@@#").split("|")).length;h<_;c[h]=c[h].replace(t,"||"),h++);i.push("__OUT.push("),l(c,i),i.push(");"),u=o,d=s}p(n.substring(d+u.length),i)}}(),p=function(){var e={r:/\n|\\|\'/g,"\n":"\\n","\\":"\\\\","'":"\\'"},t=function(t){return(t||"").replace(e.r,(function(t){return e[t]||t}))};return function(e,n){e&&n.push("__OUT.push('"+t(e)+"');")}}(),h=function(){var e=/\t/g,i=/\n/g,r=/\r\n?/g,a=function(e,t){for(var n=e.indexOf("}",t+1);"\\"==e.charAt(n-1);)n=e.indexOf("}",n+1);return n};return function(s){n={},s=s.replace(r,"\n").replace(e,"    ");var c=["if(!__CTX) return '';",""];c.push("function $v(__NAME){var v = __CTX[__NAME];return v==null?window[__NAME]:v;};"),c.push("var defined=function(__NAME){return __CTX[__NAME]!=null;},"),c.push("__OUT=[];");for(var l,f,h,_,m,v,b,g,y=-1,E=s.length;y+1<E;){for(l=y,l=s.indexOf("{",l+1);l>=0;){if(f=a(s,l),_=(h=s.substring(l,f)).match(t.blk)){if(m=_[1].length+1,(v=s.indexOf("}",l+m))>=0&&(b=v-l-m<=0?"{/"+_[1]+"}":h.substr(m+1),(m=s.indexOf(b,v+1))>=0)){switch(d(s.substring(y+1,l),c),g=s.substring(v+1,m),_[1]){case"cdata":p(g,c);break;case"minify":p(g.replace(i," ").replace(o," "),c);break;case"eval":g&&c.push("__OUT.push((function(){"+g+"})());")}l=y=m+b.length-1}}else if("$"!=s.charAt(l-1)&&"\\"!=s.charAt(l-1)&&0==h.substr("/"==h.charAt(1)?2:1).search(t.tag))break;l=s.indexOf("{",l+1)}if(l<0)break;if((f=a(s,l))<0)break;d(s.substring(y+1,l),c),u(s.substring(l,f+1),c),y=f}return d(s.substring(y+1),c),c.push(';return __OUT.join("");'),c[1]=function(){var e=[],t=arguments[0];for(var n in t)(n=(n||"").trim())&&e.push(n+"=$v('"+n+"')");return e.length>0?"var "+e.join(",")+";":""}(n),n=null,new Function("__CTX","__MDF",c.join(""))}}();TrimPath.seed=function(){return a},TrimPath.merge=function(){var e={};return TrimPath.dump=function(){return{func:e,text:i}},function(n,r,o){try{if(r=r||{},!e[n]&&!i[n])return"";if(e[n]||(e[n]=h(i[n]),delete i[n]),o)for(var a in t.ext)o[a]||(o[a]=t.ext[a]);return e[n](r,o||t.ext)}catch(e){return e.message||""}}}(),TrimPath.parse=function(){var e=+new Date;return function(t,n){return t?(n=n||"ck-"+e++,null!=i[n]&&(console.warn("jst template overwrited with key "+n),console.debug("old template content: "+i[n].replace(/\n/g," ")),console.debug("new template content: "+t.replace(/\n/g," "))),i[n]=t,n):""}}()}}(),I$("25648a9a8e2b7651288ec89ab792bc60",(function(e,t,n,i,r,o,a,s,c){var u={};o._$seed=TrimPath.seed,o._$get=function(){var e=function(e){return o._$getTextTemplate?o._$getTextTemplate(e):""};return function(n,i,r){return(i=i||{}).inline=e,(r=t._$merge({},u,r)).rand=t._$uniqueID,r.format=t._$format,r.escape=t._$escape,r.inline=e,TrimPath.merge(n,i,r)}}(),o._$add=function(e,t){if(!e)return"";var i,r=n._$get(e);return r&&(i=r.id,e=r.value||r.innerText,t||n._$remove(r)),TrimPath.parse(e,i)},o._$addTemplate=function(e,t){return TrimPath.parse(e,t)},o._$render=function(e,t,i,r){(e=n._$get(e))&&(e.innerHTML=o._$get(t,i,r))},o._$extend=function(e){t._$merge(u,e)},i._$merge({_$render:o._$render});var l=e.P("nej.e");return l._$addHtmlTemplate=o._$add,l._$getHtmlTemplate=o._$get,l._$getHtmlTemplateSeed=o._$seed,l._$renderHtmlTemplate=o._$render,l._$registJSTExt=o._$extend,o}),"4ba3beecac53c63f6abbc5d32a9eb5c9","84c66edbaac3f0e7d6c8b753c5fa2fbd","0648e0c0c5aea01ad6e22f1aaa3f76a3","857e5b14c4f80b48914afa112ddb7797","37479945e432506c4e025ee2ac1b7c3e"),I$("36328f9cfa5571d58b3274535d3c3299",(function(e,t,n,i,r){var o=this,a=e._$KERNEL.prefix.pro,s=e._$is("desktop")?80:e._$is("ios")?50:30;return t.__requestAnimationFrame=function(){var t=e._$is("android")?null:o.requestAnimationFrame||o[a+"RequestAnimationFrame"];return function(){return t||(t=function(e){return window.setTimeout((function(){try{e(+new Date)}catch(e){}}),1e3/s)}),t.apply(this,arguments)}}(),t.__cancelAnimationFrame=function(){var t=e._$is("android")?null:o.cancelAnimationFrame||o[a+"CancelAnimationFrame"];return function(){return t||(t=function(e){window.clearTimeout(e)}),t.apply(this,arguments)}}(),t}),"6d7d8efca2984621427afebf4740148f"),I$("d77336639cbef6adbfc2814078838a84",(function(e,t){return e}),"36328f9cfa5571d58b3274535d3c3299","6d7d8efca2984621427afebf4740148f"),I$("7aeb340eabe86ec24993da81a5fe64ae",(function(e,t,n,i,r,o){return n.requestAnimationFrame=function(){return t.__requestAnimationFrame.apply(null,arguments)},n.cancelAnimationFrame=function(){t.__cancelAnimationFrame.apply(null,arguments)},this.requestAnimationFrame||(this.requestAnimationFrame=n.requestAnimationFrame),this.cancelAnimationFrame||(this.cancelAnimationFrame=n.cancelAnimationFrame),n}),"6d7d8efca2984621427afebf4740148f","d77336639cbef6adbfc2814078838a84"),I$("a2169941f027d111e938d6c93b5761b0",(function(e,t,n,i,r){return t.__canFlashEventBubble=function(e){return"transparent"!=(e||"").toLowerCase()},t}),"6d7d8efca2984621427afebf4740148f"),I$("e15dbeb89c685be109fd23c3e8576a2b",(function(e,t,n,i,r,o){return"trident"===t._$KERNEL.engine&&I$("add18bcd3fbfa329660bb2e760cde179",(function(){e.__canFlashEventBubble=function(e){return!0}})),"webkit"===t._$KERNEL.engine&&I$("5f22c8639cab392af4fa6bedd11e3999",(function(){e.__canFlashEventBubble=function(e){return!0}})),e}),"a2169941f027d111e938d6c93b5761b0","6d7d8efca2984621427afebf4740148f"),I$("adac33fd71e9b370a82a8ea1ed956d70",'{var hide  = defined("hidden")&&!!hidden}\n{var param = defined("params")&&params||NEJ.O}\n{var width = !hide?width:"1px",height = !hide?height:"1px"}\n{if hide}<div style="position:absolute;top:0;left:0;width:1px;height:1px;z-index:10000;overflow:hidden;">{/if}\n<object classid = "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\n        codebase = "http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"\n        width = "${width|default:"100px"}"\n        height = "${height|default:"100px"}" id="${id}">\n    <param value="${src}" name="movie">\n    {for x in param}\n    <param value="${x}" name="${x_key}"/>\n    {/for}\n    <embed src="${src}" name="${id}"\n           width="${width|default:"100px"}"\n           height="${height|default:"100px"}"\n           pluginspage="http://www.adobe.com/go/getflashplayer"\n           type="application/x-shockwave-flash"\n           {for x in param}${x_key}="${x}" {/for}></embed>\n</object>\n{if hide}</div>{/if}'),I$("0d3795c7dd53200a65023162f26b7566",(function(e,t,n,i,r,o,a,s,c,u,l,d){var f=r._$add(s);return c._$flash=function(){var s,c={},u=/^(?:mouse.*|(?:dbl)?click)$/i;window.onflashevent=function(e){var t=decodeURIComponent(e.target),n=e.type.toLowerCase(),i=c[t+"-tgt"];i&&u.test(n)&&d(i,e);var r=c[t+"-on"+n];if(r){var o="";try{o=r(e)}catch(e){}return o}};var l=function(e){s=document.title;var n=t._$get(e.parent)||document.body,i=r._$get(f,e);n.insertAdjacentHTML(e.hidden?"afterBegin":"beforeEnd",i)},d=function(e,t){var i=t.type.toLowerCase();o.requestAnimationFrame((function(){n._$dispatchEvent(e,i)}))},p=function(e){return!!e&&!!e.inited&&!!e.inited()},h=function e(n){var r=[document.embeds[n],t._$get(n),document[n],window[n]],o=r[i._$forIn(r,p)],a=n+"-count";c[a]++,o?(s&&(document.title=s,s=null),c[n](o),delete c[n],delete c[a]):window.setTimeout(e._$bind(null,n),300)},_=function(e){var n=e.id,r=e.params;r||(r={},e.params=r);var o=r.flashvars||"";if(o+=(o?"&":"")+"id="+n,!e.hidden&&(e.target||a.__canFlashEventBubble(r.wmode))){var s=t._$id(e.target)||t._$id(e.parent);c[n+"-tgt"]=s}r.flashvars=o,i._$loop(e,(function(e,t){i._$isFunction(e)&&"onready"!=t&&(c[n+"-"+t]=e)}))};return function(t){if((t=e.X({},t)).src){var n="_"+i._$uniqueID();t.id=n,_(t),l(t),t.onready&&(c[n]=t.onready,c[n+"-count"]=0,h(n))}}}(),e.copy(e.P("nej.e"),c),c}),"4ba3beecac53c63f6abbc5d32a9eb5c9","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","84c66edbaac3f0e7d6c8b753c5fa2fbd","25648a9a8e2b7651288ec89ab792bc60","7aeb340eabe86ec24993da81a5fe64ae","e15dbeb89c685be109fd23c3e8576a2b","adac33fd71e9b370a82a8ea1ed956d70"),I$("bb8dded43dcd62a8a3ad620018ec311f",(function(){}),"4ba3beecac53c63f6abbc5d32a9eb5c9"),I$("3ac8598f9d817532ad5386d2dcf9e551",(function(){var e={};return e._$checkFlash=function(){var e=!1;try{e=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(t){e=void 0!==navigator.mimeTypes["application/x-shockwave-flash"]}return e},e}),"bb8dded43dcd62a8a3ad620018ec311f"),I$("a09d745581790875b6b98c640df2afc1",(function(e,t,n,i,r,o,a,s,c){var u=window,l=[1,8,43];s._$$FlashVideoPlayer=t._$klass();var d=s._$$FlashVideoPlayer._$extend(i._$$EventTarget);return d.__init=function(){this.__super()},d.__reset=function(e){this.__super(e),this.__options=e,this.__videoOptions=e.data,this._hasDoLoad=!1,this.__initInterface(),this.__genFlashPlayer()},d.__initInterface=function(){var t="edu.front.flashVideoPlayer"+e._$randNumberString(2);this.__videoOptions.flashNamespace=t,this.__jsNamespace=NEJ.P(this.__videoOptions.flashNamespace),this.__jsNamespace.onStartLoad=this.__onStartLoad._$bind(this),this.__jsNamespace.onMeta=this.__onMeta._$bind(this),this.__jsNamespace.onError=this.__onError._$bind(this),this.__jsNamespace.playComplete=this.__onPlayEndHandle._$bind(this),this.__jsNamespace.anchorHandle=this.__onAnchorHandle._$bind(this),this.__jsNamespace.changeVolume=this.__onChangeVolume._$bind(this),this.__jsNamespace.changeMute=this.__onChangeMute._$bind(this),this.__jsNamespace.onSeek=this.__onSeek._$bind(this),this.__jsNamespace.onPlay=this.__onPlay._$bind(this),this.__jsNamespace.onPause=this.__onPause._$bind(this),this.__jsNamespace.onBuffering=this.__onBuffering._$bind(this),this.__jsNamespace.onPlayClick=this.__onPlayClick._$bind(this),this.__jsNamespace.onPauseClick=this.__onPauseClick._$bind(this),this.__jsNamespace.selectResolution=this.__onSelectResolution._$bind(this),this.__jsNamespace.selectCDN=this.__onSelectCDN._$bind(this),this.__jsNamespace.selectCaption=this.__onSelectCaption._$bind(this),this.__jsNamespace.liveStreamClosed=this.__onLiveStreamClosed._$bind(this),this.__jsNamespace.onFullscreenChange=this.__onFullscreenChange._$bind(this)},d.__genFlashPlayer=function(){var e="",t="";this.__videoOptions.videoPlayerSwfRemoteUrl&&(e=this.__videoOptions.videoPlayerSwfRemoteUrl),this.__videoOptions.videoPlayerUISwfRemotePath&&(t="&uiRemotePath="+this.__videoOptions.videoPlayerUISwfRemotePath),this.__videoOptions.isLocal=!1,e||(e="//edu-image.nosdn.127.net/component-video-player-eduPlayer_4e33ac6eccb46c8f91239b0efcb0f590.swf"),t||(t="&uiRemotePath=//edu-image.nosdn.127.net/component-video-player-swf-ui-cloudPlayerUI_bea90e41cfd162b6c65eddc5b77b6776.swf");var n="namespace="+this.__videoOptions.flashNamespace+"&host="+this.__videoOptions.host+"&isLive="+("live"==this.__videoOptions.mode)+"&isAutoPlay="+this.__videoOptions.autoStart+"&isPreload="+this.__videoOptions.preload+(this.__videoOptions.volume?"&volume="+this.__videoOptions.volume:"")+(this.__videoOptions.mute?"&mute="+this.__videoOptions.mute:"")+"&isLocal="+Boolean(this.__videoOptions.isLocal)+"&showCdnSwitch="+("live"!=this.__videoOptions.mode&&this.__videoOptions.showCdnSwitch)+"&isInnerSite="+this.__videoOptions.innerSite+"&showPauseAd="+this.__videoOptions.showPauseAd+"&waterMark="+this.__videoOptions.waterMark+"&autopnt="+this.__videoOptions.openAutoPlayNextTip+t;r._$flash({src:e,width:"100%",height:"100%",parent:this.__options.parent,params:{wmode:"transparent",allowscriptaccess:"always",allowFullScreen:!this.__videoOptions.notAllowFullScreen,flashvars:n},onready:function(e){this.__flashObj=e}._$bind(this)}),this._checkSwfVersion()},d.__setFlashFunc=function(e){if(e&&this.__flashObj)try{e()}catch(e){console&&console.log(e)}else{this.__timer&&(this.__timer=u.clearInterval(this.__timer));this.__timer=u.setInterval(function(){if(e&&this.__flashObj){try{e()}catch(e){console&&console.log(e)}this.__timer=u.clearInterval(this.__timer)}}._$bind(this),100)}},d.__clear=function(){if(this.__parent){var e=n._$getChildren(this.__parent);if(e)for(var t=0;t<e.length;t++)this.__parent.removeChild(e[t])}this.__timer&&(this.__timer=u.clearInterval(this.__timer)),delete this.__flashObj},d.__destroy=function(){this.__clear(),this.__supDestroy()},d._checkSwfVersion=function(){this.__setFlashFunc(function(){var e,t;try{e=this.__flashObj.version()}catch(e){return void alert("swf版本太低，请更新至"+l.join("."))}for(var n=(t=e.split(".")).length-1;n>=0;n--)if(parseInt(t[n])<l[n])return void alert("swf版本太低，请更新至"+l.join("."));this._$load(this.__videoOptions.videoData)}._$bind(this))},d._$stop=function(){this.__setFlashFunc(function(){this.__flashObj.nejstop()}._$bind(this))},d._$load=function(e){e&&(this._hasDoLoad=!1,this.__videoOptions.defaultQuality&&(this.__videoOptions.videoData.defaultQuality=this.__videoOptions.defaultQuality),this.__videoOptions.cdnSwitch&&(this.__videoOptions.videoData.cdnSwitch=this.__videoOptions.cdnSwitch),this.__setFlashFunc(function(){this.__flashObj.stop(),this.__videoOptions.waterMark&&this.__videoOptions.waterMarkContent&&this.__flashObj.setWaterMarkContent(this.__videoOptions.waterMarkContent),this.__flashObj.load(this.__videoOptions.videoData),this._hasDoLoad=!0}._$bind(this)))},d._$pause=function(){this.__setFlashFunc(function(){this.__flashObj.pause()}._$bind(this))},d._$resume=function(){this.__setFlashFunc(function(){this.__flashObj.nejplay()}._$bind(this))},d._$getPosition=function(e){this.__setFlashFunc(function(){e(this.__flashObj.getPosition())}._$bind(this))},d._$seek=function(e){this.__setFlashFunc(function(){this.__flashObj.seekTime(e)}._$bind(this))},d._$getState=function(e){this.__setFlashFunc(function(){e(this.__flashObj.getState())}._$bind(this))},d._$getStateInfo=function(e){this.__setFlashFunc(function(){e(this.__flashObj.getStateInfo())}._$bind(this))},d._$checkLiveReload=function(){this._hasDoLoad&&this.__setFlashFunc(function(){this.__flashObj.checkLiveReload()}._$bind(this))},d._$exitFullScreen=function(){return!1},d._$isBlock=function(){return this.__flashObj.isBlock()},d._$metaFPS=function(){return this.__flashObj.metaFPS()},d._$currentFPS=function(){return this.__flashObj.currentFPS()},d._$currentKbps=function(){return this.__flashObj.currentKbps()},d._$getLog=function(e){this.__setFlashFunc(function(){e(this.__flashObj.getLog())}._$bind(this))},d.__onStartLoad=function(e){this._$dispatchEvent("onStartLoad",e)},d.__onMeta=function(e){this._$dispatchEvent("onMeta",e)},d.__onError=function(e){this._$dispatchEvent("onError",e)},d.__onPlayEndHandle=function(){this._$dispatchEvent("onPlayEnd")},d.__onAnchorHandle=function(e){this._$dispatchEvent("onAnchorPoint",e)},d.__onChangeVolume=function(e){this._$dispatchEvent("onChangeVolume",e)},d.__onChangeMute=function(e){this._$dispatchEvent("onMute",e)},d.__onSeek=function(e){this._$dispatchEvent("onSeek",e)},d.__onSelectResolution=function(e){this._$dispatchEvent("onSelectResolution",e)},d.__onSelectCaption=function(e){this._$dispatchEvent("onSelectCaption",e)},d.__onSelectCDN=function(e){this._$dispatchEvent("onChangeCDN",e)},d.__onLiveStreamClosed=function(){this._$dispatchEvent("onLiveStreamClosed")},d.__onPlay=function(){this._$dispatchEvent("onPlay")},d.__onPause=function(){this._$dispatchEvent("onPause")},d.__onBuffering=function(){this._$dispatchEvent("onBuffering")},d.__onPlayClick=function(){this._$dispatchEvent("onPlayClick")},d.__onPauseClick=function(e){this._$dispatchEvent("onPauseClick",e)},d.__onFullscreenChange=function(e){this._$dispatchEvent("onFullscreenChange",e)},s}),"84c66edbaac3f0e7d6c8b753c5fa2fbd","21695c9c68ca9b7b4b0b20b75db7c635","0648e0c0c5aea01ad6e22f1aaa3f76a3","538a7b5718a38aec5f3e055b957e51e1","0d3795c7dd53200a65023162f26b7566","4b580f44bb46eed3bdca9ef584876649","3ac8598f9d817532ad5386d2dcf9e551"),I$("0abdeb2a02a17f94629c5b65cade0438",'<div class="u-edu-h5player">\n    <div class="bg f-pa j-playerbg"></div>\n</div>\n'),I$("c0997d8c9f1e7b615be7f959fd3049c3",(function(e,t,n,i){var r={f:function(){}};r.toString=Object.prototype.toString,r.trim=function(e){return(e||"").replace(/(^\s*)|(\s*$)/g,"")},r.isFunction=function(e){return"[object Function]"===r.toString.call(e)},r.slice=Array.prototype.slice,r.hasOwnProperty=Object.prototype.hasOwnProperty,r.stringify=function(e){return JSON.stringify(e)},r.isEmpty=function(e){for(var t in e)if(void 0!==t&&r.hasOwnProperty.call(e,t))return!1;return!0};var o=function(e,t,n){if(e&&t)for(var i in e)if(e.hasOwnProperty(i)&&t.call(n,e[i],i,e))return i},a=function(e,t){for(;t;){var n=t.prototype,i=o(n,(function(t){return e===t}));if(null!=i)return{name:i,klass:t};t=t._$super}};return r.C=function(){var e=function(){return this._init.apply(this,arguments)};return e.pro=e.prototype,e.extend=function(e){if(!r.isFunction(e))throw new TypeError("SuperClass must be a function");var t=function(){};t.prototype=e.prototype,this.prototype=new t;var n=this.prototype;n.constructor=this,void 0===n._init&&(n._init=r.f),this._$super=e;var i=[],o={},s=function(e,t){var n=a(e,t);if(n)return i[i.length-1]!=n.name&&i.push(n.name),o[n.name]=n.klass._$super,n.name};return this.prototype.__super=function(){var e=i[i.length-1],t=arguments.callee.caller;if(e){var n=o[e].prototype;n.hasOwnProperty(t)&&t==n[e]?o[e]=o[e]._$super:e=s(t,this.constructor)}else e=s(t,this.constructor);var r=o[e].prototype[e].apply(this,arguments);return e==i[i.length-1]&&(i.pop(),delete o[e]),r},n},e},r.createEl=function(e,t){var n=document.createElement(e||"div");if(t&&n.setAttribute)for(var i in t)r.hasOwnProperty.call(t,i)&&n.setAttribute(i,t[i]);return n},r.T=function(e,t){return t=t[0]?t[0]:t||document,e?t.getElementsByTagName(e):null},r.getEvent=function(e){if(document.all)return window.event;for(var t=this.getEvent.caller;null!=t;){var n=t.arguments[0];if(n&&(n.constructor==Event||n.constructor==MouseEvent||"object"==_typeof(n)&&n.preventDefault&&n.stopPropagation))return n;t=t.caller}return null},r.getMousePos=function(e){return e||(e=this.getEvent()),e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:document.documentElement&&document.documentElement.scrollTop?{x:e.clientX+document.documentElement.scrollLeft-document.documentElement.clientLeft,y:e.clientY+document.documentElement.scrollTop-document.documentElement.clientTop}:document.body?{x:e.clientX+document.body.scrollLeft-document.body.clientLeft,y:e.clientY+document.body.scrollTop-document.body.clientTop}:void 0},r.getScrollX=function(){if("number"==typeof window.pageXOffset)return window.pageXOffset;var e=document.documentElement;if(e&&"number"==typeof e.scrollLeft)return e.scrollLeft;var t=document.body;return t&&"number"==typeof t.scrollLeft?t.scrollLeft:0},r.getScrollY=function(){if("number"==typeof window.pageYOffset)return window.pageYOffset;var e=document.documentElement;if(e&&"number"==typeof e.scrollTop)return e.scrollTop;var t=document.body;return t&&"number"==typeof t.scrollTop?t.scrollTop:0},r.offset=function(e){var t={top:0,left:0},n=(e&&e.ownerDocument).documentElement;return e.getBoundingClientRect&&(t=e.getBoundingClientRect()),{top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},r})),I$("177c57093a83397c49e322c88c13d664",(function(e,t,n,i,r){var o=e.C(),a=o.pro;return a._init=function(e,t){return this.__notify=e,this.__context=t,this},a.setNotifyMethod=function(e){this.__notify=e},a.setNotifyContext=function(e){this.__context=e},a.notifyObserver=function(e){this.__notify.apply(this.__context,[e])},o}),"c0997d8c9f1e7b615be7f959fd3049c3"),I$("bc2dfd1af9aa106c101c02f9beffe78b",(function(e,t,n,i,r,o){var a=e.C(),s=a.pro;return s._init=function(){return this.__componentMap={},this.__observerMap={},this},s.registerObserver=function(e,t){var n=this.__observerMap[e];n?n.push(t):this.__observerMap[e]=[t]},s.notifyObservers=function(e){if(this.__observerMap[e.getName()]){for(var t,n=this.__observerMap[e.getName()],i=[],r=0;r<n.length;r++)t=n[r],i.push(t);for(r=0;r<i.length;r++)(t=i[r]).notifyObserver(e)}},s.removeObserver=function(e,t){for(var n=this.__observerMap[e],i=0;i<n.length;i++)if(n[i].context===t){n.splice(i,1);break}0==n.length&&delete this.__observerMap[e]},s.hasComponent=function(e){return!!this.__componentMap[e]},s.registerComponent=function(e){if(!this.__componentMap[e.getName()]){this.__componentMap[e.getName()]=e;var n=e.listNotificationInterests();if(n&&n.length>0)for(var i=new t(e.handleNotification,e),r=0;r<n.length;r++)this.registerObserver(n[r],i);e.onRegister()}},s.retrieveComponent=function(e){return this.__componentMap[e]},s.removeComponent=function(e){var t=this.__componentMap[e];if(t){for(var n=t.listNotificationInterests(),i=0;i<n.length;i++)this.removeObserver(n[i],t);delete this.__componentMap[e],t.onRemove()}return t},a}),"c0997d8c9f1e7b615be7f959fd3049c3","177c57093a83397c49e322c88c13d664"),I$("3fc446ecd379af19391f9ef27f1b4d95",(function(e,t,n,i,r){var o=e.C(),a=o.pro;return a._init=function(e,t){return this.__name=e,this.__body=t,this},a.getName=function(){return this.__name},a.getBody=function(){return this.__body},a.setBody=function(e){return this.__body},a.toString=function(){var e="Notification Name:"+this.getName();return e+=" Body:"+(this.__body?this.__body.toString():this.__body)},o}),"c0997d8c9f1e7b615be7f959fd3049c3"),I$("4d14fe09a1f8c33087e0788a0b080a10",(function(e,t,n,i,r){return{LOG:"log",MOVIEDATA_NEW:"moviedata_new",MOVIEDATA_ERROR:"moviedata_error",MOVIEDATA_READY:"moviedata_ready",MOVIEDATA_CURRENT_ITEM_CHANGE:"moviedata_current_item_change",MOVIEDATA_CURRENT_CDN_CHANGE:"moviedata_current_cdn_change",MAINVIDEO_VIDEO_READY:"mainvideo_videoready",MAINVIDEO_BEFORE_LOAD:"mainvideo_beforeload",MAINVIDEO_START_LOAD:"mainvideo_startload",MAINVIDEO_STATE:"mainvideo_state",MAINVIDEO_META:"mainvideo_meta",MAINVIDEO_BEFORE_PLAY:"mainvideo_beforePlay",MAINVIDEO_QUALITY_CHANGE:"mainvideo_qualitychange",MAINVIDEO_RATE_CHANGE:"mainvideo_ratechange",MAINVIDEO_BUFFER:"mainvideo_buffer",MAINVIDEO_BUFFER_FULL:"mainvideo_bufferfull",MAINVIDEO_TIME:"mainvideo_time",MAINVIDEO_ERROR:"mainvideo_error",MAINVIDEO_VOLUME:"mainvideo_volume",MAINVIDEO_VOLUME_INCREASE:"mainvideo_volume_increase",MAINVIDEO_VOLUME_DECREASE:"mainvideo_volume_decrease",MAINVIDEO_MUTE:"mainvideo_mute",MAINVIDEO_SEEK:"mainvideo_seek",MAINVIDEO_SEEK_FORWARD:"mainvideo_seek_forward",MAINVIDEO_SEEK_BACKWARD:"mainvideo_seek_backward",MAINVIDEO_TIMEUPDATE:"mainvideo_timeupdate",BOX_FULLSCREEN_CHANGE:"mainvideo_fullscreen_change",VIEW_READY:"view_ready",VIEW_LOAD:"view_load",VIEW_RELOAD:"view_reload",VIEW_PLAY:"view_play",VIEW_PAUSE:"view_pause",VIEW_SEEK:"view_seek",VIEW_SEEK_FORWARD:"view_seek_forward",VIEW_SEEK_BACKWARD:"view_seek_backward",VIEW_VOLUME:"view_volume",VIEW_VOLUME_INCREASE:"view_volume_increase",VIEW_VOLUME_DECREASE:"view_volume_decrease",VIEW_MUTE:"view_mute",VIEW_QUALITY:"view_quality",VIEW_FULLSCREEN:"view_fullscreen",VIEW_RATE:"view_rate",VIEW_CDN:"view_cdn",VIEW_ANCHOR:"view_anchor",VIEW_MORE_MENU:"view_more_munu",VIEW_CAPTION_SELECT:"view_caption_select",VIEW_PREAD_START:"view_pread_start",VIEW_PREAD_END:"view_pread_end",VIDEO_CONTROL_DOM_READY:"video_control_dom_ready",VIDEO_CONTROL_SHOW:"video_control_show",VIDEO_CONTROL_HIDE:"video_control_hide",VIEW_SHOW_LOG:"view_show_log"}})),I$("667fc0ed54c3ae4f3d441483ccadb1a4",(function(e,t,n,i,r,o,a,s,c,u){var l;return a._$$CustomEvent=t._$klass(),(l=a._$$CustomEvent._$extend(o._$$EventTarget)).__init=function(){this.__cache={},this.__super()},l.__reset=function(e){this.__super(e),this.__element=n._$get(e.element)||window,this.__doEventInit(e.event),this.__doEventAPIEnhance(),this._$dispatchEvent("oninit")},l.__destroy=function(){var e=function(e,t,n){r._$isArray(e)||r._$safeDelete(this.__element,t),delete n[t]};return function(){this.__super(),r._$loop(this.__cache,e,this),delete this.__element}}(),l.__isDelegate=function(e,t){return!((e=n._$get(e))!==this.__element||t&&!this.__cache["on"+t])},l.__doEventInit=function(e){if(r._$isString(e)){var t="on"+e;this.__cache[t]||(this.__cache[t]=this.__doEventDispatch._$bind(this,e)),this.__doEventBind(e)}else r._$isArray(e)&&r._$forEach(e,this.__doEventInit,this)},l.__doEventBind=function(e){var t="on"+e,n=this.__element[t],i=this.__cache[t];n!=i&&(this.__doEventDelete(e),n&&n!=c&&this.__doEventAdd(e,n),this.__element[t]=i)},l.__doEventAdd=function(e,t,n){var i=this.__cache[e];i||(i=[],this.__cache[e]=i),r._$isFunction(t)&&(n?i.unshift(t):i.push(t))},l.__doEventDelete=function(e,t){var n=this.__cache[e];n&&n.length&&(t?r._$reverseEach(n,(function(e,n,i){if(t===e)return i.splice(n,1),!0})):delete this.__cache[e])},l.__doEventDispatch=function(e,t){(t=t||{noargs:!0})==s&&(t={}),t.type=e,this._$dispatchEvent("ondispatch",t),t.stopped||r._$forEach(this.__cache[e],(function(e){try{e(t)}catch(e){console.error(e.message),console.error(e.stack)}}))},l.__doEventAPIEnhance=function(){var t=function(e){var t=e.args,n=t[1].toLowerCase();this.__isDelegate(t[0],n)&&(e.stopped=!0,this.__doEventBind(n),this.__doEventAdd(n,t[2],t[3]),this._$dispatchEvent("oneventadd",{type:n,listener:t[2]}))},n=function(e){var t=e.args,n=t[1].toLowerCase();this.__isDelegate(t[0],n)&&(e.stopped=!0,this.__doEventDelete(n,t[2]))},o=function(e){var t=e.args,n=(t[1]||"").toLowerCase();if(this.__isDelegate(t[0])){if(n)return void this.__doEventDelete(n);r._$loop(this.__cache,(function(e,t){r._$isArray(e)&&this.__doEventDelete(t)}),this)}},a=function(e){var t=e.args,n=t[1].toLowerCase();this.__isDelegate(t[0],n)&&(e.stopped=!0,t[0]["on"+n].apply(t[0],t.slice(2)))};return function(){this.__enhanced||(this.__enhanced=!0,i._$addEvent=i._$addEvent._$aop(t._$bind(this)),i._$delEvent=i._$delEvent._$aop(n._$bind(this)),i._$clearEvent=i._$clearEvent._$aop(o._$bind(this)),i._$dispatchEvent=i._$dispatchEvent._$aop(a._$bind(this)),e.copy(e.P("nej.v"),i))}}(),e.copy(e.P("nej.ut"),a),a}),"4ba3beecac53c63f6abbc5d32a9eb5c9","21695c9c68ca9b7b4b0b20b75db7c635","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","84c66edbaac3f0e7d6c8b753c5fa2fbd","538a7b5718a38aec5f3e055b957e51e1"),I$("d8dceddbf0107e7dbd0a1230790018be",(function(e,t,n,i,r,o,a,s,c,u){var l;return a._$$LoaderAbstract=t._$klass(),(l=a._$$LoaderAbstract._$extend(o._$$EventTarget)).__init=function(){this.__super(),this.__qopt={onerror:this.__onQueueError._$bind(this),onload:this.__onQueueLoaded._$bind(this)},this.constructor.__cache||(this.constructor.__cache={loaded:{}})},l.__reset=function(e){this.__super(e),this.__version=e.version,this.__timeout=e.timeout,this.__qopt.version=this.__version,this.__qopt.timeout=this.__timeout},l.__delLoadData=function(e){delete this.constructor.__cache[e]},l.__getLoadData=function(e){return this.constructor.__cache[e]},l.__setLoadData=function(e,t){this.constructor.__cache[e]=t},l.__getRequest=c,l.__doClearRequest=function(e){i._$clearEvent(e)},l.__doRequest=function(e){e.src=this.__url,document.head.appendChild(e)},l.__doClear=function(){var e=this.__getLoadData(this.__url);e&&(window.clearTimeout(e.timer),this.__doClearRequest(e.request),delete e.bind,delete e.timer,delete e.request,this.__delLoadData(this.__url),this.__getLoadData("loaded")[this.__url]=!0)},l.__doCallback=function(e){var t=this.__getLoadData(this.__url);if(t){var n=t.bind;if(this.__doClear(),n&&n.length>0)for(var i;n.length;){i=n.shift();try{i._$dispatchEvent(e,arguments[1])}catch(e){0,console.error(e.message),console.error(e.stack)}i._$recycle()}}},l.__onError=function(e){this.__doCallback("onerror",e)},l.__onLoaded=function(){this.__doCallback("onload")},l.__doLoadQueue=function(e){this.constructor._$allocate(this.__qopt)._$load(e)},l.__onQueueCheck=function(e){var t=this.__getLoadData(this.__key);t&&(e&&t.error++,t.loaded++,t.loaded<t.total||(this.__delLoadData(this.__key),this._$dispatchEvent(t.error>0?"onerror":"onload")))},l.__onQueueError=function(e){this.__onQueueCheck(!0)},l.__onQueueLoaded=function(){this.__onQueueCheck()},l._$load=function(e){if(e=r._$absolute(e))if(this.__url=e,this.__version&&(this.__url+=(this.__url.indexOf("?")<0?"?":"&")+this.__version),this.__getLoadData("loaded")[this.__url]){try{this._$dispatchEvent("onload")}catch(e){0,console.error(e.message),console.error(e.stack)}this._$recycle()}else{var t,o=this.__getLoadData(this.__url);o?(o.bind.unshift(this),o.timer=window.clearTimeout(o.timer)):(o={request:t=this.__getRequest(),bind:[this]},this.__setLoadData(this.__url,o),i._$addEvent(t,"load",this.__onLoaded._$bind(this)),i._$addEvent(t,"error",this.__onError._$bind(this,{code:n._$CODE_ERRSERV,message:"无法加载指定资源文件["+this.__url+"]！"}))),0!=this.__timeout&&(o.timer=window.setTimeout(this.__onError._$bind(this,{code:n._$CODE_TIMEOUT,message:"指定资源文件["+this.__url+"]载入超时！"}),this.__timeout||6e4)),t&&this.__doRequest(t),this._$dispatchEvent("onloading")}else this._$dispatchEvent("onerror",{code:n._$CODE_NOTASGN,message:"请指定要载入的资源地址！"})},l._$queue=function(e){if(e&&e.length){this.__key=r._$uniqueID();var t={error:0,loaded:0,total:e.length};this.__setLoadData(this.__key,t),r._$forEach(e,(function(e,n){e?this.__doLoadQueue(e):t.total--}),this),this._$dispatchEvent("onloading")}else this._$dispatchEvent("onerror",{code:n._$CODE_NOTASGN,message:"请指定要载入的资源队列！"})},a}),"4ba3beecac53c63f6abbc5d32a9eb5c9","21695c9c68ca9b7b4b0b20b75db7c635","de85da6b52f225de2e019291c3d4669b","c0c334bf3ca5fbd97535793ddce3d534","84c66edbaac3f0e7d6c8b753c5fa2fbd","538a7b5718a38aec5f3e055b957e51e1"),I$("f389c2016f0a73ee7124131cc11c3e6d",(function(e,t,n,i,r,o,a,s,c,u,l,d){var f;return c._$$ProxyAbstract=e._$klass(),(f=c._$$ProxyAbstract._$extend(o._$$EventTarget)).__reset=function(e){this.__super(e),this.__request=t._$fetch({url:"",sync:!1,cookie:!1,type:"text",method:"GET",timeout:6e4},e);var n=i._$get("csrf");if(n.cookie&&n.param){var o=encodeURIComponent(n.param)+"="+encodeURIComponent(a._$cookie(n.cookie)||""),s=this.__request.url.indexOf("?")<0?"?":"&";this.__request.url+=s+o}this.__headers=e.headers||{},null==this.__headers[r._$HEAD_CT]&&(this.__headers[r._$HEAD_CT]=r._$HEAD_CT_FORM)},f.__destroy=function(){this.__super(),delete this.__rkey,delete this.__request,delete this.__headers},f.__onLoadRequest=function(e){var t=e.status;-1!=t?0==(""+t).indexOf("2")?this._$dispatchEvent("onload",n._$text2type(e.result,this.__request.type)):this._$dispatchEvent("onerror",{data:t,result:e.result,code:r._$CODE_ERRSERV,message:"服务器返回异常状态["+t+"]!"}):this._$dispatchEvent("onerror",{code:r._$CODE_TIMEOUT,message:"请求["+this.__request.url+"]超时！"})},f.__doSendRequest=l,f.__getResponseHeader=l,f.__onAbort=function(){this._$dispatchEvent("onerror",{code:r._$CODE_ERRABRT,message:"客户端终止请求"})},f._$send=function(e){var t=this.__request.url;if(t)try{this.__request.data=null==e?null:e;var n={request:this.__request,headers:this.__headers};try{this._$dispatchEvent("onbeforerequest",n)}catch(e){console.error(e.message),console.error(e.stack)}this.__doSendRequest(n)}catch(e){this._$dispatchEvent("onerror",{code:r._$CODE_ERRSERV,message:"请求["+t+"]失败:"+e.message+"！"})}else this._$dispatchEvent("onerror",{code:r._$CODE_NOTASGN,message:"没有输入请求地址！"})},f._$abort=l,f._$header=function(e){if(!t._$isArray(e))return this.__getResponseHeader(e)||"";var n={};return t._$forEach(e,(function(e){n[e]=this._$header(e)}),this),n},c}),"21695c9c68ca9b7b4b0b20b75db7c635","84c66edbaac3f0e7d6c8b753c5fa2fbd","0648e0c0c5aea01ad6e22f1aaa3f76a3","8c8a07aeafcda1041b8f34bf9d65458a","de85da6b52f225de2e019291c3d4669b","538a7b5718a38aec5f3e055b957e51e1","4b580f44bb46eed3bdca9ef584876649","d54340b50ebb0e85090dcbb31bc2720d"),I$("a0f4a0f829a82ee3e56d1c9389bb82c8",(function(e,t,n,i){return e.__getXMLHttpRequest=function(){return new XMLHttpRequest},e.__hasAbortEvent=function(){return!0},e})),I$("cc8354aa1a6bad891e870840d5da7398",(function(e,t,n,i,r,o,a){return"trident"===e._$KERNEL.engine&&e._$KERNEL.release<="5.0"&&I$("27e8ab2ed43d6b15ae1efea5e6392257",(function(){t.__hasAbortEvent=function(){return!1}})),"trident"===e._$KERNEL.engine&&e._$KERNEL.release<="2.0"&&I$("b03c57f3ac5121409b5707de5bc5d282",(function(){t.__getXMLHttpRequest=function(){var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP.4.0","Msxml2.XMLHTTP.5.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];return function(){var t=null;return n._$forIn(e,(function(e){try{return t=new ActiveXObject(e),!0}catch(e){}})),t}}()})),t}),"6d7d8efca2984621427afebf4740148f","a0f4a0f829a82ee3e56d1c9389bb82c8","84c66edbaac3f0e7d6c8b753c5fa2fbd"),I$("1e6d3195c89337911af2a26223efe4d0",(function(e,t,n,i,r,o,a,s,c){var u;return o._$$ProxyXHR=n._$klass(),(u=o._$$ProxyXHR._$extend(e._$$ProxyAbstract)).__destroy=function(){this.__super(),window.clearTimeout(this.__timer),delete this.__timer;try{this.__xhr.onreadystatechange=s,this.__xhr.abort()}catch(e){}delete this.__xhr},u.__doSendRequest=function(){var e=function(e,t){this.__xhr.setRequestHeader(t,e)};return function(n){var o=n.request,a=n.headers;if(this.__xhr=r.__getXMLHttpRequest(),a[i._$HEAD_CT]===i._$HEAD_CT_FILE&&(delete a[i._$HEAD_CT],this.__xhr.upload.onprogress=this.__onStateChange._$bind(this,1),"FORM"===o.data.tagName)){var s=function(e){var n=[];return t._$reverseEach(e.getElementsByTagName("input"),(function(e){"file"==e.type&&(e.name?e.files.length>1&&(t._$forEach(e.files,(function(t){n.push({name:e.name,file:t})})),e.parentNode.removeChild(e)):e.parentNode.removeChild(e))})),n.length>0?n:null}(o.data);o.data=new FormData(o.data),t._$forEach(s,(function(e){var n=e.file;o.data.append(e.name||n.name||"file-"+t._$uniqueID(),n)}))}this.__xhr.onreadystatechange=this.__onStateChange._$bind(this,2),this.__xhr.onabort=this.__onAbort._$bind(this),0!==o.timeout&&(this.__timer=window.setTimeout(this.__onStateChange._$bind(this,3),o.timeout)),this.__xhr.open(o.method,o.url,!o.sync),t._$loop(a,e,this),this.__request.cookie&&"withCredentials"in this.__xhr&&(this.__xhr.withCredentials=!0),a[i._$HEAD_CT]!==i._$HEAD_CT_FORM||window.FormData&&o.data instanceof window.FormData||t._$isObject(o.data)&&(o.data=t._$object2string(o.data,"&",!0)),this.__xhr.send(o.data)}}(),u.__onStateChange=function(e){switch(e){case 1:this._$dispatchEvent("onuploading",arguments[1]);break;case 2:4==this.__xhr.readyState&&this.__onLoadRequest({status:this.__xhr.status,result:this.__xhr.responseText||""});break;case 3:this.__onLoadRequest({status:-1})}},u.__getResponseHeader=function(e){return this.__xhr?this.__xhr.getResponseHeader(e):""},u._$abort=function(){r.__hasAbortEvent()?(this.__xhr.onreadystatechange=s,this.__xhr.abort()):this.__onAbort()},o}),"f389c2016f0a73ee7124131cc11c3e6d","84c66edbaac3f0e7d6c8b753c5fa2fbd","21695c9c68ca9b7b4b0b20b75db7c635","de85da6b52f225de2e019291c3d4669b","cc8354aa1a6bad891e870840d5da7398"),I$("37c5d9e387fe21db9ec3cdbfd2c63d57",(function(e,t,n,i,r,o,a,s,c){var u,l={},d=i._$uniqueID();return this["ld"+d]=function(e,t){var n=l[e];n&&(delete l[e],n.__onLoadRequest({status:200,result:t}))},this["er"+d]=function(e,t){var n=l[e];n&&(delete l[e],n.__onLoadRequest({status:t||0}))},o._$$ProxyFlash=t._$klass(),(u=o._$$ProxyFlash._$extend(e._$$ProxyAbstract)).__doSendRequest=function(e){var t=l.flash;if(i._$isArray(t))t.push(this.__doSendRequest._$bind(this,e));else if(t){this.__rkey=i._$uniqueID(),l[this.__rkey]=this;var o=i._$fetch({url:"",data:null,method:"GET"},e.request);o.key=this.__rkey,o.headers=e.headers,o.onerror="cb.er"+d,o.onloaded="cb.ld"+d;var a=n._$getFlashProxy(o.url);a&&(o.policyURL=a),t.request(o)}else l.flash=[this.__doSendRequest._$bind(this,e)],r._$flash({hidden:!0,src:n._$get("ajax.swf"),onready:function(e){if(e){var t=l.flash;l.flash=e,i._$reverseEach(t,(function(e,t,n){try{e()}catch(e){}}))}}})},u._$abort=function(){delete l[this.__rkey],this.__onAbort()},o}),"f389c2016f0a73ee7124131cc11c3e6d","21695c9c68ca9b7b4b0b20b75db7c635","8c8a07aeafcda1041b8f34bf9d65458a","84c66edbaac3f0e7d6c8b753c5fa2fbd","0d3795c7dd53200a65023162f26b7566"),I$("1522e46a871615532aa5a4d17a148c38",(function(e,t,n,i){return e.__formatOrigin=function(){var e=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(t){return t=t||"",e.test(t)?RegExp.$1:"*"}}(),e.__formatPassData=function(e){return e},e.__postMessage=function(n,i){n.postMessage&&(i=i||t,n.postMessage(e.__formatPassData(i.data),e.__formatOrigin(i.origin)))},e})),I$("80f65165fe403114d04ed33a491a5ad2",(function(e,t,n,i,r,o,a,s){return"trident"===e._$KERNEL.engine&&e._$KERNEL.release>="4.0"&&e._$KERNEL.release<="5.0"&&I$("80fe406049d0363664d73f6d9700348f",(function(){t.__formatPassData=function(e){return JSON.stringify(e)}})),"trident"===e._$KERNEL.engine&&e._$KERNEL.release<="3.0"&&I$("a74c48145184e68ef5f05b468f030eb1",(function(e){var r="MSG|",a=[],s=function(){var e,t=function(t,i,r){n._$indexOf(e,t.w)<0&&(e.push(t.w),r.splice(i,1),t.w.name=t.d)};return function(){e=[],n._$reverseEach(a,t),e=null}}();t.__postMessage=function(){var e=function(e){var t={};return e=e||o,t.origin=e.origin||"",t.ref=location.href,t.self=e.source,t.data=JSON.stringify(e.data),r+n._$object2string(t,"|",!0)};return function(t,n){a.unshift({w:t,d:escape(e(n))})}}(),e._$$CustomEvent._$allocate({element:window,event:"message"}),setInterval(s,100),setInterval((function(){var e=unescape(window.name||"").trim();if(e&&0==e.indexOf(r)){window.name="";var o=n._$string2object(e.replace(r,""),"|"),a=(o.origin||"").toLowerCase();a&&"*"!=a&&0!=location.href.toLowerCase().indexOf(a)||i._$dispatchEvent(window,"message",{data:JSON.parse(o.data||"null"),source:window.frames[o.self]||o.self,origin:t.__formatOrigin(o.ref||document.referrer)})}}),20)}),"667fc0ed54c3ae4f3d441483ccadb1a4","d54340b50ebb0e85090dcbb31bc2720d"),t}),"6d7d8efca2984621427afebf4740148f","1522e46a871615532aa5a4d17a148c38","84c66edbaac3f0e7d6c8b753c5fa2fbd","c0c334bf3ca5fbd97535793ddce3d534"),I$("ff36379606b88d0f36ce5405c8211b6f",(function(e,t,n,i,r,o,a,s){return r._$postMessage=function(){var e=window.name||"_parent",r={_top:window.top,_self:window,_parent:window.parent};return function(a,s){if(!t._$isString(a)||(a=r[a]||window.frames[a]||(n._$get(a)||o).contentWindow)){var c=t._$fetch({data:null,origin:"*",source:e},s);i.__postMessage(a,c)}}}(),e.copy(e.P("nej.j"),r),r}),"4ba3beecac53c63f6abbc5d32a9eb5c9","84c66edbaac3f0e7d6c8b753c5fa2fbd","0648e0c0c5aea01ad6e22f1aaa3f76a3","80f65165fe403114d04ed33a491a5ad2"),I$("f2ac368939bc24f1ebaf26cafaae5491",(function(e,t,n,i,r,o,a,s,c,u,l){var d,f={};return s._$$ProxyFrame=n._$klass(),(d=s._$$ProxyFrame._$extend(e._$$ProxyAbstract)).__init=function(){var e="NEJ-AJAX-DATA:",t=!1,n=function(t){var n=t.data;if(0==n.indexOf(e)){n=JSON.parse(n.replace(e,""));var i=f[n.key];i&&(delete f[n.key],n.result=decodeURIComponent(n.result||""),i.__onLoadRequest(n))}};return function(){this.__super(),t||(t=!0,i._$addEvent(window,"message",n))}}(),d.__doSendRequest=function(e){var n=e.request,s=r._$getFrameProxy(n.url),c=f[s];if(t._$isArray(c))c.push(this.__doSendRequest._$bind(this,e));else if(c){this.__rkey=t._$uniqueID(),f[this.__rkey]=this;var u=t._$fetch({url:"",data:null,timeout:0,method:"GET"},n);u.key=this.__rkey,u.headers=e.headers,a._$postMessage(f[s],{data:u})}else f[s]=[this.__doSendRequest._$bind(this,e)],o._$createXFrame({src:s,visible:!1,onload:function(e){var n=f[s];f[s]=i._$getElement(e).contentWindow,t._$reverseEach(n,(function(e){try{e()}catch(e){}}))}})},d._$abort=function(){delete f[this.__rkey],this.__onAbort()},s}),"f389c2016f0a73ee7124131cc11c3e6d","84c66edbaac3f0e7d6c8b753c5fa2fbd","21695c9c68ca9b7b4b0b20b75db7c635","c0c334bf3ca5fbd97535793ddce3d534","8c8a07aeafcda1041b8f34bf9d65458a","0648e0c0c5aea01ad6e22f1aaa3f76a3","ff36379606b88d0f36ce5405c8211b6f"),I$("a9d59ddd7a28fc36a07bd1f4572350bc",(function(e,t,n,i,r,o,a,s,c,u,l,d){var f,p={},h="NEJ-UPLOAD-RESULT:";return c._$$ProxyUpload=t._$klass(),(f=c._$$ProxyUpload._$extend(e._$$ProxyAbstract)).__init=function(){var e=!1,t=function(e){var t=e.data;if(0==t.indexOf(h)){t=JSON.parse(t.replace(h,""));var n=p[t.key];n&&(delete p[t.key],n.__onLoadRequest(decodeURIComponent(t.result)))}};return function(){this.__super(),e||(e=!0,i._$addEvent(window,"message",t))}}(),f.__destroy=function(){this.__super(),r._$remove(this.__frame),delete this.__frame,window.clearTimeout(this.__timer),delete this.__timer},f.__onLoadRequest=function(e){try{var t=r._$text2type(e,this.__request.type);this._$dispatchEvent("onload",t)}catch(t){this._$dispatchEvent("onerror",{code:o._$CODE_ERREVAL,message:e})}},f.__doSendRequest=function(){var e=function(){try{var e,t=this.__frame.contentWindow.document.body;if((e=(t.innerText||t.textContent||"").trim()).indexOf(h)>=0||t.innerHTML.indexOf(h)>=0)return}catch(e){return}this.__onLoadRequest(e)},t=function e(t,n,i){a._$request(t,{type:"json",method:"POST",cookie:i,mode:parseInt(n)||0,onload:function(r){this.__timer&&(this._$dispatchEvent("onuploading",r),this.__timer=window.setTimeout(e._$bind(this,t,n,i),1e3))}._$bind(this),onerror:function(r){this.__timer&&(this.__timer=window.setTimeout(e._$bind(this,t,n,i),1e3))}._$bind(this)})};return function(a){var s=a.request,c=(a.headers,s.data),l=n._$uniqueID();p[l]=this,c.target=l,c.method="POST",c.enctype=o._$HEAD_CT_FILE,c.encoding=o._$HEAD_CT_FILE;var d=c.action||"",f=d.indexOf("?")<=0?"?":"&";c.action=d+f+"_proxy_=form",this.__frame=r._$createXFrame({name:l,onload:function(n){var r=i._$getElement(n);i._$addEvent(r,"load",e._$bind(this)),c.submit();var o=(c.nej_query||u).value;if(o){var a=(c.nej_mode||u).value,s="true"===(c.nej_cookie||u).value;this.__timer=window.setTimeout(t._$bind(this,o,a,s),100)}}._$bind(this)})}}(),f._$abort=function(){this.__onAbort()},c}),"f389c2016f0a73ee7124131cc11c3e6d","21695c9c68ca9b7b4b0b20b75db7c635","84c66edbaac3f0e7d6c8b753c5fa2fbd","c0c334bf3ca5fbd97535793ddce3d534","0648e0c0c5aea01ad6e22f1aaa3f76a3","de85da6b52f225de2e019291c3d4669b","f1cb28abde9911cf82d810c70c54b84c","ff36379606b88d0f36ce5405c8211b6f"),I$("09a905d7b1a49bbccc47c51c6f43815e",(function(e,t,n,i,r,o,a,s){return r.__getProxyByMode=function(r,o,a){return((o?{2:i._$$ProxyUpload}:{2:n._$$ProxyFrame,3:t._$$ProxyFlash})[r]||e._$$ProxyXHR)._$allocate(a)},r}),"1e6d3195c89337911af2a26223efe4d0","37c5d9e387fe21db9ec3cdbfd2c63d57","f2ac368939bc24f1ebaf26cafaae5491","a9d59ddd7a28fc36a07bd1f4572350bc"),I$("c2873478dde5fb9fbbdd557f972bdfb7",(function(e,t,n,i,r,o){return"trident"===e._$KERNEL.engine&&e._$KERNEL.release<="5.0"&&I$("16e880e97981ffed5b08b3797825d5a8",(function(){t.__getProxyByMode=function(){var e={0:2,1:3};return t.__getProxyByMode._$aop((function(t){var n=t.args,i=n[0]||0;n[0]=n[1]?2:e[i]||i}))}()})),t}),"6d7d8efca2984621427afebf4740148f","09a905d7b1a49bbccc47c51c6f43815e"),I$("f1cb28abde9911cf82d810c70c54b84c",(function(e,t,n,i,r,o,a,s,c,u){var l={},d=c;return a._$abort=function(e){var t=l[e];t&&t.req._$abort()},a._$filter=function(e){d=e||c},a._$request=function(){var e=(location.protocol+"//"+location.host).toLowerCase(),i=function(t){var i=n._$url2origin(t);return!!i&&i!=e},a=function(e){return(e||s)[t._$HEAD_CT]==t._$HEAD_CT_FILE},u=function(e){var t=a(e.headers);return i(e.url)||t?o.__getProxyByMode(e.mode,t,e):r._$$ProxyXHR._$allocate(e)},f=function(e,t){var n={data:t},i=e.result.headers;return i&&(n.headers=e.req._$header(i)),n},p=function(e){var t=l[e];t&&(t.req&&t.req._$recycle(),delete l[e])},h=function(e,t){var n=l[e];if(n){var i=arguments[2];"onload"==t&&n.result&&(i=f(n,i)),p(e);var r={type:t,result:i};d(r),r.stopped||(n[t]||c)(r.result)}},_=function(e,t){h(e,"onload",t)},m=function(e,t){h(e,"onerror",t)},v=function(e,t){var i=e.indexOf("?")<0?"?":"&";t=t||"";return n._$isObject(t)&&(t=n._$object2query(t)),t&&(e+=i+t),e};return function(e,t){t=t||{};var i=n._$uniqueID(),r={result:t.result,onload:t.onload||c,onerror:t.onerror||c};l[i]=r,t.onload=_._$bind(null,i),t.onerror=m._$bind(null,i),t.query&&(e=v(e,t.query));var o=t.method||"";return o&&!/get/i.test(o)||!t.data||(e=v(e,t.data),t.data=null),t.url=e,r.req=u(t),r.req._$send(t.data),i}}(),a._$upload=function(e,r){if(!(e=i._$get(e)))return"";var o=n._$fetch({mode:0,type:"json",query:null,cookie:!1,headers:{},onload:null,onerror:null,onuploading:null,onbeforerequest:null},r);return o.data=e,o.method="POST",o.timeout=0,o.headers[t._$HEAD_CT]=t._$HEAD_CT_FILE,a._$request(e.action,o)},e.copy(e.P("nej.j"),a),a}),"4ba3beecac53c63f6abbc5d32a9eb5c9","de85da6b52f225de2e019291c3d4669b","84c66edbaac3f0e7d6c8b753c5fa2fbd","0648e0c0c5aea01ad6e22f1aaa3f76a3","1e6d3195c89337911af2a26223efe4d0","c2873478dde5fb9fbbdd557f972bdfb7"),I$("51aa14ed252d629312f9a9fed066a0e8",(function(e,t,n,i,r,o,a,s){var c;return r._$$LoaderText=t._$klass(),(c=r._$$LoaderText._$extend(e._$$LoaderAbstract)).__getRequest=function(){return this.__doRequest(),null},c.__doClear=function(){this.__super(),this.__getLoadData("loaded")[this.__url]=!1},c.__doRequest=function(){i._$request(this.__url,{method:"GET",type:"text",onload:this.__onLoaded._$bind(this),onerror:this.__onError._$bind(this)})},c.__onLoaded=function(e){this.__doCallback("onload",{url:this.__url,content:e})},r}),"d8dceddbf0107e7dbd0a1230790018be","21695c9c68ca9b7b4b0b20b75db7c635","0648e0c0c5aea01ad6e22f1aaa3f76a3","f1cb28abde9911cf82d810c70c54b84c"),I$("c8685e7d6422c3c0321539d135f3be8d",(function(e,t,n,i,r){return t.__removeIFrameKeepHistory=function(t){e._$remove(t)},t}),"0648e0c0c5aea01ad6e22f1aaa3f76a3"),I$("6c2d6012a4e158ecb52aaf670ae074aa",(function(e,t,n,i,r,o,a){return"trident"===n._$KERNEL.engine&&n._$KERNEL.release<="2.0"&&I$("bf14d53eba6175bec26cc52583c2f00e",(function(){e.__removeIFrameKeepHistory=function(e){t._$setStyle(e,"display","none");try{e.contentWindow.document.body.innerHTML="&nbsp;"}catch(e){}}})),e}),"c8685e7d6422c3c0321539d135f3be8d","0648e0c0c5aea01ad6e22f1aaa3f76a3","6d7d8efca2984621427afebf4740148f"),I$("9dbb222a172fd3dc481691d436175217",(function(e,t,n,i,r,o,a,s){var c;return r._$$LoaderHtml=t._$klass(),(c=r._$$LoaderHtml._$extend(e._$$LoaderAbstract)).__getRequest=function(){var e=n._$create("iframe");return e.width=0,e.height=0,e.style.display="none",e},c.__doRequest=function(e){try{document.body.appendChild(e),e.src=this.__url}catch(t){console.log(e),console.error(t)}},c.__onError=function(e){var t=(this.__getLoadData(this.__url)||o).request;this.__doCallback("onerror",e),i.__removeIFrameKeepHistory(t)},c.__onLoaded=function(){var e=null,t=(this.__getLoadData(this.__url)||o).request;try{if(t.src!=this.__url)return;e=t.contentWindow.document.body}catch(e){}this.__doCallback("onload",e),i.__removeIFrameKeepHistory(t)},r}),"d8dceddbf0107e7dbd0a1230790018be","21695c9c68ca9b7b4b0b20b75db7c635","0648e0c0c5aea01ad6e22f1aaa3f76a3","6c2d6012a4e158ecb52aaf670ae074aa"),I$("38a7ee17f691d6c2017dfbe4c769a90d",(function(e,t,n,i,r,o,a){var s;return i._$$LoaderStyle=t._$klass(),(s=i._$$LoaderStyle._$extend(e._$$LoaderAbstract)).__getRequest=function(){return n._$create("link")},s.__doRequest=function(e){e.href=this.__url,document.head.appendChild(e)},i}),"d8dceddbf0107e7dbd0a1230790018be","21695c9c68ca9b7b4b0b20b75db7c635","0648e0c0c5aea01ad6e22f1aaa3f76a3"),I$("79b5e95de911ea9d3a79a607bdda7ebf",(function(e,t,n,i,r,o,a){var s;return i._$$LoaderScript=t._$klass(),(s=i._$$LoaderScript._$extend(e._$$LoaderAbstract)).__reset=function(e){this.__super(e),this.__async=e.async,this.__charset=e.charset,this.__qopt.async=!1,this.__qopt.charset=this.__charset},s.__getRequest=function(){var e=n._$create("script");return null!=this.__async&&(e.async=!!this.__async),null!=this.__charset&&(e.charset=this.__charset),e},s.__doClearRequest=function(e){n._$remove(e)},i}),"d8dceddbf0107e7dbd0a1230790018be","21695c9c68ca9b7b4b0b20b75db7c635","0648e0c0c5aea01ad6e22f1aaa3f76a3"),I$("9c49038bdd535c7f77e4e6959a89b977",(function(e,t,n,i,r,o,a,s,c,u,l){return s._$loadScript=function(e,t){a._$$LoaderScript._$allocate(t)._$load(e)},s._$queueScript=function(e,t){a._$$LoaderScript._$allocate(t)._$queue(e)},s._$loadStyle=function(e,t){o._$$LoaderStyle._$allocate(t)._$load(e)},s._$queueStyle=function(e,t){o._$$LoaderStyle._$allocate(t)._$queue(e)},s._$loadHtml=function(e,t){r._$$LoaderHtml._$allocate(t)._$load(e)},s._$loadTemplate=function(e,i){var r=n._$url2origin(e),o=n._$url2origin(location.href);if(r&&r!=o){var a=i.onload;i.onload=function(e){e&&a(t._$html2node(e.content))},s._$loadText(e,i)}else s._$loadHtml(e,i)},s._$loadText=function(e,t){i._$$LoaderText._$allocate(t)._$load(e)},e.copy(e.P("nej.j"),s),s}),"4ba3beecac53c63f6abbc5d32a9eb5c9","0648e0c0c5aea01ad6e22f1aaa3f76a3","84c66edbaac3f0e7d6c8b753c5fa2fbd","51aa14ed252d629312f9a9fed066a0e8","9dbb222a172fd3dc481691d436175217","38a7ee17f691d6c2017dfbe4c769a90d","79b5e95de911ea9d3a79a607bdda7ebf"),I$("407d6829255b510421df9c196c8c7bce",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p){var h={},_="ntp-"+ +new Date+"-";return l.tpl=function(){return h},l._$parseTemplate=function(){var e={text:"txt",plain:"txt",javascript:"js"},u={textarea:{getType:function(t){var n=t.name.toLowerCase();return e[n]||n},getContent:function(e){return e.value||e.innerText||""}},script:{getType:function(t){var n=(t.type||"").toLowerCase().replace(/^nej\//i,"");return e[n]||n},getContent:function(e){return e.innerText||e.innerHTML||""}}},f=0,p=function(){f>0||(f=0,n._$dispatchEvent(document,"templateready"),n._$clearEvent(document,"templateready"))},h=function(e,n){var r=i._$dataset(e,"src");if(r){var o=(n=n||d).root;return o=o?t._$absolute(o):e.ownerDocument.location.href,r=r.split(","),t._$forEach(r,(function(e,n,i){i[n]=t._$absolute(e,o)})),r}},_=function(e,t){if(e){var n=h(e,t);n&&s._$queueStyle(n,{version:i._$dataset(e,"version")});var r=e.tagName.toLowerCase();i._$addStyle(u[r].getContent(e))}},m=function(e){f--,i._$addScript(e),p()},v=function(e,t){if(e){var n=h(e,t),r=e.tagName.toLowerCase(),o=u[r].getContent(e);if(n){f++;t={version:i._$dataset(e,"version"),onload:m._$bind(null,o)};window.setTimeout(s._$queueScript._$bind(s,n,t),0)}else i._$addScript(o)}},b=function(e){f--,l._$parseTemplate(e),p()},g=function(e,t){if(e){var n=h(e,t)[0];if(n){f++;t={version:i._$dataset(e,"version"),onload:b};window.setTimeout(s._$loadTemplate._$bind(s,n,t),0)}}},y=function(e,t){f--,l._$addTextTemplate(e,t||""),p()},E=function(e,t){if(e&&e.id){var n=e.id,r=h(e,t)[0];if(r){f++;var o=r+(r.indexOf("?")<0?"?":"&")+(i._$dataset(e,"version")||"");t={type:"text",method:"GET",onload:y._$bind(null,n)};window.setTimeout(c._$request._$bind(c,o,t),0)}}},A=function(e){return r._$is("mac")&&"safari"===r._$KERNEL.browser?t._$unescape(e.innerHTML):u[e.tagName.toLowerCase()].getContent(e)},w=function(e,t){switch(u[e.tagName.toLowerCase()].getType(e)){case"jst":return void o._$addTemplate(A(e),e.id);case"txt":return void l._$addTextTemplate(e.id,A(e));case"ntp":return void l._$addNodeTemplate(A(e),e.id);case"js":return void v(e,t);case"css":return void _(e,t);case"html":return void g(e,t);case"res":return void E(e,t)}};return a._$$CustomEvent._$allocate({element:document,event:"templateready",oneventadd:p}),function(e,n){if(e=i._$get(e)){var r,o=e.tagName;"TEXTAREA"===o||"SCRIPT"===o?r=[e]:(r=t._$object2array(e.getElementsByTagName("textarea"))).push.apply(r,function(e){var n=[],i=e.getElementsByTagName("script");return i&&i.length||"BODY"!==e.tagName||(i=e.ownerDocument.getElementsByTagName("script")),t._$forEach(i,(function(e){0===e.type.search(/^nej\//i)&&n.push(e)})),n}(e)),t._$forEach(r,(function(e){w(e,n)})),i._$remove(e,!0)}p()}}(),l._$addTextTemplate=function(e,t){null!=h[e]&&_typeof(h[e])==_typeof(t)&&(console.warn("text template overwrited with key "+e),console.debug("old template content: "+h[e].replace(/\n/g," ")),console.debug("new template content: "+t.replace(/\n/g," "))),h[e]=t||""},l._$getTextTemplate=function(e){return h[e]||""},l._$addNodeTemplate=function(e,n){return n=n||t._$uniqueID(),e=i._$get(e)||e,l._$addTextTemplate(_+n,e),t._$isString(e)||i._$removeByEC(e),n},l._$getNodeTemplate=function(e){if(!e)return null;e=_+e;var n,r=l._$getTextTemplate(e);if(!r)return null;if(t._$isString(r)){var o=(r=i._$html2node(r)).getElementsByTagName("textarea");"TEXTAREA"==r.tagName||o&&o.length?n=r:l._$addTextTemplate(e,r)}return n||(n=r.cloneNode(!0)),i._$removeByEC(n),n},l._$getItemTemplate=function(){var e=function(e,t){return"offset"==t||"limit"==t};return function(n,i,r){var o=[];if(!n||!n.length||!i)return o;r=r||d;var a=n.length,s=parseInt(r.offset)||0,c=Math.min(a,s+(parseInt(r.limit)||a)),u={total:n.length,range:[s,c]};t._$merge(u,r,e);for(var l,f=s;f<c;f++){u.index=f,u.data=n[f];var p=(l=i._$allocate(u))._$getId();h[p]=l,l._$recycle=l._$recycle._$aop(function(e,t){delete h[e],delete t._$recycle}._$bind(null,p,l)),o.push(l)}return o}}(),l._$getItemById=function(e){return h[e]},l._$parseUITemplate=function(){var e=/#<(.+?)>/g;return function(n,r){return r=r||{},n=(n||"").replace(e,(function(e,n){var i=r[n];return i||(i="tpl-"+t._$uniqueID(),r[n]=i),i})),l._$parseTemplate(i._$html2node(n)),r}}(),u._$merge({_$parseTemplate:l._$parseTemplate,_$addNodeTemplate:l._$addNodeTemplate}),e.copy(e.P("nej.e"),l),l}),"4ba3beecac53c63f6abbc5d32a9eb5c9","84c66edbaac3f0e7d6c8b753c5fa2fbd","c0c334bf3ca5fbd97535793ddce3d534","0648e0c0c5aea01ad6e22f1aaa3f76a3","6d7d8efca2984621427afebf4740148f","25648a9a8e2b7651288ec89ab792bc60","667fc0ed54c3ae4f3d441483ccadb1a4","9c49038bdd535c7f77e4e6959a89b977","f1cb28abde9911cf82d810c70c54b84c","857e5b14c4f80b48914afa112ddb7797"),I$("026682a8eff33e7dbc8c7e0a72550789",{KEY_VIDEO_PAGE_EXPIRED:"页面已过期，请",KEY_VIDEO_RELOAD:"刷新页面",KEY_VIDEO_TRY:"，您可以尝试",KEY_VIDEO_SWITCH:"切换线路或者",KEY_VIDEO_UNKNOW:"未知",KEY_VIDEO_DEAFULT:"默认",KEY_VIDEO_CHINESE:"中文",KEY_VIDEO_SHOW_STAT:"显示统计信息",KEY_VIDEO_SUBTITLE:"字幕",KEY_VIDEO_LINE:"线路",KEY_VIDEO_SD:"标清",KEY_VIDEO_NEXT_PLAY:"即将自动播放下一个",KEY_VIDEO_U_HD:"超高清",KEY_VIDEO_DOUBLE_SPEED:"倍速",KEY_VIDEO_MORE:"更多",KEY_VIDEO_CHARGE:"正在使用移动网络，播放可能会产生流量费用，是否继续？",KEY_VIDEO_REPLY:"重播",KEY_VIDEO_DOUBLE_SPEED2:"倍　速",KEY_VIDEO_LINE2:"线　路",KEY_VIDEO_32:"移动一",KEY_VIDEO_33:"联通一",KEY_VIDEO_34:"联通二",KEY_VIDEO_35:"电信一",KEY_VIDEO_36:"电信二",KEY_VIDEO_SHARP:"清晰度",KEY_VIDEO_HD:"高清",KEY_VIDEO_MISSING:"缺少视频地址",KEY_VIDEO_NOT_SUPPORT:"不支持该视频播放",KEY_VIDEO_BROWSER_NOT_SUPPORT:"您的浏览器不支持视频播放",KEY_VIDEO_SORRY:"抱歉视频无法播放",KEY_VIDEO_X:"，",KEY_VIDEO_YEAR:"年",KEY_VIDEO_MONTH:"月",KEY_VIDEO_DAY:"日",KEY_VIDEO_LIVE_FAILED:"直播获取失败",KEY_VIDEO_ORIGINAL:"原画",KEY_VIDEO_NOT_INSTALLED:"未安装",KEY_VIDEO_CLICK:"，点击",KEY_VIDEO_VIDEO_FAILD:"视频获取失败"}),I$("0b28c61235636bfefce927c8abcaa8b7",{KEY_VIDEO_PAGE_EXPIRED:"Page has expired, please ",KEY_VIDEO_RELOAD:"reload the page",KEY_VIDEO_TRY:", you can try ",KEY_VIDEO_SWITCH:"switch other line or ",KEY_VIDEO_UNKNOW:"unknow",KEY_VIDEO_DEAFULT:"default",KEY_VIDEO_CHINESE:"chinese",KEY_VIDEO_SHOW_STAT:"Show statistics",KEY_VIDEO_SUBTITLE:"subtitle",KEY_VIDEO_LINE:"Line",KEY_VIDEO_SD:"SD",KEY_VIDEO_NEXT_PLAY:"The next one will be played automatically",KEY_VIDEO_U_HD:"UHD",KEY_VIDEO_DOUBLE_SPEED:"x",KEY_VIDEO_MORE:"more",KEY_VIDEO_CHARGE:"You are using a mobile network. Broadcasting may incur data charges. Do you want to continue?",KEY_VIDEO_REPLY:"Replay",KEY_VIDEO_DOUBLE_SPEED2:"Speed",KEY_VIDEO_LINE2:"Line",KEY_VIDEO_32:"移动一",KEY_VIDEO_33:"联通一",KEY_VIDEO_34:"联通二",KEY_VIDEO_35:"电信一",KEY_VIDEO_36:"电信二",KEY_VIDEO_SHARP:"Quality",KEY_VIDEO_HD:"HD",KEY_VIDEO_MISSING:"Missing video address",KEY_VIDEO_NOT_SUPPORT:"Does not support the video playback",KEY_VIDEO_BROWSER_NOT_SUPPORT:"Your browser does not support video playback",KEY_VIDEO_SORRY:"Sorry, the video cannot be played",KEY_VIDEO_X:"，",KEY_VIDEO_YEAR:"/",KEY_VIDEO_MONTH:"/",KEY_VIDEO_DAY:"",KEY_VIDEO_LIVE_FAILED:"Live streaming acquisition failed",KEY_VIDEO_ORIGINAL:"Original painting",KEY_VIDEO_NOT_INSTALLED:"Not Installed",KEY_VIDEO_CLICK:", click",KEY_VIDEO_VIDEO_FAILD:"Video acquisition failed"}),I$("b4082aa2f7c42f066d0566ed301a5924",(function(e,t,n){var i=e;return"en"===window.currentLanguage&&(i=t),n.set(i),i}),"026682a8eff33e7dbc8c7e0a72550789","0b28c61235636bfefce927c8abcaa8b7","74f071927a65c13cc98c23678a88c919"),I$("511b1e441b88674648f89c3b3b44a82d",(function(e,t,n,i,r,o,a,s,c,u,l,d,f){var p=e.C(),h=p.pro;return p.NAME="component",p.componentContainer=null,h._init=function(e,t){return this._name=this.constructor.NAME,this._container=this.constructor.componentContainer,this._config=e,this._player=t,this._rootNode=e.rootNode,this._initComponetNode(e),this},h._getTpl=function(){return""},h._initComponetNode=function(e){e.rootNode&&this._getTpl()&&e.rootNode.appendChild(a._$getNodeTemplate(a._$addNodeTemplate(s._$get(s._$add(this._getTpl()),{lang:c}))))},h.getName=function(){return this._name},h.listNotificationInterests=function(){return[]},h.handleNotification=function(e){},h.sendNotification=function(e,t){var n=new r(e,t);this._container.notifyObservers(n)},h.onRegister=function(){},h.onRemove=function(){},h.log=function(e,t){this.sendNotification(o.LOG,{content:e,type:t})},p}),"c0997d8c9f1e7b615be7f959fd3049c3","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","bc2dfd1af9aa106c101c02f9beffe78b","3fc446ecd379af19391f9ef27f1b4d95","4d14fe09a1f8c33087e0788a0b080a10","407d6829255b510421df9c196c8c7bce","25648a9a8e2b7651288ec89ab792bc60","b4082aa2f7c42f066d0566ed301a5924"),I$("b453315deaa0a88940bd1d36dc2e4b04",(function(){var e={};return e._$versionCompare=function(e,t,n){function i(e){return(r?/^\d+[A-Za-z]*$/:/^\d+$/).test(e)}var r=n&&n.lexicographical,o=n&&n.zeroExtend,a=e.split("."),s=t.split(".");if(!a.every(i)||!s.every(i))return NaN;if(o){for(;a.length<s.length;)a.push("0");for(;s.length<a.length;)s.push("0")}r||(a=a.map(Number),s=s.map(Number));for(var c=0;c<a.length;++c){if(s.length==c)return 1;if(a[c]!=s[c])return a[c]>s[c]?1:-1}return a.length!=s.length?-1:0},e}),"bb8dded43dcd62a8a3ad620018ec311f"),I$("e3ebe1675b4973d219d559fb17032ae2",(function(){function e(n,r){var o=n;if(r instanceof i)return r.then(e,t);setTimeout((function(){if("pending"===o.status){o.status="resolved",o.data=r;for(var e=0;e<o.onResolvedCallback.length;e++)o.onResolvedCallback[e](r)}}))}function t(e,t){var n=e;setTimeout((function(){if("pending"===n.status){n.status="rejected",n.data=t;for(var e=0;e<n.onRejectedCallback.length;e++)n.onRejectedCallback[e](t)}}))}function n(e,t,r,o){var a,s=!1;if(e===t)return o(new TypeError("Chaining cycle detected for promise!"));if(t instanceof i)"pending"===t.status?t.then((function(t){n(e,t,r,o)}),o):t.then(r,o);else if(null===t||"object"!=_typeof(t)&&"function"!=typeof t)r(t);else try{"function"==typeof(a=t.then)?a.call(t,(function(t){if(!s)return s=!0,n(e,t,r,o)}),(function(e){if(!s)return s=!0,o(e)})):r(t)}catch(e){if(s)return;return s=!0,o(e)}}if("function"==typeof window.Promise)return window.Promise;var i=function(n){var i=this;i.status="pending",i.onResolvedCallback=[],i.onRejectedCallback=[],n=n||function(){};try{n((function(t){e(i,t)}),(function(e){t(i,e)}))}catch(e){t(e)}};return i.prototype.then=function(e,t){var r,o=this;return e="function"==typeof e?e:function(e){return e},t="function"==typeof t?t:function(e){throw e},"resolved"===o.status?r=new i((function(t,i){setTimeout((function(){try{var a=e(o.data);n(r,a,t,i)}catch(e){i(e)}}))})):"rejected"===o.status?r=new i((function(e,i){setTimeout((function(){try{var a=t(o.data);n(r,a,e,i)}catch(e){i(e)}}))})):"pending"===o.status?r=new i((function(i,a){o.onResolvedCallback.push((function(t){try{var o=e(t);n(r,o,i,a)}catch(e){a(e)}})),o.onRejectedCallback.push((function(e){try{var o=t(e);n(r,o,i,a)}catch(e){a(e)}}))})):void 0},i.prototype.catch=function(e){return this.then(null,e)},i.deferred=i.defer=function(){var e={};return e.promise=new i((function(t,n){e.resolve=t,e.reject=n})),e},i.all=function(n){function r(n,i,r){return function(n){"reject"!==r?(u[i]=n,++l===o&&e(a,u)):t(a,n)}}for(var o=n.length,a=new i,s=0;s<o;s++){var c=n[s];!c instanceof i&&(c=i.resolve(c)),c.then(r(0,s,"resolve"),r(0,s,"reject"))}var u=[],l=0;return a},i.race=function(n){function r(t){c||(c=!0,e(s,t))}function o(e){c||(c=!0,t(s,e))}for(var a=n.length,s=new i,c=!1,u=0;u<a;u++){var l=n[u];!l instanceof i&&(l=i.resolve(l)),l.then(r,o)}return s},i.resolve=function(e){return new i((function(t,n){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i}),"bb8dded43dcd62a8a3ad620018ec311f"),I$("dbf963496e3cef891778fa497cfdafd4",(function(e,t,n,i,r){var o={},a=function(){return this}(),s=new RegExp("NetEaseEdu.*study; (.*); channel=(.*)","i"),c=new RegExp("NetEaseEdu.*study-enterprise; (.*); channel=(.*)","i"),u=new RegExp("NetEaseEdu.*study:(.*);channel=(.*)","i"),l=new RegExp("NetEaseEdu.*study-enterprise;(.*);channel=(.*)","i"),d=new RegExp("NetEaseEdu.*EDUMOOC; (.*); channel=(.*)","i"),f=new RegExp(".*EDUMOOC/(.*)","i"),p=new RegExp("qq","i"),h=new RegExp("NetEaseEdu.*aphone; k12; (.*); channel=(.*)","i"),_=new RegExp("NetEaseEdu.*iphone; k12; (.*); channel=(.*)","i"),m=new RegExp("NetEaseEdu.*aphone; geek; (.*); channel=(.*)","i"),v=new RegExp("NetEaseEdu.*iphone; geek; (.*); channel=(.*)","i"),b=a.navigator.userAgent,g=a.isMobilePhone;return o._$getUserAgent=function(){return b},o._$isAndroidWebView=function(){return o._$getUserAgent().match(s)},o._$isIosWebView=function(){return o._$getUserAgent().match(u)},o._$isAndroidEnterpriseWebView=function(){return o._$getUserAgent().match(c)},o._$isIosEnterpriseWebView=function(){return o._$getUserAgent().match(l)},o._$isAndroidMoocWebView=function(){return o._$getUserAgent().match(d)},o._$isIosMoocWebView=function(){return o._$getUserAgent().match(f)},o._$isAndroidK12webView=function(){return o._$getUserAgent().match(h)},o._$isIosK12webView=function(){return o._$getUserAgent().match(_)},o._$isK12webView=function(){return o._$isAndroidK12webView()||o._$isIosK12webView()},o._$isAndroidGeekWebView=function(){return o._$getUserAgent().match(m)},o._$isIosGeekWebView=function(){return o._$getUserAgent().match(v)},o._$isGeekWebView=function(){return o._$isAndroidGeekWebView()||o._$isIosGeekWebView()},o._$isStudywebView=function(){return o._$isAndroidWebView()||o._$isIosWebView()},o._$isMoocwebView=function(){return o._$isAndroidMoocWebView()||o._$isIosMoocWebView()},o._$isEnterprisewebView=function(){return o._$isAndroidEnterpriseWebView()||o._$isIosEnterpriseWebView()},o._$isWebView=function(){return!!(o._$isGeekWebView()||o._$isK12webView()||o._$isStudywebView()||o._$isMoocwebView()||o._$isEnterprisewebView())},o._$isWebViewSupportJB=function(){var e=o._$isAndroidWebView(),t=o._$isIosWebView(),i=o._$isAndroidMoocWebView(),r=o._$isIosMoocWebView();return!!(e||t||i||r)&&(null!=e?n._$versionCompare(e[1],"2.0.0")>=0:null!=t?n._$versionCompare(t[1],"3.0.0")>=0:null!=i?n._$versionCompare(i[1],"1.2.2")>=0:null!=r?n._$versionCompare(r[1],"1.1.3")>=0:void 0)},o._$isMobile=function(){return!!o._$isWap()||o._$isMobileAll()},o._$is=function(e){var t=new RegExp("("+e+")","ig"),n=o._$getUserAgent();return t.test(n)},o._$isMobileAll=function(){var e=o._$getUserAgent();return new RegExp("(iPhone|iPod|Android|BlackBerry|mobile|Windows Phone)","ig").test(e)},o._$isIpad=function(){return o._$is("iPad")},o._$isIphone=function(){return o._$getUserAgent().indexOf("iPhone")>-1},o._$isIphoneX=function(){return!!this._$isIphone&&(812==screen.availHeight&&375==screen.availWidth)},o._$isAndroid=function(){var e=o._$getUserAgent();return e.indexOf("Android")>-1||e.indexOf("Adr")>-1},o._$isWap=function(){return"true"==g},o._$isWeixin=function(){return o._$is("micromessenger")&&!o._$is("windowswechat")},o._$getIosVersion=function(){var e=o._$getUserAgent().toLowerCase(),t=0,n=e.match(/os [\d._]*/gi);return e.indexOf("like mac os x")>0&&(t=(n+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")),parseInt(t,10)},o._$getAndroidAppVersion=function(){return o._$getUserAgent().toLowerCase().match(s)[1]},o._$getIosAppVersion=function(){return o._$getUserAgent().toLowerCase().match(u)[1]},o._$isSupportByVersion=function(e,t){return e=e||"2.0.0",t=t||"3.0.0",o._$isAndroidWebView()?n._$versionCompare(o._$getAndroidAppVersion(),e)>=0:!!o._$isIosWebView()&&n._$versionCompare(o._$getIosAppVersion(),t)>=0},o._$openMobilePage=function(e,t){var n="";if(o.isWebView()){n=o._$is("android")?e.lessonId?"yktaphone://open.lesson.ykt/"+e.courseId+"_"+e.lessonId:"yktaphone://open.course.ykt/"+e.courseId:e.lessonId?"yktiphone://type=4-&-content="+e.courseId+"_"+e.lessonId:"yktiphone://type=0-&-content="+e.courseId;var i=document.createElement("iframe");i.setAttribute("style","display:none;width:0;height:0;position: absolute;top:0;left:0;border:0;height:0;width:0;"),i.src=n,document.body.appendChild(i)}},o._$callAppLogin=function(e){e=i._$str2b64(e||location.href),o._$isWebViewSupportJB()&&a.YixinJSBridge&&a.YixinJSBridge.call("openLoginView",{returnUrl:e},(function(e){}))},o._$isSupportAppImageView=function(){return!(!o._$isSupportByVersion("6.4.0","6.4.0")||!a.YixinJSBridge)},o._$callAppImageView=function(e,t,n){var i=/^(http:|https:)/,r=0;e=e||"",t=t||[],i.test(e)||(e="https:"+e);for(var s=0,c=t.length;s<c;s++)i.test(t[s])||(t[s]="https:"+t[s]),t[s]==e&&(r=s);o._$isSupportAppImageView()&&a.YixinJSBridge.call("viewImages",{index:r,current:e,list:t},(function(e){n&&n(e)}))},o._$callAppDownload=function(e,t){var n="";if(t=t||{},n=o._$is("android")?t.termId&&t.courseId?"yktaphone://open.course.yoc/"+t.courseId+"_"+t.termId:t.courseId?"yktaphone://open.course.ykt/"+t.courseId:"yktaphone://launch.app":t.termId&&t.courseId?"yktiphone://type=6-&-content="+t.courseId+"_"+t.termId:t.courseId?"yktiphone://type=0-&-content="+t.courseId:"yktiphone://",o._$isWeixin())window.location.href=a.callAppDownloadHref+"?source=fromWeixin&courseId="+(t.courseId||"")+"&termId="+(t.termId||"");else if(o._$is("iphone")){if(o._$getIosVersion()>8?this._$openAppByForm(n):this._$openAppByIframe(n),"fromCallApp"==e)return void setTimeout((function(){window.location.href=a.callAppDownloadHref+"?source=fromCallApp&courseId="+(t.courseId||"")+"&termId="+(t.termId||"")}),2e3)}else o._$is("android")&&this._$openAppByIframe(n);setTimeout((function(){window.location.href=a.appDownloadHref+"?from=mobileTopbar"}),2e3)},o._$callPayApp=function(e,t){return!(!o._$isWebViewSupportJB()||!a.YixinJSBridge)&&(a.YixinJSBridge.call("toPay",{productType:e.productType||0,productId:e.productId||0,ids:e.ids||[]},(function(e){t&&t(e)})),!0)},o._$switchAccountInApp=function(e,t){o._$isWebViewSupportJB()&&a.YixinJSBridge&&a.YixinJSBridge.call("switchAccount",{returnUrl:e.returnUrl||"https://study.163.com"},(function(e){t&&t(e)}))},o._$callShareApp=function(e,t){return!(!o._$isWebViewSupportJB()||!a.YixinJSBridge)&&(e.type=e.type||1,a.YixinJSBridge.call("share",e,(function(e){window.alert("分享成功"),t&&t(e)})),!0)},o._$setThirdShare=function(e){var t=a.wx,n="http://img2.ph.126.net/rqkJ8avE5_3Dn1l4TtnYDw==/6630541099630412039.png",i=document.title,r=document.location.href;o._$isWeixin()&&t?(t.onMenuShareTimeline({title:e.title||i,link:e.url||r,imgUrl:e.pic||n,success:function(){},cancel:function(){}}),t.onMenuShareAppMessage({title:e.title||i,desc:e.description||"",link:e.url||r,imgUrl:e.pic||n,type:"",dataUrl:"",success:function(){},cancel:function(){}})):(a.appShareData={title:e.title||i,description:e.description||"",pic:e.pic||n,weiboDesc:e.description||"",weiboPic:e.pic||n,url:e.url||r,type:1},a.shareData={imgUrl:e.pic||n,timeLineLink:e.url||r,sendFriendLink:e.url||r,weiboLink:e.url||r,tTitle:e.title||i,tContent:e.description||"",fTitle:e.title||i,fContent:e.description||"",wContent:e.description||""})},o._$setThirdShare2=function(e){var t=a.wx,n="http://img2.ph.126.net/rqkJ8avE5_3Dn1l4TtnYDw==/6630541099630412039.png",i=document.title,r=document.location.href;o._$isWeixin()&&t?(t.onMenuShareTimeline({title:e.title||i,link:e.link||r,imgUrl:e.imgUrl||n,success:(e.timeline||{}).success||function(){},cancel:(e.timeline||{}).cancel||function(){}}),t.onMenuShareAppMessage({title:e.title||i,desc:e.desc||"",link:e.link||r,imgUrl:e.imgUrl||n,type:"",dataUrl:"",success:(e.weChat||{}).success||function(){},cancel:(e.weChat||{}).cancel||function(){}})):(a.appShareData={title:e.title||i,description:e.desc||"",pic:e.imgUrl||n,weiboDesc:e.weiboDesc||"",weiboPic:e.weiboImgUrl||n,url:e.link||r,type:1},a.shareData={imgUrl:e.imgUrl||n,timeLineLink:e.link||r,sendFriendLink:e.link||r,weiboLink:e.link||r,tTitle:e.title||i,tContent:e.desc||"",fTitle:e.title||i,fContent:e.desc||"",wContent:e.desc||""})},o._$isInQQ=function(){return o._$getUserAgent().match(p)},o._$inInQQView=function(){var e=o._$getUserAgent(),t=new RegExp("MQQBrowserQQ"),n=new RegExp("MQQBrowser QQ"),i=/(iPhone|iPad|iPod|iOS)/i.test(e)&&n.test(e),r=o._$isAndroid()&&t.test(e);return i&&r},o._$isWechatMiniProgram=function(e,t){this._$isWeixin()&&wx&&wx.miniProgram&&wx.miniProgram.getEnv?new r(function(e,t){wx.miniProgram.getEnv((function(n){n.miniprogram?e():t()}))}._$bind(this)).then((function(){e&&e()})).catch((function(e){t&&t()})):t&&t()},o._$isWechatMiniProgramV2=function(){return this._$isWeixin()&&wx&&wx.miniProgram&&wx.miniProgram.getEnv?new r((function(e){wx.miniProgram.getEnv((function(t){t.miniprogram?e(!0):e(!1)}))})):r.resolve(!1)},o._$isWechatMiniProgramSync=function(){return"miniprogram"===window.__wxjs_environment},o._$RMBFilter=function(e){return o._$isIosWebView()?e.replace(/\u00A5|￥|&yen;/gi,""):e},o._$getClientType=function(){var e="weixin",t="wap",n="web",i="ios",r="android",a="wx_mini_program";return o._$isAndroidWebView()?r:o._$isIosWebView()?i:o._$isWechatMiniProgramSync()?a:o._$isWeixin()?e:o._$isWap()?t:n},o}),"6d7d8efca2984621427afebf4740148f","bb8dded43dcd62a8a3ad620018ec311f","b453315deaa0a88940bd1d36dc2e4b04","359df7a607d3d9edad6eae4ba16084ed","e3ebe1675b4973d219d559fb17032ae2"),I$("12f2410d79ec3fdd20eb6591308492de",(function(e,t,n,i,r){var o=!1,a=[];return t.log=function(t,n){switch(e._$isObject(t)&&(t=JSON.stringify(t)),n){case"error":t="[error]"+t,o&&console&&console.error("videoplayer:"+t);break;default:t="[info]"+t,o&&console&&console.log("videoplayer:"+t)}a.push(t)},t.error=function(e){t.log(e,"error")},t.getLog=function(){return a.join("\n")},t.init=function(e){e.isLocal&&(o=!0)},window.showVideoPlayerLog=t.getLog,t}),"84c66edbaac3f0e7d6c8b753c5fa2fbd"),I$("074675d453a82eb972112cb2d8596a7e",(function(e,t,n,i,r,o,a,s,c,u,l,d){var f=e.C();f.NAME="boxComponent";var p=f.extend(r);return p._init=function(e,t){return this.__super(e,t),this._x5Fullscreen=e.x5Fullscreen,this},p.listNotificationInterests=function(){return[o.VIEW_FULLSCREEN]},p.handleNotification=function(e){switch(this.__super(e),e.getName()){case o.VIEW_FULLSCREEN:this._handleViewFullscreen(e.getBody())}},p._handleViewFullscreen=function(e){this._config.notAllowFullScreen||(this._isFullScreenMode?this._existfullScreen():this._enterfullScreen())},p._getfullScreenState=function(){return void 0!==document.fullscreen?document.fullscreen:void 0!==document.webkitIsFullScreen?document.webkitIsFullScreen:void 0!==document.mozFullScreen?document.mozFullScreen:this._isFullScreenMode},p._enterfullScreen=function(){if(this._isFullScreenMode=!0,this._hasBindFullscreenchange||(document.onfullscreenchange=this._onfullScreenChange.bind(this),document.onwebkitfullscreenchange=this._onfullScreenChange.bind(this),document.onmozfullscreenchange=this._onfullScreenChange.bind(this),this._hasBindFullscreenchange=!0),e.isFunction(this._rootNode.requestFullScreen))this._rootNode.requestFullScreen();else if(e.isFunction(this._rootNode.webkitRequestFullScreen))if(s.log("webkitRequestFullScreen"),a._$isWeixin()&&a._$isAndroid()&&this._x5Fullscreen){s.log("_x5Fullscreen");var t=document.querySelector(".j-mainVideo video");i._$attr(t,"x5-video-orientation","landscape"),i._$addClassName(document.body,"z-x5-video-fullscreen-landscape"),setTimeout((function(){t.style.width=window.screen.width+"px",t.style.width=window.screen.height+"px"}))}else this._rootNode.webkitRequestFullScreen();else e.isFunction(this._rootNode.mozRequestFullScreen)?this._rootNode.mozRequestFullScreen():this._container.retrieveComponent("mainVideoComponent")._videoMediaIns.canFullscreenVideo()&&a._$isMobileAll()?(s.log("_enterVideoFullWindow"),this._enterVideoFullWindow()):this._enterfullWindow()},p._existfullScreen=function(){var t=!0;if(this._isFullScreenMode||(t=!1),this._isFullScreenMode=!1,e.isFunction(document.exitFullscreen)){var n=document.exitFullscreen();n&&n.catch&&n.catch((function(e){console.log(e)}))}else if(e.isFunction(document.webkitCancelFullScreen))if(a._$isWeixin()&&a._$isAndroid()&&this._x5Fullscreen){var i=document.querySelector(".j-mainVideo video");i.setAttribute("x5-video-orientation","portrait"),setTimeout(function(){i.style.width=window.screen.width+"px",i.style.width=window.screen.height+"px"}._$bind(this))}else document.webkitCancelFullScreen();else e.isFunction(document.mozCancelFullScreen)?document.mozCancelFullScreen():this._existfullWindow();return t},p._enterfullWindow=function(){n._$addEvent(document,"keydown",this._fullWindowOnEscKey.bind(this)),i._$addClassName(document.body,"u-edu-h5player-bodyfullWindow"),i._$addClassName(this._rootNode,"u-edu-h5player-fullWindow"),this.sendNotification(o.BOX_FULLSCREEN_CHANGE,this._isFullScreenMode)},p._existfullWindow=function(){n._$delEvent(document,"keydown",this._fullWindowOnEscKey.bind(this)),i._$delClassName(document.body,"u-edu-h5player-bodyfullWindow"),i._$delClassName(this._rootNode,"u-edu-h5player-fullWindow"),this.sendNotification(o.BOX_FULLSCREEN_CHANGE,this._isFullScreenMode)},p._enterVideoFullWindow=function(){this._isFullScreenMode=!1,this._container.retrieveComponent("mainVideoComponent")._videoMediaIns.fullscreenVideo(),this.sendNotification(o.BOX_FULLSCREEN_CHANGE,this._isFullScreenMode)},p._onfullScreenChange=function(e){this._isFullScreenMode=this._getfullScreenState(),this.sendNotification(o.BOX_FULLSCREEN_CHANGE,this._isFullScreenMode)},p._fullWindowOnEscKey=function(t){27===(t=e.getEvent(t)).keyCode&&1==this._isFullScreenMode&&this._existfullScreen()},f}),"c0997d8c9f1e7b615be7f959fd3049c3","84c66edbaac3f0e7d6c8b753c5fa2fbd","c0c334bf3ca5fbd97535793ddce3d534","0648e0c0c5aea01ad6e22f1aaa3f76a3","511b1e441b88674648f89c3b3b44a82d","4d14fe09a1f8c33087e0788a0b080a10","dbf963496e3cef891778fa497cfdafd4","12f2410d79ec3fdd20eb6591308492de"),I$("0fbc02cbf83291e1c03681700cf06139",(function(e,t,n,i,r,o){e._$isMobileAll();return n.MEDIA_STATE={IDLE:"IDLE",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSE:"PAUSED",COMPLETE:"COMPLETE"},n.VIDEO_QUALITY={SD:1,HD:2,SHD:3},n.VIDEO_QUALITY_NAME={1:t.KEY_VIDEO_SD,2:t.KEY_VIDEO_HD,3:t.KEY_VIDEO_U_HD},n.VIDEO_SOURSE_MIME_TYPE={mp4:"video/mp4",m3u8:"application/x-mpegURL;application/vnd.apple.mpegURL;video/MP2T"},n.ERROR_CODE={VIDEO_DATA_ERROR_NO_URL:3,VIDEO_DATA_ERROR_ENCRYPT:4,MEDIA_ERROR_VIDEOTAG_NOT_SUPPORT:5,MEDIA_ERROR_SOURCETYPE_NOT_SUPPORT:6,MEDIA_ERROR_SOURCE_ERROR:7,MEDIA_ERROR_VIDEO_ERROR:8,MEDIA_ERROR_M3U8_DECRYPT_ERROR:9,MEDIA_ERROR_HLS_ERROR:10,MEDIA_ERROR_FLV_ERROR:11},n.ERROR_TXT={3:t.KEY_VIDEO_MISSING,4:t.KEY_VIDEO_NOT_SUPPORT,5:t.KEY_VIDEO_BROWSER_NOT_SUPPORT,6:t.KEY_VIDEO_NOT_SUPPORT,7:t.KEY_VIDEO_SORRY,8:t.KEY_VIDEO_SORRY,9:t.KEY_VIDEO_NOT_SUPPORT,10:t.KEY_VIDEO_SORRY,11:t.KEY_VIDEO_SORRY},n.URLMAP={GET_CDN_DATA:"//study.163.com/cdn/getCdnPoint.htm"},n.VARCONST={SEEK_STEP:10,VOLUME_STEP:.2},n}),"dbf963496e3cef891778fa497cfdafd4","b4082aa2f7c42f066d0566ed301a5924"),I$("029230f12d85f681c73aa5dfa7b15d14",(function(e,t,n){var i={},r=function(){return this}();return i._$parseUrlParams=function(e){var n=e.split("?");return n[1]?t._$query2object(n[1]):{}},i._$isRightUMI=function(e,t){if(!e||!t)return!1;var n=r.decodeURIComponent(e),i=n.indexOf("?");return i=i>=0?i:n.length,(n=n.substring(n.indexOf("#")+1,i))==t},i._$getDecodeCurUrl=function(e,n){n=n||r.returnUrl||location.href;var o=(n=r.encodeURI(r.decodeURI(n))).indexOf("#"),a="";o>=0&&(a=n.substring(o),n=n.substring(0,o));var s=n.indexOf("?");return s>=0?i._$parseUrlParams(n.substring(s)).from||(n+="&from=study"):n+="?from=study",e&&t._$forIn(e,(function(e,t){n+="&"+t+(e?"="+e:"")}),this),n+=a},i._$getReturnUrl=function(e,t){return n._$str2b64(i._$getDecodeCurUrl(e,t))},i._$changeUrlProtocol=function(e,t){return e?e.replace(/^(http:|https:)/,t?t+":":""):""},i._$isEduUrl=function(e){var n=!1;return t._$forEach(["study.163.com","100.163.com","geek.163.com","icourse163.org"],(function(t,i){new RegExp("^((http:)*|(https:)*)(//)*(\\w+\\.)*"+t.replace(".","\\.")).test(e)&&(n=!0)})),n},i}),"bb8dded43dcd62a8a3ad620018ec311f","84c66edbaac3f0e7d6c8b753c5fa2fbd","359df7a607d3d9edad6eae4ba16084ed"),I$("dc52202ef9f3a0d8da41ba2cf25ecdd0",(function(){var e,t,n=n||function(e,t){var n={},i=n.lib={},r=function(){},o=i.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var r=0;r<e;r++)t[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<e;r+=4)t[i+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),s=n.enc={},c=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var r=t[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new a.init(n,t/2)}},u=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new a.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,s=r/(4*o);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,r=e.min(4*t,r),t){for(var c=0;c<t;c+=o)this._doProcessBlock(i,c);c=i.splice(0,t),n.sigBytes-=r}return new a.init(c,r)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}});var f=n.algo={};return n}(Math);return t=(e=n).lib.WordArray,e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp(),e=[];for(var r=0;r<n;r+=3)for(var o=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,a=0;4>a&&r+.75*a<n;a++)e.push(i.charAt(o>>>6*(3-a)&63));if(t=i.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,i=this._map;(r=i.charAt(64))&&-1!=(r=e.indexOf(r))&&(n=r);for(var r=[],o=0,a=0;a<n;a++)if(a%4){var s=i.indexOf(e.charAt(a-1))<<a%4*2,c=i.indexOf(e.charAt(a))>>>6-a%4*2;r[o>>>2]|=(s|c)<<24-o%4*8,o++}return t.create(r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){function t(e,t,n,i,r,o,a){return((e=e+(t&n|~t&i)+r+a)<<o|e>>>32-o)+t}function i(e,t,n,i,r,o,a){return((e=e+(t&i|n&~i)+r+a)<<o|e>>>32-o)+t}function r(e,t,n,i,r,o,a){return((e=e+(t^n^i)+r+a)<<o|e>>>32-o)+t}function o(e,t,n,i,r,o,a){return((e=e+(n^(t|~i))+r+a)<<o|e>>>32-o)+t}for(var a=n,s=(u=a.lib).WordArray,c=u.Hasher,u=a.algo,l=[],d=0;64>d;d++)l[d]=4294967296*e.abs(e.sin(d+1))|0;u=u.MD5=c.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,n){for(var a=0;16>a;a++){var s=e[c=n+a];e[c]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}a=this._hash.words;var c=e[n+0],u=(s=e[n+1],e[n+2]),d=e[n+3],f=e[n+4],p=e[n+5],h=e[n+6],_=e[n+7],m=e[n+8],v=e[n+9],b=e[n+10],g=e[n+11],y=e[n+12],E=e[n+13],A=e[n+14],w=e[n+15],C=t(C=a[0],S=a[1],x=a[2],$=a[3],c,7,l[0]),$=t($,C,S,x,s,12,l[1]),x=t(x,$,C,S,u,17,l[2]),S=t(S,x,$,C,d,22,l[3]);C=t(C,S,x,$,f,7,l[4]),$=t($,C,S,x,p,12,l[5]),x=t(x,$,C,S,h,17,l[6]),S=t(S,x,$,C,_,22,l[7]),C=t(C,S,x,$,m,7,l[8]),$=t($,C,S,x,v,12,l[9]),x=t(x,$,C,S,b,17,l[10]),S=t(S,x,$,C,g,22,l[11]),C=t(C,S,x,$,y,7,l[12]),$=t($,C,S,x,E,12,l[13]),x=t(x,$,C,S,A,17,l[14]),C=i(C,S=t(S,x,$,C,w,22,l[15]),x,$,s,5,l[16]),$=i($,C,S,x,h,9,l[17]),x=i(x,$,C,S,g,14,l[18]),S=i(S,x,$,C,c,20,l[19]),C=i(C,S,x,$,p,5,l[20]),$=i($,C,S,x,b,9,l[21]),x=i(x,$,C,S,w,14,l[22]),S=i(S,x,$,C,f,20,l[23]),C=i(C,S,x,$,v,5,l[24]),$=i($,C,S,x,A,9,l[25]),x=i(x,$,C,S,d,14,l[26]),S=i(S,x,$,C,m,20,l[27]),C=i(C,S,x,$,E,5,l[28]),$=i($,C,S,x,u,9,l[29]),x=i(x,$,C,S,_,14,l[30]),C=r(C,S=i(S,x,$,C,y,20,l[31]),x,$,p,4,l[32]),$=r($,C,S,x,m,11,l[33]),x=r(x,$,C,S,g,16,l[34]),S=r(S,x,$,C,A,23,l[35]),C=r(C,S,x,$,s,4,l[36]),$=r($,C,S,x,f,11,l[37]),x=r(x,$,C,S,_,16,l[38]),S=r(S,x,$,C,b,23,l[39]),C=r(C,S,x,$,E,4,l[40]),$=r($,C,S,x,c,11,l[41]),x=r(x,$,C,S,d,16,l[42]),S=r(S,x,$,C,h,23,l[43]),C=r(C,S,x,$,v,4,l[44]),$=r($,C,S,x,y,11,l[45]),x=r(x,$,C,S,w,16,l[46]),C=o(C,S=r(S,x,$,C,u,23,l[47]),x,$,c,6,l[48]),$=o($,C,S,x,_,10,l[49]),x=o(x,$,C,S,A,15,l[50]),S=o(S,x,$,C,p,21,l[51]),C=o(C,S,x,$,y,6,l[52]),$=o($,C,S,x,d,10,l[53]),x=o(x,$,C,S,b,15,l[54]),S=o(S,x,$,C,s,21,l[55]),C=o(C,S,x,$,m,6,l[56]),$=o($,C,S,x,w,10,l[57]),x=o(x,$,C,S,h,15,l[58]),S=o(S,x,$,C,E,21,l[59]),C=o(C,S,x,$,f,6,l[60]),$=o($,C,S,x,g,10,l[61]),x=o(x,$,C,S,u,15,l[62]),S=o(S,x,$,C,v,21,l[63]);a[0]=a[0]+C|0,a[1]=a[1]+S|0,a[2]=a[2]+x|0,a[3]=a[3]+$|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var o=e.floor(i/4294967296);for(n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,i=0;4>i;i++)r=n[i],n[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e}}),a.MD5=c._createHelper(u),a.HmacMD5=c._createHmacHelper(u)}(Math),function(){var e,t=n,i=(e=t.lib).Base,r=e.WordArray,o=(e=t.algo).EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=(s=this.cfg).hasher.create(),i=r.create(),o=i.words,a=s.keySize,s=s.iterations;o.length<a;){c&&n.update(c);var c=n.update(e).finalize(t);n.reset();for(var u=1;u<s;u++)c=n.finalize(c),n.reset();i.concat(c)}return i.sigBytes=4*a,i}});t.EvpKDF=function(e,t,n){return o.create(n).compute(e,t)}}(),n.lib.Cipher||function(e){var t=(h=n).lib,i=t.Base,r=t.WordArray,o=t.BufferedBlockAlgorithm,a=h.enc.Base64,s=h.algo.EvpKDF,c=t.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,i){return("string"==typeof n?_:p).encrypt(e,t,n,i)},decrypt:function(t,n,i){return("string"==typeof n?_:p).decrypt(e,t,n,i)}}}});t.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=h.mode={},l=function(e,t,n){var i=this._iv;i?this._iv=undefined:i=this._prevBlock;for(var r=0;r<n;r++)e[t+r]^=i[r]},d=(t.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();d.Encryptor=d.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;l.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),d.Decryptor=d.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=e.slice(t,t+i);n.decryptBlock(e,t),l.call(this,e,t,i),this._prevBlock=r}}),u=u.CBC=d,d=(h.pad={}).Pkcs7={pad:function(e,t){for(var n,i=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,o=[],a=0;a<n;a+=4)o.push(i);n=r.create(o,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=c.extend({cfg:c.cfg.extend({mode:u,padding:d}),reset:function(){c.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var f=t.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),p=(u=(h.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(a)},parse:function(e){var t=(e=a.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=r.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return f.create({ciphertext:e,salt:n})}},t.SerializableCipher=i.extend({cfg:i.extend({format:u}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i);return t=r.finalize(t),r=r.cfg,f.create({ciphertext:t,key:n,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),h=(h.kdf={}).OpenSSL={execute:function(e,t,n,i){return i||(i=r.random(8)),e=s.create({keySize:t+n}).compute(e,i),n=r.create(e.words.slice(t),4*n),e.sigBytes=4*t,f.create({key:e,iv:n,salt:i})}},_=t.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:h}),encrypt:function(e,t,n,i){return n=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize),i.iv=n.iv,(e=p.encrypt.call(this,e,t,n.key,i)).mixIn(n),e},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),n=i.kdf.execute(n,e.keySize,e.ivSize,t.salt),i.iv=n.iv,p.decrypt.call(this,e,t,n.key,i)}})}(),function(){for(var e=n,t=e.lib.BlockCipher,i=e.algo,r=[],o=[],a=[],s=[],c=[],u=[],l=[],d=[],f=[],p=[],h=[],_=0;256>_;_++)h[_]=128>_?_<<1:_<<1^283;var m=0,v=0;for(_=0;256>_;_++){var b=(b=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&b^99;r[m]=b,o[b]=m;var g=h[m],y=h[g],E=h[y],A=257*h[b]^16843008*b;a[m]=A<<24|A>>>8,s[m]=A<<16|A>>>16,c[m]=A<<8|A>>>24,u[m]=A,A=16843009*E^65537*y^257*g^16843008*m,l[b]=A<<24|A>>>8,d[b]=A<<16|A>>>16,f[b]=A<<8|A>>>24,p[b]=A,m?(m=g^h[h[h[E^g]]],v^=h[h[v]]):m=v=1}var w=[0,1,2,4,8,16,32,64,128,27,54];i=i.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),i=this._keySchedule=[],o=0;o<n;o++)if(o<t)i[o]=e[o];else{var a=i[o-1];o%t?6<t&&4==o%t&&(a=r[a>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a]):(a=r[(a=a<<8|a>>>24)>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a],a^=w[o/t|0]<<24),i[o]=i[o-t]^a}for(e=this._invKeySchedule=[],t=0;t<n;t++)o=n-t,a=t%4?i[o]:i[o-4],e[t]=4>t||4>=o?a:l[r[a>>>24]]^d[r[a>>>16&255]]^f[r[a>>>8&255]]^p[r[255&a]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,d,f,p,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,r,o,a,s){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],d=e[t+2]^n[2],f=e[t+3]^n[3],p=4,h=1;h<c;h++){var _=i[u>>>24]^r[l>>>16&255]^o[d>>>8&255]^a[255&f]^n[p++],m=i[l>>>24]^r[d>>>16&255]^o[f>>>8&255]^a[255&u]^n[p++],v=i[d>>>24]^r[f>>>16&255]^o[u>>>8&255]^a[255&l]^n[p++];f=i[f>>>24]^r[u>>>16&255]^o[l>>>8&255]^a[255&d]^n[p++],u=_,l=m,d=v}_=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[d>>>8&255]<<8|s[255&f])^n[p++],m=(s[l>>>24]<<24|s[d>>>16&255]<<16|s[f>>>8&255]<<8|s[255&u])^n[p++],v=(s[d>>>24]<<24|s[f>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[p++],f=(s[f>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&d])^n[p++],e[t]=_,e[t+1]=m,e[t+2]=v,e[t+3]=f},keySize:8});e.AES=t._createHelper(i)}(),n})),I$("f8f69e97337317444a4914d429c4bb3e",(function(e,t,n,i,r,o,a){function s(e,t){return function(e){return i["charEnlist"+e]}(t)[e]}function c(e){for(var t=i.charListMap["v_"+e],n="",r=0;r<t.length;r++)n+=s(t[r].i,t[r].t);return n}function u(e){var t,n="",i=8192;for(t=0;t<e.length/i;t++)n+=String.fromCharCode.apply(null,e.slice(t*i,(t+1)*i));return n+=String.fromCharCode.apply(null,e.slice(t*i))}function l(e){var t,n,i,r=[];for(n=0;n<e.length;++n)for(t=e[n],i=3;i>=0;--i)r.push(t>>8*i&255);return r}function d(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0,r=e.length;i<r;i++)n[i]=e.charCodeAt(i);return n}function f(e){var t=atob(e),n=new Uint8Array(t.length);return Array.prototype.forEach.call(t,(function(e,t){n[t]=e.charCodeAt(0)})),n}function p(e){var t=Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join("");return btoa(t)}window;return i.charListMap={v_0:[{t:1,i:2},{t:3,i:9},{t:3,i:7},{t:3,i:2},{t:1,i:0},{t:1,i:4},{t:1,i:2},{t:3,i:1},{t:3,i:1},{t:3,i:8},{t:1,i:5},{t:1,i:4},{t:1,i:4},{t:3,i:6},{t:3,i:9},{t:1,i:5}],v_1:[{t:3,i:3},{t:1,i:5},{t:1,i:15},{t:3,i:4},{t:1,i:23},{t:1,i:18},{t:3,i:9},{t:3,i:2},{t:3,i:2},{t:1,i:14},{t:1,i:20},{t:1,i:22},{t:3,i:5},{t:1,i:16},{t:3,i:7},{t:3,i:2}],v_2:[{t:2,i:16},{t:2,i:7},{t:1,i:7},{t:2,i:24},{t:1,i:17},{t:2,i:4},{t:1,i:4},{t:2,i:18},{t:2,i:12},{t:2,i:5},{t:2,i:18},{t:2,i:4},{t:1,i:0},{t:2,i:22},{t:1,i:11},{t:2,i:6}],v_3:[{t:2,i:18},{t:1,i:4},{t:1,i:7},{t:2,i:24},{t:1,i:17},{t:2,i:15},{t:1,i:4},{t:2,i:18},{t:1,i:11},{t:2,i:5},{t:2,i:18},{t:1,i:14},{t:1,i:0},{t:2,i:22},{t:1,i:11},{t:3,i:5}]},i.charEnlist1=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],i.charEnlist2=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i.charEnlist3=["0","1","2","3","4","5","6","7","8","9"],i.decryptAES=function(e,t){var i=c(t);if(!i||void 0===n)return!1;var r=f(e),o=new Uint8Array(r.buffer,0,16);i=n.enc.Base64.parse(p(d(i))),o=n.enc.Base64.parse(p(o)),e=new Uint8Array(r.buffer,16,r.length-16),e=n.enc.Base64.parse(p(e));try{var a=u(l(n.AES.decrypt({ciphertext:e},i,{iv:o,mode:n.mode.CBC,padding:n.pad.Pkcs7}).words)),s=a.indexOf("}");return-1!=s&&JSON.parse(a.substring(0,s+1))}catch(e){return!1}},i.supportLocalUrl=function(){return void 0!==URL&&URL.createObjectURL&&void 0!==Blob&&void 0!==Uint8Array},i.createLocalUrl=function(e){var t=f(e),n=new Blob([t],{type:"application/pgp-keys"});return URL.createObjectURL(n)},i.formatM3u8EncryptUrl=function(e){var t=e.k;if(!t||!e.videoUrl)return e;if(t){var n=i.decryptAES(t,e.v);if(!n)throw new Error("decryptAES fail");var r;r=n.k||n.videoDecryptionKey,e.videoUrl=function(e,t){if(e){var n=window.location.protocol;return t=t.replace(/(^\/\/)|(^http:\/\/)|(^https:\/\/)/,n+"//"),-1!=e.indexOf("?")?e+"&token="+encodeURIComponent(t)+"&t="+(new Date).getTime():e+"?token="+encodeURIComponent(t)+"&t="+(new Date).getTime()}}(e.videoUrl,r)}return e},i.secondaryDecrypt=function(e,t,i){e=function(e){var t,n=e.trim(),i="0x"===n.substr(0,2).toLowerCase()?n.substr(2):n,r=i.length;if(r%2!=0)return alert("Illegal Format ASCII Code!"),"";for(var o=[],a=0;a<r;a+=2)t=parseInt(i.substr(a,2),16),o.push(String.fromCharCode(t));return o.join("")}(e);var r,o=new Date;r=i?t.toString().slice(-7)+"66"+(+o).toString().substr(0,4)+o.getFullYear().toString().slice(-3):t.toString().slice(-6)+"66"+(+o).toString().substr(0,4)+o.getFullYear();var a=f(e),s=new Uint8Array(a.buffer,0,16);r=n.enc.Base64.parse(p(d(r))),s=n.enc.Base64.parse(p(s)),e=new Uint8Array(a.buffer,16,a.length-16),e=n.enc.Base64.parse(p(e));try{var c=u(l(n.AES.decrypt({ciphertext:e},r,{iv:s,mode:n.mode.CBC,padding:n.pad.Pkcs7}).words));return i?function(e){return new Uint8Array(e.match(/[\da-f]{2}/gi).map((function(e){return parseInt(e,16)}))).buffer}(c.substr(0,32)):c}catch(e){return!1}},i.canUseLocalKey=function(){return!1},i}),"dbf963496e3cef891778fa497cfdafd4","029230f12d85f681c73aa5dfa7b15d14","dc52202ef9f3a0d8da41ba2cf25ecdd0"),I$("6268938092c7b8de698c278e95a0a52e",(function(){var e={};return e._$encode=function(e,t){return t=""+t,e&&t?t.replace(e.r,(function(t){var n=e[e.i?t:t.toLowerCase()];return null!=n?n:t})):t||""},e._$str2utf8hex=function(e){for(var t=this._$writeUTF(e,!0),n="",i=0;i<t.length;i++){var r=(255&t[i]).toString(16);1===r.length&&(r="0"+r),n+=r}return n},e._$writeUTF=function(e,t){for(var n=[],i=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);0<=o&&o<=127?(i+=1,n.push(o)):128<=o&&o<=2047?(i+=2,n.push(192|31&o>>6),n.push(128|63&o)):(2048<=o&&o<=55295||57344<=o&&o<=65535)&&(i+=3,n.push(224|15&o>>12),n.push(128|63&o>>6),n.push(128|63&o))}for(r=0;r<n.length;r++)n[r]&=255;return t?n:i<=255?[0,i].concat(n):[i>>8,255&i].concat(n)},e}),"bb8dded43dcd62a8a3ad620018ec311f"),I$("9e9a0891557f759316ee373e0ca679d0",(function(e,t){var n={},i=function(){return this}();return n._$getServerRespondTime=function(){var e=(new Date).getTime();return function(){return i.serverTimeDiff?e-i.serverTimeDiff:e}}(),n._$getCurServerTime=function(){var e=(new Date).getTime();return i.serverTimeDiff?e-i.serverTimeDiff:e},n._$getTimeData=function(){var e=["上午","下午"],t=["A.M.","P.M."],n=["日","一","二","三","四","五","六"],i=["一","二","三","四","五","六","七","八","九","十","十一","十二"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],o=function(e){return((e=parseInt(e)||0)<10?"0":"")+e};return function(a,s){var c={i:!0,r:/\byyyy|yy|MM|cM|eM|M|dd|d|HH|H|mm|ms|ss|m|s|w|ct|et\b/g};if(!a)return"";a=new Date(1*a),c.yyyy=a.getFullYear(),c.yy=(""+c.yyyy).substr(2),c.M=a.getMonth()+1,c.MM=o(c.M),c.eM=r[c.M-1],c.cM=i[c.M-1],c.d=a.getDate(),c.dd=o(c.d),c.H=a.getHours(),c.HH=o(c.H),c.m=a.getMinutes(),c.mm=o(c.m),c.s=a.getSeconds(),c.ss=o(c.s),c.ms=a.getMilliseconds(),c.w=n[a.getDay()];var u=function(e){return e<12?0:1}(c.H);return c.ct=e[u],c.et=t[u],s&&(c.H=c.H%12),c}}(),n._$formatTime=function(e,i,r){return t._$encode(n._$getTimeData(e,r),i||"yyyy-MM-dd")},n._$formatCommonTime=function(e){return 32503651201e3==e||32535187201e3==e?"待定":n._$formatTime(e,"yyyy年MM月dd日 HH:mm")},n._$formatPeriod=function(e,i,r,o){return e=e||+new Date,i=i||+new Date,r=r||"yyyy-MM-dd",32503651201e3==e&&32535187201e3==i?"待定":t._$encode(n._$getTimeData(e),r)+(o||" - ")+t._$encode(n._$getTimeData(i),r)},n._$tiktok=function(e,t){var n,i,r,o,a=e-(t||this._$getCurServerTime());return a<1e3?null:(o=~~(a/1e3)-86400*(n=~~(~~(a/1e3)/86400))-3600*(i=~~((~~(a/1e3)-86400*n)/3600))-60*(r=~~((~~(a/1e3)-86400*n-3600*i)/60)),_ms=a-1e3*(86400*n+3600*i+60*r+o),{d:n||0,h:i||0,m:r||0,s:o||0,ms:_ms||0})},n._$formateTiktokByHMS=function(e){var t=this._$tiktok(e);return t?(t.h+24*t.d<10?"0"+(t.h+24*t.d):t.h+24*t.d)+":"+(t.m<10?"0"+t.m:t.m)+":"+(t.s<10?"0"+t.s:t.s):""},n._$formatTiktokTime=function(e,t){var n=this._$tiktok(e,t);return n?n.d>=1?n.d+"天"+n.h+"小时"+n.m+"分钟":n.h>=1?n.h+"小时"+n.m+"分钟":n.m>=1?n.m+"分钟":n.s+"秒钟":null},n._$getCurDayPharse=function(){var e=new Date(this._$getCurServerTime()).getHours(),t="";return e<6?t="凌晨":e<9?t="早上":e<12?t="上午":e<14?t="中午":e<17?t="下午":e<24&&(t="晚上"),t},n._$getReplyTime=function(e){var t=new Date(e||0),i=new Date(this._$getCurServerTime());return i.getTime()<t.getTime()?"1秒前":i.getFullYear()!=t.getFullYear()?n._$formatTime(e,"yyyy年MM月dd日"):i.getMonth()!=t.getMonth()||i.getDate()!=t.getDate()?n._$formatTime(e,"MM月dd日"):i.getHours()!=t.getHours()?n._$formatTime(e,"HH:mm"):i.getMinutes()!=t.getMinutes()?i.getMinutes()-t.getMinutes()+"分钟前":i.getSeconds()!=t.getSeconds()?i.getSeconds()-t.getSeconds()+"秒前":"1秒前"},n._$formatByRuleA=function(e){var t=new Date(e||0),i=new Date(this._$getCurServerTime()),r=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime(),o=new Date(r-864e5).getTime(),a=this._$tiktok(this._$getCurServerTime(),e);return i.getTime()<t.getTime()||!a?"刚刚":i.getFullYear()!=t.getFullYear()?n._$formatTime(e,"yyyy年M月d日"):(i.getDate()!=t.getDate()||i.getMonth()!=t.getMonth())&&t.getTime()<o?n._$formatTime(e,"M月d日"):t.getTime()>=o&&t.getTime()<r?n._$formatTime(e,"昨天 HH:mm"):t.getTime()>=r&&a.h>=1?n._$formatTime(e,"今天 HH:mm"):a.m>=1?a.m+"分钟前":"刚刚"},n._$formatByRuleB=function(e){var t=new Date(e||0),i=new Date(this._$getCurServerTime()),r=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime(),o=new Date(r-864e5).getTime();return i.getFullYear()!=t.getFullYear()?n._$formatTime(e,"yyyy年M月d日 HH:mm"):(i.getDate()!=t.getDate()||i.getMonth()!=t.getMonth())&&t.getTime()<o?n._$formatTime(e,"M月d日 HH:mm"):t.getTime()>=o&&t.getTime()<r?n._$formatTime(e,"昨天 HH:mm"):n._$formatTime(e,"今天 HH:mm")},n._$Millisec2Str=n._$formatVideoTime=function(e){e=e||0;var t=Math.floor(e/3600),n=Math.floor(e/60)-60*t,i=Math.floor(e%60),r=(n<10?"0"+n:n)+":"+(i<10?"0"+i:i);return t>0&&(r=(t<10?"0"+t:t)+":"+r),r},n._$str2Millisec=function(e){var t=e.split(":"),n=t.length-1,i=n-1>=0?60*t[n-1]:0,r=n-2>=0?3600*t[n-2]:0;return Number(t[n])+i+r},n._$getDiffDays=function(e,t,n){e=new Date(e);var i=((t=new Date(t))-e)/864e5;return n?Math.floor(i):Math.ceil(i)},n._$getDiffDays2=function(e,t){var n=new Date(e),i=new Date(t),r=Math.floor((i-n)/864e5);return new Date(i-24*r*60*60*1e3).getDate()==n.getDate()?r:r+1},n}),"bb8dded43dcd62a8a3ad620018ec311f","6268938092c7b8de698c278e95a0a52e"),I$("4caeff9df4f166646ce2a6acb243e2a1",(function(e,t,n,i,r,o,a,s,c){var u=document.createElement("video");return o.isMobileIncludeIPad=function(){var e=window.navigator.userAgent;return new RegExp("(iPad)","ig").test(e)&&i._$isMobileAll()},o.isMobileNotIncludeIPad=function(){var e=window.navigator.userAgent;return!new RegExp("(iPad)","ig").test(e)&&i._$isMobileAll()},o.supportVideo=function(){var e=!!u.canPlayType;try{u.canPlayType("video/mp4")}catch(t){e=!1}return e},o.supportHLS=function(){return i._$isMobileAll()||o.supportMSEH264()},o.supportFlv=function(){return o.supportMSEH264()},o.supportMSEH264=function(){var e=!1,t=/Chrome[\/\s]*(\d+)\./i.exec(window.navigator.userAgent);t&&t[1]&&Number(t[1])<=49&&(e=!0);var n=window.MediaSource||window.WebKitMediaSource,i=window.SourceBuffer||window.WebKitSourceBuffer,r=n&&"function"==typeof n.isTypeSupported&&n.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!i||i.prototype&&"function"==typeof i.prototype.appendBuffer&&"function"==typeof i.prototype.remove;return!!r&&!!o&&!e},o.checkVideoCanPlay=function(e){for(var t=e.split(";"),n=!1,i=0;i<t.length;i++)if(n=""!=u.canPlayType(t[i]))return n;return n},o.getVideoMIMEType=function(t){if(!t)return!1;var n=t.split(/\?/)[0].split("."),i=n[n.length-1],r=e.VIDEO_SOURSE_MIME_TYPE[i];return r||!1},o.supportTexttrack=function(){},o.supportVolumeChange=function(){try{var e=u.volume;return u.volume=e/2+.1,e!==u.volume}catch(e){return!1}},o.supportAutoPlay=function(e,t){if(r.log("check autoplay support"),!e.autoStart)return r.log("autoplay close or not support"),t(!1);if(i._$isMobileAll())return r.log("mobile autoplay"),t(e.autoStart);var n=navigator.userAgent.toLowerCase(),o=!1;if(n.indexOf("chrome")>-1&&n.indexOf("66")>-1&&(o=!0),e.autoStart&&e.mute&&o)return r.log("chrome can autoplay in ver 66 when mute is true"),t(!0);var a=document.createElement("video");a.autoplay=!0,a.src="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAAAAG1wNDJtcDQxaXNvbWF2YzEAAATKbW9vdgAAAGxtdmhkAAAAANLEP5XSxD+VAAB1MAAAdU4AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAACFpb2RzAAAAABCAgIAQAE////9//w6AgIAEAAAAAQAABDV0cmFrAAAAXHRraGQAAAAH0sQ/ldLEP5UAAAABAAAAAAAAdU4AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAoAAAAFoAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAHVOAAAH0gABAAAAAAOtbWRpYQAAACBtZGhkAAAAANLEP5XSxD+VAAB1MAAAdU5VxAAAAAAANmhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABMLVNNQVNIIFZpZGVvIEhhbmRsZXIAAAADT21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAw9zdGJsAAAAwXN0c2QAAAAAAAAAAQAAALFhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAoABaABIAAAASAAAAAAAAAABCkFWQyBDb2RpbmcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AAAAOGF2Y0MBZAAf/+EAHGdkAB+s2UCgL/lwFqCgoKgAAB9IAAdTAHjBjLABAAVo6+yyLP34+AAAAAATY29scm5jbHgABQAFAAUAAAAAEHBhc3AAAAABAAAAAQAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAAQBjdHRzAAAAAAAAAB4AAAABAAAH0gAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAB9IAAAAUc3RzcwAAAAAAAAABAAAAAQAAACpzZHRwAAAAAKaWlpqalpaampaWmpqWlpqalpaampaWmpqWlpqalgAAABxzdHNjAAAAAAAAAAEAAAABAAAAHgAAAAEAAACMc3RzegAAAAAAAAAAAAAAHgAAA5YAAAAVAAAAEwAAABMAAAATAAAAGwAAABUAAAATAAAAEwAAABsAAAAVAAAAEwAAABMAAAAbAAAAFQAAABMAAAATAAAAGwAAABUAAAATAAAAEwAAABsAAAAVAAAAEwAAABMAAAAbAAAAFQAAABMAAAATAAAAGwAAABRzdGNvAAAAAAAAAAEAAAT6AAAAGHNncGQBAAAAcm9sbAAAAAIAAAAAAAAAHHNiZ3AAAAAAcm9sbAAAAAEAAAAeAAAAAAAAAAhmcmVlAAAGC21kYXQAAAMfBgX///8b3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMTEgNzU5OTIxMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTUgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz0xMSBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgc3RpdGNoYWJsZT0xIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PWluZmluaXRlIGtleWludF9taW49Mjkgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz0ycGFzcyBtYnRyZWU9MSBiaXRyYXRlPTExMiByYXRldG9sPTEuMCBxY29tcD0wLjYwIHFwbWluPTUgcXBtYXg9NjkgcXBzdGVwPTQgY3BseGJsdXI9MjAuMCBxYmx1cj0wLjUgdmJ2X21heHJhdGU9ODI1IHZidl9idWZzaXplPTkwMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAG9liIQAFf/+963fgU3DKzVrulc4tMurlDQ9UfaUpni2SAAAAwAAAwAAD/DNvp9RFdeXpgAAAwB+ABHAWYLWHUFwGoHeKCOoUwgBAAADAAADAAADAAADAAAHgvugkks0lyOD2SZ76WaUEkznLgAAFFEAAAARQZokbEFf/rUqgAAAAwAAHVAAAAAPQZ5CeIK/AAADAAADAA6ZAAAADwGeYXRBXwAAAwAAAwAOmAAAAA8BnmNqQV8AAAMAAAMADpkAAAAXQZpoSahBaJlMCCv//rUqgAAAAwAAHVEAAAARQZ6GRREsFf8AAAMAAAMADpkAAAAPAZ6ldEFfAAADAAADAA6ZAAAADwGep2pBXwAAAwAAAwAOmAAAABdBmqxJqEFsmUwIK//+tSqAAAADAAAdUAAAABFBnspFFSwV/wAAAwAAAwAOmQAAAA8Bnul0QV8AAAMAAAMADpgAAAAPAZ7rakFfAAADAAADAA6YAAAAF0Ga8EmoQWyZTAgr//61KoAAAAMAAB1RAAAAEUGfDkUVLBX/AAADAAADAA6ZAAAADwGfLXRBXwAAAwAAAwAOmQAAAA8Bny9qQV8AAAMAAAMADpgAAAAXQZs0SahBbJlMCCv//rUqgAAAAwAAHVAAAAARQZ9SRRUsFf8AAAMAAAMADpkAAAAPAZ9xdEFfAAADAAADAA6YAAAADwGfc2pBXwAAAwAAAwAOmAAAABdBm3hJqEFsmUwIK//+tSqAAAADAAAdUQAAABFBn5ZFFSwV/wAAAwAAAwAOmAAAAA8Bn7V0QV8AAAMAAAMADpkAAAAPAZ+3akFfAAADAAADAA6ZAAAAF0GbvEmoQWyZTAgr//61KoAAAAMAAB1QAAAAEUGf2kUVLBX/AAADAAADAA6ZAAAADwGf+XRBXwAAAwAAAwAOmAAAAA8Bn/tqQV8AAAMAAAMADpkAAAAXQZv9SahBbJlMCCv//rUqgAAAAwAAHVE=",a.load();var s=a.play();s&&s.then?s.then((function(){r.log("check autoplay complete:true"),a.pause(),t(!0)})).catch((function(e){r.log("check autoplay complete:false"),a.pause(),t(!1)})):(r.log("check autoplay complete，no promise:true"),a.pause(),t(!0))},o.supportRateChange=function(){try{var e=u.playbackRate;return u.playbackRate=e/2+.1,e!==u.playbackRate}catch(e){return!1}},o.getMediaType=function(e){var t=e.split("?")[0].split("."),n="";return t&&t.length>0&&(n=t[t.length-1]),"m3u8"==(n=n.toLowerCase())&&(n="hls"),n},o.formatVideoTime=function(e){e=e||0;var t=parseInt(e/60),n=parseInt(e%60);return(t<10?"0"+t:t)+":"+(n<10?"0"+n:n)},o.formatLiveTime=function(e,n){return new Date(Number(e)).getFullYear()!=(new Date).getFullYear()?"en"==window.currentLanguage?t._$formatTime(e,"yyyy/MM/dd HH:mm")+" - "+t._$formatTime(n,"HH:mm"):t._$formatTime(e,"yyyy年MM月dd日 HH:mm")+" - "+t._$formatTime(n,"HH:mm"):"en"==window.currentLanguage?t._$formatTime(e,"MM/dd HH:mm")+" - "+t._$formatTime(n,"HH:mm"):t._$formatTime(e,"MM月dd日 HH:mm")+" - "+t._$formatTime(n,"HH:mm")},o.imgReady=function(){var e=[],t=null,n=function(){for(var t=0;t<e.length;t++)e[t].end?e.splice(t--,1):e[t]();!e.length&&i()},i=function(){clearInterval(t),t=null};return function(i,r,o,a){var s,c,u,l=new Image;l.src=i,l.complete?(r(l),o&&o(l)):(-1,-1,l.onerror=function(){a&&a(l),s.end=!0,l=l.onload=l.onerror=null},(s=function(){c=l.width,u=l.height,-1===c&&-1===u||(r(l),s.end=!0)})(),l.onload=function(){!s.end&&s(),o&&o(l),l=l.onload=l.onerror=null},s.end||(e.push(s),null===t&&(t=setInterval(n,40))))}}(),o}),"0fbc02cbf83291e1c03681700cf06139","9e9a0891557f759316ee373e0ca679d0","4b580f44bb46eed3bdca9ef584876649","dbf963496e3cef891778fa497cfdafd4","12f2410d79ec3fdd20eb6591308492de"),I$("e19de14c3cffd61937c8533fc9b40fee",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p){var h=e.C();h.NAME="movieData";var _=h.extend(t);return _._init=function(e,t){return this.__super(e,t),this.posterUrl=null,this.start=0,this.duration=0,this.videoId=null,this.defaultQuality=this._config.defaultQuality||i.VIDEO_QUALITY.SD,this.movieItemList=null,this.currentMovieItem=null,this.cluPointList=null,this.captionData=null,this.adUrl=null,this.cdnSwitchData=null,this.cdnSwitch="",this},_.listNotificationInterests=function(){return[n.VIEW_QUALITY,n.VIEW_CDN]},_.handleNotification=function(e){switch(this.__super(e),e.getName()){case n.VIEW_QUALITY:this._handleViewChangeQuality(e.getBody());break;case n.VIEW_CDN:this._handleViewChangeCDN(e.getBody())}},_.checkCanPlayEncryptMedia=function(e){return e.isEncrypt?e.isEncrypt?e.m3u8SdUrl?"hls":"notSupport":void 0:null},_.setData=function(e){this.sendNotification(n.MOVIEDATA_NEW,e),!e.videos||e.videos&&!e.videos.length?this.sendNotification(n.MOVIEDATA_ERROR,i.ERROR_CODE.VIDEO_DATA_ERROR_NO_URL):(this.adUrl=e.adUrl,this.posterUrl=e.videoImgUrl,this.start=e.start||0,this.videoId=e.videoId,this.duration=e.duration,void 0!==e.isLast?this.isLast=e.isLast:this.isLast=!0,this.liveTitle=e.liveTitle,this.liveStartTime=e.liveStartTime,this.liveEndTime=e.liveEndTime,this._createMovieItem(e),this._initCaption(e),this.cluPointList=e.cluPointData,this._config.showCdnSwitch&&e.cdnPoints&&(this.cdnSwitch=e.cdnSwitch,this.cdnSwitchData=e.cdnPoints,this.cdnSwitchData.length&&this.cdnSwitchData.unshift({ip:"",isp:"default",ispName:u.KEY_VIDEO_DEAFULT}),this._changeCDN(this.cdnSwitch)),this.originVideoData=e,this.sendNotification(n.MOVIEDATA_READY,this))},_._createMovieItem=function(e){function t(e){return e?e.replace(/^(http:|https:)/,window.location.protocol):""}this.movieItemList=[],this.currentMovieItem=null;for(var r,o=e.videos,a=0;a<o.length;a++)if((r=o[a]).videoUrl){var c=this._getMediaType(r);if(r.e&&"hls"==c)try{r=s.formatM3u8EncryptUrl(r)}catch(e){return void this.sendNotification(n.MOVIEDATA_ERROR,i.ERROR_CODE.MEDIA_ERROR_M3U8_DECRYPT_ERROR)}this.movieItemList.push({quality:r.quality,qualityName:this._getQualityName(r.quality),urls:[t(r.videoUrl)],fileType:c,encrypt:r.e,secondaryEncrypt:r.secondaryEncrypt})}for(a=0;a<this.movieItemList.length;a++)this.movieItemList[a].quality==this.defaultQuality&&(this.currentMovieItem=this.movieItemList[a]);this.currentMovieItem=this.currentMovieItem||this.movieItemList[0]},_._getQualityName=function(e){return i.VIDEO_QUALITY_NAME[e+""]||u.KEY_VIDEO_UNKNOW},_._getMediaType=function(e){return e.format?e.format:c.getMediaType(e.videoUrl)},_._initCaption=function(e){this.captionData={};var t=e.srtCaptions||e.mp4Caption;if(t&&t.length>0?this.captionData.hasCaption=!0:this.captionData.hasCaption=!1,this.captionData.hasCaption){this.captionData.data=[];for(var n=0;n<t.length;n++){var i=t[n];this.captionData.data.push({name:i.name,index:i.index,url:a._$changeUrlProtocol(i.url),lang:i.name==u.KEY_VIDEO_CHINESE?"cn":"en",isSelect:!0})}}},_._handleViewChangeQuality=function(e){if(e.newData){for(var t=0;t<this.movieItemList.length;t++)if(this.movieItemList[t].quality==e.newData.quality){this.currentMovieItem=this.movieItemList[t];break}this.sendNotification(n.MOVIEDATA_CURRENT_ITEM_CHANGE,this)}},_._changeCDN=function(e){if(this.cdnSwitchData){for(var t="",n=0;n<this.cdnSwitchData.length;n++)e==this.cdnSwitchData[n].isp&&(t=this.cdnSwitchData[n].ip);for(var i=0;i<this.movieItemList.length;i++)for(var r=0;r<this.movieItemList[i].urls.length;r++){var o=this.movieItemList[i].urls[r];if(o){var a=window.location.protocol+"//";o=/^https?:\/\/[\d\\.]+?\//.test(o)?o.replace(/^https?:\/\/[\d\\.]+?\//,(function(){return a+(t?t+"/":"")})):o.replace(/^https?:\/\//,(function(){return a+(t?t+"/":"")})),this.movieItemList[i].urls[r]=o}}}},_._handleViewChangeCDN=function(e){this._changeCDN(e.newData.isp),this.cdnSwitch=e,this.sendNotification(n.MOVIEDATA_CURRENT_CDN_CHANGE,this)},h}),"c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","f1cb28abde9911cf82d810c70c54b84c","dbf963496e3cef891778fa497cfdafd4","029230f12d85f681c73aa5dfa7b15d14","f8f69e97337317444a4914d429c4bb3e","4caeff9df4f166646ce2a6acb243e2a1","b4082aa2f7c42f066d0566ed301a5924"),I$("82893ee5d54d8ef4583d78b30a7a4961",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p){var h=e.C();h.NAME="movieData";var _=h.extend(t);return _._init=function(e,t){return this.__super(e,t),this.defaultQuality=this._config.defaultQuality||i.VIDEO_QUALITY.SD,this.movieItemList=null,this.currentMovieItem=null,this.lines=null,this.currentLine=null,this},_.listNotificationInterests=function(){return[n.VIEW_QUALITY,n.VIEW_CDN]},_.handleNotification=function(e){switch(this.__super(e),e.getName()){case n.VIEW_QUALITY:this._handleViewChangeQuality(e.getBody());break;case n.VIEW_CDN:this._handleViewChangeCDN(e.getBody())}},_.setData=function(e){this.sendNotification(n.MOVIEDATA_NEW,e),!e.lines||e.lines&&!e.lines.length?this.sendNotification(n.MOVIEDATA_ERROR,i.ERROR_CODE.VIDEO_DATA_ERROR_NO_URL):(this.liveTitle=e.liveTitle,this.liveStartTime=e.liveStartTime,this.liveEndTime=e.liveEndTime,this._createLines(e),this.originVideoData=e,this.sendNotification(n.MOVIEDATA_READY,this))},_._createLines=function(e){this.lines=[],this.currentLine=null;for(var t,n=e.lines,i=0;i<n.length;i++)if(void 0!==(t=n[i]).type&&t.ratios&&t.ratios.length){var r={type:t.type,name:t.name,ratios:t.ratios};this.lines.push(r),e.lineSwitch&&e.lineSwitch==t.type&&(this.currentLine=r)}this.currentLine||(this.currentLine=this.lines[0]),this._createMovieItem(this.currentLine)},_._createMovieItem=function(e){function t(e){return e?e.replace(/^(http:|https:)/,window.location.protocol):""}this.movieItemList=[],this.currentMovieItem=null;for(var n,i=e.ratios,r=0;r<i.length;r++)if((n=i[r]).url){var o=this._getMediaType(n);this.movieItemList.push({quality:n.quality,qualityName:n.qualityName||this._getQualityName(n.quality),urls:[t(n.url)],fileType:o})}for(r=0;r<this.movieItemList.length;r++)this.movieItemList[r].quality==this.defaultQuality&&(this.currentMovieItem=this.movieItemList[r]);this.currentMovieItem=this.currentMovieItem||this.movieItemList[0],this.currentQuality=this.currentMovieItem.quality},_._getQualityName=function(e){return i.VIDEO_QUALITY_NAME[e+""]||u.KEY_VIDEO_UNKNOW},_._getMediaType=function(e){return e.format?e.format:c.getMediaType(e.videoUrl)},_._handleViewChangeQuality=function(e){if(e.newData){for(var t=0;t<this.movieItemList.length;t++)if(this.movieItemList[t].quality==e.newData.quality){this.currentMovieItem=this.movieItemList[t],this.currentQuality=e.newData.quality;break}this.sendNotification(n.MOVIEDATA_CURRENT_ITEM_CHANGE,this)}},_._changeLine=function(e){if((!e||!this.currentLine||e!==this.currentLine.type)&&this.lines){for(var t=0;t<this.lines.length;t++)if(this.lines[t].type===e){this.currentLine=this.lines[t];break}this._createMovieItem(this.currentLine)}},_._handleViewChangeCDN=function(e){this._changeLine(e.newData.type),this.sendNotification(n.MOVIEDATA_CURRENT_CDN_CHANGE,this)},h}),"c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","f1cb28abde9911cf82d810c70c54b84c","dbf963496e3cef891778fa497cfdafd4","029230f12d85f681c73aa5dfa7b15d14","f8f69e97337317444a4914d429c4bb3e","4caeff9df4f166646ce2a6acb243e2a1","b4082aa2f7c42f066d0566ed301a5924"),I$("d0ef9b1d5fbf1e0852e1b87426792552",'<div class="u-edu-h5player-mainvideo f-pa j-mainVideo"></div>\n'),I$("d8227ca5ac6da601830524302cb405ea",(function(e,t,n,i,r){return{MEDIA_VIDEO_READY:"mediaVideoReady",MEDIA_BEFORE_LOAD:"mediaBeforeLoad",MEDIA_START_LOAD:"mediaStartLoad",MEDIA_META:"mediaMeta",MEDIA_BEFORE_PLAY:"mediaBeforePlay",MEDIA_QUALITY_CHANGE:"mediaQualityChange",MEDIA_RATE_CHANGE:"mediaRateChange",MEDIA_BUFFER:"mediaBuffer",MEDIA_BUFFER_FULL:"mediaBufferFull",MEDIA_TIME:"mediaTime",MEDIA_ERROR:"mediaError",MEDIA_VOLUME:"mediaVolume",MEDIA_VOLUME_INCREASE:"mediaVolumeIncrease",MEDIA_VOLUME_DECREASE:"mediaVolumeDecrease",MEDIA_MUTE:"mediaMute",MEDIA_SEEK:"mediaSeek",MEDIA_SEEK_FORWARD:"mediaSeekForward",MEDIA_SEEK_BACKWARD:"mediaSeekBackward",MEDIA_TIME_UPDATE:"mediaTimeupdate"}})),I$("483c4142bb086344703050c5dd156ad1",(function(e,t,n,i,r){return{MEDIA_STATE:"mediaState"}})),I$("6efedc0157f87787bddd5ab16bb37c9b",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p){var h=i.C(),_=h.pro;return _._init=function(e,t,n){this._videoParentNode=e,this._cfg=t,this._options=n,this._mute=this._cfg.mute,this._volume=this._cfg.volume,this._mute&&(this._volume=0),this._rate=this._cfg.rate,this._hasDoLoad=!1,this._hasGetMetaData=!1,this._errorCount=0,this._setState(s.MEDIA_STATE.IDLE)},_._doOptionFn=function(e,t){this._options[e]&&this._options[e]({type:e,data:t})},_._initTech=function(){this._initVideoNode(),this._initVideoNodeEvent(),this._doOptionFn(o.MEDIA_VIDEO_READY,this._videoNode||null)},_._initVideoNode=function(){if(r.supportVideo()){if(!this._videoNode){var e={};this._cfg.autoStart&&(e.autoplay=""),c._$isMobileAll()&&(e.playsinline="",e["webkit-playsinline"]=""),c._$isWeixin()&&c._$isAndroid()&&this._cfg.x5Fullscreen&&(e["x5-video-player-type"]="h5",e["x5-video-player-fullscreen"]="true"),this._cfg.useNative&&(e.controls="controls"),this._videoNode=i.createEl("video",e),this._videoParentNode.appendChild(this._videoNode),u.log("create video node complete")}}else this._doOptionFn(o.MEDIA_ERROR,s.ERROR_CODE.MEDIA_ERROR_VIDEOTAG_NOT_SUPPORT)},_._initVideoNodeEvent=function(){this._videoNode&&(n._$addEvent(this._videoNode,"loadstart",function(){this._doOptionFn(o.MEDIA_START_LOAD,{videoNode:this._videoNode,movieData:this._movieData})}._$bind(this)),n._$addEvent(this._videoNode,"canplaythrough",function(){u.log("canplaythrough"),!this._state==s.MEDIA_STATE.PAUSE&&this._onvideoPlaying()}._$bind(this)),n._$addEvent(this._videoNode,"canplay",function(){u.log("canplay")}._$bind(this)),n._$addEvent(this._videoNode,"loadedmetadata",this._onvideoLoadedmetadata._$bind(this)),n._$addEvent(this._videoNode,"ended",this._onvideoEnded._$bind(this)),n._$addEvent(this._videoNode,"error",this._onvideoError._$bind(this)),n._$addEvent(this._videoNode,"playing",this._onvideoPlaying._$bind(this)),n._$addEvent(this._videoNode,"progress",this._onvideoProgress._$bind(this)),n._$addEvent(this._videoNode,"seeked",this._onvideoSeeked._$bind(this)),n._$addEvent(this._videoNode,"seeking",this._onvideoSeeking._$bind(this)),n._$addEvent(this._videoNode,"timeupdate",this._onvideoTimeupdate._$bind(this)),n._$addEvent(this._videoNode,"waiting",this._onvideoWaiting._$bind(this)),n._$addEvent(this._videoNode,"play",this._onvideoPlaying._$bind(this)),n._$addEvent(this._videoNode,"pause",this._onvideoPause._$bind(this)),c._$isWeixin()&&(n._$addEvent(this._videoNode,"x5videoenterfullscreen",this._onx5VideoEnterFullScreen._$bind(this)),n._$addEvent(this._videoNode,"x5videoexitfullscreen",this._onx5VideoExitFullScreen._$bind(this))))},_.getVideoNode=function(){return this._videoNode||null},_.fullscreenVideo=function(){this.canFullscreenVideo()&&this._videoNode.webkitEnterFullscreen()},_.canFullscreenVideo=function(){return this._videoNode&&i.isFunction(this._videoNode.webkitEnterFullscreen)},_.setMovieData=function(e){this._movieData=e},_.load=function(e,t){u.log("load moivedata"),this._setState(s.MEDIA_STATE.BUFFERING),this._videoNode||this._initTech(),this._movieData=e||this._movieData,this._item=this._movieData.currentMovieItem,u.log("current item:"+JSON.stringify(this._item)),this._doBeforeLoad(),this._hasGetMetaData=!1,this._hasAutoSeek=!1,this._hasDoLoad=!0,this._isNotFirst||(this._errorCount=0),this._doOptionFn(o.MEDIA_QUALITY_CHANGE,this._item),this.volume(this._volume),this.rate(this._rate)},_.reload=function(e){e=e||this._movieData,"live"==this._cfg.mode?e.start=0:e.start=this._position||this._movieData.start||0,this._isNotFirst=!0,this.stop(),this.load(e)},_._doBeforeLoad=function(){this._cfg.beforeLoad&&!this._movieData.hasDoBeforeLoad&&(this._movieData.hasDoBeforeLoad=!0,this._doOptionFn(o.MEDIA_BEFORE_LOAD))},_._catchPlay=function(){var e=this._videoNode.play();e&&e.catch&&e.then((function(){u.log("try to play success")})).catch((function(e){u.error("try to play fail")}))},_.play=function(){this._hasDoLoad||!this._movieData?this.isCompleted()?this.seek(0):this._setState(s.MEDIA_STATE.PLAYING):this.load(this._movieData)},_.pause=function(){this._setState(s.MEDIA_STATE.PAUSE)},_._seek=function(e){if(u.log("_seek"),this._canSeek())try{this._videoNode.currentTime=e}catch(e){u.log(e.message)}},_.seek=function(t){if(u.log("seek"),this._canSeek()){u.log("_canSeek");var n=e._$isNumber(t)?t:t.newData;n=(n=!n||n<0?0:n)>this._duration?0:n;var i=this._position;this._seek(n),this._catchPlay(),this._doOptionFn(o.MEDIA_SEEK,{oldData:i,newData:n})}},_.seekForward=function(){if(u.log("seekForward"),this._canSeek()){var e=this._position+s.VARCONST.SEEK_STEP>this._duration?this._duration:this._position+s.VARCONST.SEEK_STEP;this.isCompleted()&&(e=0),this._doOptionFn(o.MEDIA_SEEK_FORWARD,{oldData:{position:this._position,duration:this._duration},newData:{position:e,duration:this._duration}}),this.seek(e)}},_.seekBackward=function(){if(u.log("seekBackward"),this._canSeek()){var e=this._position-s.VARCONST.SEEK_STEP<0?0:this._position-s.VARCONST.SEEK_STEP;this._doOptionFn(o.MEDIA_SEEK_BACKWARD,{oldData:{position:this._position,duration:this._duration},newData:{position:e,duration:this._duration}}),this.seek(e)}},_.volume=function(e){e=e>1?1:e<0?0:e,this._videoNode.volume=e,this._volume=e,0==this._volume?this.mute(!0):this.mute(!1),this._doOptionFn(o.MEDIA_VOLUME,e)},_.volumeIncrease=function(){var e=this._videoNode.volume;e=e+s.VARCONST.VOLUME_STEP>1?1:e+s.VARCONST.VOLUME_STEP,this._videoNode.volume=e,this._volume=e,this._doOptionFn(o.MEDIA_VOLUME_INCREASE,e)},_.volumeDecrease=function(){var e=this._videoNode.volume;e=e-s.VARCONST.VOLUME_STEP<0?0:e-s.VARCONST.VOLUME_STEP,this._videoNode.volume=e,this._volume=e,this._doOptionFn(o.MEDIA_VOLUME_DECREASE,e)},_.mute=function(e){this._videoNode.muted=e,this._mute=e,this._doOptionFn(o.MEDIA_MUTE,e)},_.stop=function(){this.pause(),this.clear(),this._setState(s.MEDIA_STATE.IDLE)},_.state=function(){return this._state},_.getPosition=function(){return this._position},_.isCompleted=function(){return this._videoNode.ended},_.rate=function(e){e="live"==this._cfg.mode?1:e||1,this._videoNode.defaultPlaybackRate=e,this._videoNode.playbackRate=e,this._rate=e,this._doOptionFn(o.MEDIA_RATE_CHANGE,e)},_.isBlock=function(){var e;return this._isbLastFrameCount=this._isbLastFrameCount||0,this._videoNode.webkitDecodedFrameCount?(this._isbNowFrameCount=this._videoNode.webkitDecodedFrameCount,e=this._isbNowFrameCount-this._isbLastFrameCount,this._isbLastFrameCount=this._isbNowFrameCount):this._videoNode.mozDecodedFrames&&(this._isbNowFrameCount=this._videoNode.mozDecodedFrames,e=this._isbNowFrameCount-this._isbLastFrameCount,this._isbLastFrameCount=this._isbNowFrameCount),null!=e&&e<=10},_.metaFPS=function(){return 0},_.currentFPS=function(){this._cfpsLastFrameCount=this._cfpsLastFrameCount||0;var e=0;return this._videoNode.webkitDecodedFrameCount?(this._cfpsNowFrameCount=this._videoNode.webkitDecodedFrameCount,e=this._cfpsNowFrameCount-this._cfpsLastFrameCount,this._cfpsLastFrameCount=this._cfpsNowFrameCount):this._videoNode.mozDecodedFrames&&(this._cfpsNowFrameCount=this._videoNode.mozDecodedFrames,e=this._cfpsNowFrameCount-this._cfpsLastFrameCount,this._cfpsLastFrameCount=this._cfpsNowFrameCount),e},_.currentKbps=function(){this._cfpslastByteLoaded=this._cfpslastByteLoaded||0;var e=0;return this._videoNode.webkitVideoDecodedByteCount&&(this._cfpsNowByteLoaded=this._videoNode.webkitVideoDecodedByteCount,e=this._cfpsNowByteLoaded-this._cfpslastByteLoaded,this._cfpslastByteLoaded=this._cfpsNowByteLoaded),8*e/1e3},_._canSeek=function(){return!!this._duration&&isFinite(this._duration)&&!!this._hasGetMetaData||"live"==this._cfg.mode},_._setState=function(e){this._state!=e&&(this._doOptionFn(a.MEDIA_STATE,{newState:e,oldState:this._state}),this._state=e)},_._onvideoLoadedmetadata=function(e){this._hasGetMetaData||(this._duration=this._videoNode.duration,this._videoNode.duration&&isFinite(this._videoNode.duration)||"live"==this._cfg.mode?this._doMetaReady():this._checkDuration())},_._checkDuration=function(){if(this._videoNode){var e=0;this._checkMetaTimer=setInterval(function(){++e>=50&&!this._videoNode.duration?(clearInterval(this._checkMetaTimer),this._checkMetaTimer=null,this._duration=this._movieData.duration||0,this._doMetaReady()):this._videoNode.duration&&isFinite(this._videoNode.duration)&&(clearInterval(this._checkMetaTimer),this._checkMetaTimer=null,this._duration=this._videoNode.duration,this._doMetaReady())}._$bind(this),200)}else this._checkMetaTimer&&(clearInterval(this._checkMetaTimer),this._checkMetaTimer=null)},_._doMetaReady=function(){this._hasGetMetaData=!0;var e={duration:Math.floor(this._duration),width:this._videoNode.videoWidth,height:this._videoNode.videoHeight};this._doOptionFn(o.MEDIA_META,e)},_._onvideoTimeupdate=function(e){this._videoNode.duration&&isFinite(this._videoNode.duration)&&(this._duration=this._videoNode.duration);var t={currentTime:Math.floor(this._videoNode.currentTime),duration:Math.floor(this._videoNode.duration)};this._position=t.currentTime,this._doOptionFn(o.MEDIA_TIME,t),this._state!=s.MEDIA_STATE.PAUSE&&this._state!=s.MEDIA_STATE.PLAYING&&this._setState(s.MEDIA_STATE.PLAYING),this._doOptionFn(o.MEDIA_TIME_UPDATE,t)},_._onvideoProgress=function(e){this._doOptionFn(o.MEDIA_BUFFER,{bufferPercent:this._getBufferedPercent()})},_._getBufferedPercent=function(){var e,t=this._videoNode.buffered,n=0;if(!t||t.length<1)return 0;if(t&&1==t.length)n=Math.floor(t.end(0));else{for(var i=this._videoNode.currentTime||0,r=0,o=t.length;r<o;r++)e=Math.floor(t.start(r)),i<=Math.floor(t.end(r))&&i>=e&&(n=Math.floor(t.end(r)));n||(n=Math.floor(t.end(t.length-1)))}return this._duration?n/this._duration:0},_._onvideoPlaying=function(e){this._setState(s.MEDIA_STATE.PLAYING),u.log("_onvideoPlaying")},_._onvideoPause=function(e){this._setState(s.MEDIA_STATE.PAUSE),u.log("_onvideoPause")},_._onvideoWaiting=function(e){this._setState(s.MEDIA_STATE.BUFFERING),u.log("_onvideoWaiting")},_._onvideoSeeking=function(e){u.log("_onvideoSeeking")},_._onvideoSeeked=function(e){u.log("_onvideoSeeked")},_._onx5VideoEnterFullScreen=function(){t._$setStyle(this._videoNode,"width",window.screen.width+"px"),t._$setStyle(this._videoNode,"height",window.screen.height+"px"),t._$addClassName(document.body,"z-x5-video-fullscreen")},_._onx5VideoExitFullScreen=function(){t._$setStyle(this._videoNode,"width",""),t._$setStyle(this._videoNode,"height",""),t._$delClassName(document.body,"z-x5-video-fullscreen"),t._$delClassName(document.body,"z-x5-video-fullscreen-landscape"),t._$attr(this._videoNode,"x5-video-orientation","portrait")},_._onvideoEnded=function(e){this._setState(s.MEDIA_STATE.COMPLETE)},_._onvideoError=function(e){this._checkErrorCount()&&(this.stop(),this._doOptionFn(o.MEDIA_ERROR,{code:s.ERROR_CODE.MEDIA_ERROR_VIDEO_ERROR,message:this._formatVideoNodeError(e)}))},_._formatVideoNodeError=function(e){return e.target&&e.target.error?"media error:"+e.target.error.code:null},_._checkErrorCount=function(){return!(this._errorCount<1)||(this._errorCount++,this.reload(),!1)},_.clear=function(){this._videoNode&&(this._clearVideoEvent(),this._videoParentNode.removeChild(this._videoNode),this._videoNode=null)},_._clearVideoEvent=function(){this._videoNode&&(n._$clearEvent(this._videoNode,"loadedmetadata"),n._$clearEvent(this._videoNode,"ended"),n._$clearEvent(this._videoNode,"error"),n._$clearEvent(this._videoNode,"pause"),n._$clearEvent(this._videoNode,"play"),n._$clearEvent(this._videoNode,"playing"),n._$clearEvent(this._videoNode,"progress"),n._$clearEvent(this._videoNode,"seeked"),n._$clearEvent(this._videoNode,"seeking"),n._$clearEvent(this._videoNode,"timeupdate"),n._$clearEvent(this._videoNode,"waiting"),c._$isWeixin()&&c._$isAndroid()&&this._cfg.x5Fullscreen&&(n._$clearEvent(this._videoNode,"x5videoenterfullscreen"),n._$clearEvent(this._videoNode,"x5videoexitfullscreen")))},h}),"84c66edbaac3f0e7d6c8b753c5fa2fbd","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","c0997d8c9f1e7b615be7f959fd3049c3","4caeff9df4f166646ce2a6acb243e2a1","d8227ca5ac6da601830524302cb405ea","483c4142bb086344703050c5dd156ad1","0fbc02cbf83291e1c03681700cf06139","dbf963496e3cef891778fa497cfdafd4","12f2410d79ec3fdd20eb6591308492de"),I$("ec3537c6687e823ea6c5c8b73f8adbb4",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p,h){var _=i.C(),m=_.extend(c);return m._init=function(e,t,n){this.__super(e,t,n)},m._initVideoNode=function(){this.__super()},m._setSourceNode=function(t){this._clearSourceEvent(),this._removeSourceNode(),e._$forEach(t,(function(e,t){if(e){var n=r.getVideoMIMEType(e);if(n)if(r.checkVideoCanPlay(n)){var a=i.createEl("source",{src:e,type:n.split(";")[0]});this._videoNode.appendChild(a)}else this._doOptionFn(o.MEDIA_ERROR,s.ERROR_CODE.MEDIA_ERROR_SOURCETYPE_NOT_SUPPORT);else this._doOptionFn(o.MEDIA_ERROR,s.ERROR_CODE.MEDIA_ERROR_SOURCETYPE_NOT_SUPPORT)}}),this),this._sourceNodes=i.T("source",this._videoNode),this._initSourceEvent()},m._removeSourceNode=function(){this._sourceNodes&&e._$forEach(this._sourceNodes,(function(e,t){this._videoNode.removeChild(e)}),this),this._sourceNodes=null},m._initSourceEvent=function(t){e._$forEach(this._sourceNodes,function(e,t){n._$addEvent(e,"error",this._onsourceError._$bind(this))}._$bind(this))},m.load=function(e){this.__super(e),this._setSourceNode(this._item.urls),this._videoNode.load(),(this._isNotFirst||!this._cfg.isPreload||u._$isMobileAll())&&this._catchPlay()},m.play=function(){this.__super(),this._catchPlay()},m.pause=function(){this.__super(),this._videoNode&&this._videoNode.pause()},m._seek=function(e){this.__super(e)},m._autoSeek=function(){this._canSeek()&&(this._hasAutoSeek?this._doPreloadPause():this._movieData.start>0?(this._seek(this._movieData.start),l.log("html5 video do autoseek"),this._doPreloadPause()):(this._doPreloadPause(),this._hasAutoSeek=!0))},m._doPreloadPause=function(){this._cfg.isPreload&&!this._hasDoPreload?(this._hasDoPreload=!0,this.pause()):this.play()},m._doBeforePlay=function(e){this._hasGetMetaData&&"live"!=this._cfg.mode&&(this._hasAutoSeek||!u._$isMobileAll()?!this._cfg.beforePlay||this._hasDoBeforePlay||this._state!=s.MEDIA_STATE.PLAYING||(this._hasDoBeforePlay=!0,this._doOptionFn(o.MEDIA_BEFORE_PLAY)):this._autoSeek())},m._onvideoLoadedmetadata=function(e){this.__super(e)},m._doMetaReady=function(){this.__super(),u._$isMobileAll()||this._autoSeek()},m._doPreloadAndBeforePlay=function(){if(this._hasGetMetaData&&this._hasAutoSeek&&"live"!=this._cfg.mode)return!(this._cfg.beforePlay&&!this._movieData.hasDoBeforePlay&&this._state==s.MEDIA_STATE.PLAYING)||(this._movieData.hasDoBeforePlay=!0,this._doOptionFn(o.MEDIA_BEFORE_PLAY),!1)},m._onvideoTimeupdate=function(e){this._doBeforePlay(),this.__super(e)},m._onvideoEnded=function(e){this.__super(e)},m._onvideoError=function(e){this.__super(e)},m._onvideoSeeked=function(e){this._hasAutoSeek||(this._hasAutoSeek=!0,this._isAutoSeeking=!1)},m._onsourceError=function(e){this._checkErrorCount()&&(this.stop(),this._clearCheckCurrentTime(),this._doOptionFn(o.MEDIA_ERROR,{code:s.ERROR_CODE.MEDIA_ERROR_SOURCE_ERROR,message:this._formatVideoNodeError(e)}))},m._onx5VideoEnterFullScreen=function(){t._$setStyle(this._videoNode,"width",window.screen.width+"px"),t._$setStyle(this._videoNode,"height",window.screen.height+"px"),t._$addClassName(document.body,"z-x5-video-fullscreen")},m._onx5VideoExitFullScreen=function(){t._$setStyle(this._videoNode,"width",""),t._$setStyle(this._videoNode,"height",""),t._$delClassName(document.body,"z-x5-video-fullscreen"),t._$delClassName(document.body,"z-x5-video-fullscreen-landscape"),t._$attr(this._videoNode,"x5-video-orientation","portrait")},m._checkCurrentTime=function(){this._checkCurrentTimeTimer||(this._checkCurrentTimeTimer=setInterval(this._checkToReload._$bind(this),1e4))},m._clearCheckCurrentTime=function(){this._checkCurrentTimeTimer&&(clearInterval(this._checkCurrentTimeTimer),this._checkCurrentTimeTimer=null),this._lastCheckCurrentTime=void 0},m._checkToReload=function(){var e=this._videoNode.currentTime;(e||0==e)&&(null!=this._lastCheckCurrentTime?(e==this._lastCheckCurrentTime&&0!=e&&this._state==s.MEDIA_STATE.PLAYING&&"live"==this._cfg.mode&&this.reload(),this._lastCheckCurrentTime=e):this._lastCheckCurrentTime=e)},m.clear=function(){this._videoNode&&(this._clearSourceEvent(),this._removeSourceNode()),this.__super()},m._clearSourceEvent=function(){this._sourceNodes&&e._$forEach(this._sourceNodes,function(e,t){n._$clearEvent(e,"error")}._$bind(this))},_}),"84c66edbaac3f0e7d6c8b753c5fa2fbd","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","c0997d8c9f1e7b615be7f959fd3049c3","4caeff9df4f166646ce2a6acb243e2a1","d8227ca5ac6da601830524302cb405ea","483c4142bb086344703050c5dd156ad1","0fbc02cbf83291e1c03681700cf06139","6efedc0157f87787bddd5ab16bb37c9b","dbf963496e3cef891778fa497cfdafd4","12f2410d79ec3fdd20eb6591308492de"),I$("5612a56eb84f5522e557ef0b6821dcc8",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p,h,_){var m=i.C(),v=m.extend(c);return v._init=function(e,t,n){this.__super(e,t,n)},v._initVideoNode=function(){this.__super()},v._createHls=function(e,t){var n={autoStartLoad:!0,startPosition:e};t.currentMovieItem&&t.currentMovieItem.secondaryEncrypt&&(n.loader=function(){var e=new Hls.DefaultConfig.loader(n);this.load=function(n,i,r){var o=n.type,a=r.onSuccess;r.onSuccess=function(e,i,r,s){if("manifest"==n.type&&(e.data=d.secondaryDecrypt(e.data,t.videoId),console.log("m3u8",e.data)),"manifest"!==o&&/hls\/key/.test(r.url)){var c=String.fromCharCode.apply(null,new Uint8Array(e.data));e.data=d.secondaryDecrypt(c,t.videoId,!0),console.log("hls/key",e.data)}a(e,i,n,s)},e.load(n,i,r)}}),this._hls=new Hls(n),this._hls.attachMedia(this._videoNode),this._hls.on(Hls.Events.MEDIA_ATTACHED,(function(){l.log("video and hls.js are bound")})),this._hls.on(Hls.Events.MANIFEST_PARSED,function(e,t){l.log("hls: manifest loaded, found "+t.levels.length+" quality level")}._$bind(this)),this._hls.on(Hls.Events.ERROR,function(e,t){switch(t.type){case Hls.ErrorTypes.NETWORK_ERROR:l.error("hls: fatal network error encountered, try to recover"),this._onhlsError(t.type,t.details);break;case Hls.ErrorTypes.MEDIA_ERROR:}}._$bind(this))},v._destroyHls=function(){this._hls&&(this._hls.stopLoad(),this._hls.destroy(),this._hls=null)},v.load=function(e){this.__super(e),this._hls||this._createHls(e.start,e),this._hls.loadSource(this._item.urls[0]),this._isNotFirst&&this._catchPlay()},v.play=function(){this.__super(),this._catchPlay()},v.pause=function(){this.__super(),this._videoNode&&this._videoNode.pause()},v._seek=function(e){this.__super(e)},v._doPreloadPause=function(){this._cfg.isPreload&&!this._hasDoPreload?(this._hasDoPreload=!0,this.pause()):this.play()},v._doBeforePlay=function(e){this._hasGetMetaData&&this._hasAutoSeek&&"live"!=this._cfg.mode&&(!this._cfg.beforePlay||this._hasDoBeforePlay||this._state!=s.MEDIA_STATE.PLAYING||(this._doOptionFn(o.MEDIA_BEFORE_PLAY),this._hasDoBeforePlay=!0))},v._doMetaReady=function(){this.__super(),(!this._movieData.start||this._movieData.start<0)&&(this._hasAutoSeek=!0),this._doPreloadPause()},v._onvideoTimeupdate=function(e){this._doBeforePlay(),this.__super(e)},v._onvideoEnded=function(e){this.__super(e)},v._onvideoSeeked=function(e){this._hasAutoSeek||(this._hasAutoSeek=!0)},v._onhlsError=function(e,t){this._checkErrorCount()&&(this.stop(),this._doOptionFn(o.MEDIA_ERROR,{code:s.ERROR_CODE.MEDIA_ERROR_HLS_ERROR,message:t}))},v.clear=function(){this.__super(),this._destroyHls()},m}),"84c66edbaac3f0e7d6c8b753c5fa2fbd","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","c0997d8c9f1e7b615be7f959fd3049c3","4caeff9df4f166646ce2a6acb243e2a1","d8227ca5ac6da601830524302cb405ea","483c4142bb086344703050c5dd156ad1","0fbc02cbf83291e1c03681700cf06139","6efedc0157f87787bddd5ab16bb37c9b","dbf963496e3cef891778fa497cfdafd4","12f2410d79ec3fdd20eb6591308492de","f8f69e97337317444a4914d429c4bb3e"),I$("7a0f8064ce35c5789170cb0948cd9d06",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p,h){var _=i.C(),m=_.extend(c);return m._init=function(e,t,n){this.__super(e,t,n)},m._initVideoNode=function(){this.__super()},m._createFlv=function(e){this._flvPlayer=flvjs.createPlayer({type:"flv",url:e,withCredentials:!1},{isLive:"live"==this._cfg.mode,enableStashBuffer:"live"!=this._cfg.mode,enableWorker:!0,stashInitialSize:128,seekType:"param",seekParamStart:"start",seekParamEnd:"end"}),this._flvPlayer.attachMediaElement(this._videoNode),this._flvPlayer.on(flvjs.Events.ERROR,function(e,t){this._onflvError(e,t)}._$bind(this))},m._destroyFlv=function(){this._flvPlayer&&(this._flvPlayer.unload(),this._flvPlayer.detachMediaElement(),this._flvPlayer.destroy(),this._flvPlayer=null)},m.load=function(e){this.__super(e),this._flvPlayer||this._createFlv(this._item.urls[0]),this._flvPlayer.load(),this._isNotFirst&&this._catchPlay(),this._openCheckLiveTime()},m._catchPlay=function(){if(this._flvPlayer){var e=this._flvPlayer.play();e&&e.catch&&e.then((function(){l.log("try to play success")})).catch((function(e){l.error("try to play fail")}))}},m.play=function(){this.__super(),this._catchPlay()},m.pause=function(){this.__super(),this._flvPlayer&&this._flvPlayer.pause(),this._clearCheckLiveTime()},m._seek=function(e){if(l.log("flv _seek"),this._canSeek())try{this._flvPlayer.currentTime=e}catch(e){l.log(e.message)}},m.stop=function(){this.__super(),this._clearCheckLiveTime()},m._autoSeek=function(){this._canSeek()&&(this._hasAutoSeek?this._doPreloadPause():this._movieData.start>0?(this._seek(this._movieData.start),l.log("web flv do autoseek"),this._doPreloadPause()):(this._doPreloadPause(),this._hasAutoSeek=!0))},m._doPreloadPause=function(){this._cfg.isPreload&&!this._hasDoPreload?(this._hasDoPreload=!0,this.pause()):this.play()},m._doBeforePlay=function(e){this._hasGetMetaData&&this._hasAutoSeek&&"live"!=this._cfg.mode&&(!this._cfg.beforePlay||this._hasDoBeforePlay||this._state!=s.MEDIA_STATE.PLAYING||(this._doOptionFn(o.MEDIA_BEFORE_PLAY),this._hasDoBeforePlay=!0))},m._onvideoEnded=function(e){this.__super(e),this._clearCheckLiveTime()},m._doMetaReady=function(){this.__super(),this._autoSeek()},m._onvideoTimeupdate=function(e){this._doBeforePlay(),this.__super(e)},m._onvideoSeeked=function(e){this._hasAutoSeek||(this._hasAutoSeek=!0)},m._onflvError=function(e,t){this._checkErrorCount()&&(this.stop(),this._doOptionFn(o.MEDIA_ERROR,{code:s.ERROR_CODE.MEDIA_ERROR_FLV_ERROR,message:e+"_"+t}))},m.clear=function(){this.__super(),this._destroyFlv()},m._openCheckLiveTime=function(){"live"==this._cfg.mode&&(this._checkLiveTimeTimer||(this._checkLiveTimeTimer=setInterval(this._checkLiveBuffer._$bind(this),1e3)))},m._clearCheckLiveTime=function(){this._checkLiveTimeTimer&&(clearInterval(this._checkLiveTimeTimer),this._checkLiveTimeTimer=null)},m._checkLiveBuffer=function(){if(this._videoNode&&this._state!=s.MEDIA_STATE.PAUSE){var e=this._videoNode.buffered.length>0?this._videoNode.buffered.end(0)-this._videoNode.currentTime:0;console.log("cur bufferTime:"+e);var t=this._doFirstCheckBuffer?2.5:1;e>t&&(console.log("buffer time > "+t),this._videoNode.currentTime=this._videoNode.buffered.end(0)-.1,this._doFirstCheckBuffer=!0)}},m._setPlaySpeed=function(){!this._setSpeedTimer&&this._videoNode&&this._state!=s.MEDIA_STATE.PAUSE&&(this._setSpeedTimer=setInterval(function(){this._state!=s.MEDIA_STATE.PAUSE?this._videoNode.buffered.length>0&&this._videoNode.buffered.end(0)-this._videoNode.currentTime>.5&&(this._videoNode.currentTime+=.1,this._videoNode.buffered.length>0&&this._videoNode.buffered.end(0)-this._videoNode.currentTime<.5&&(clearInterval(this._setSpeedTimer),this._setSpeedTimer=null,console.log("speed normal"))):(clearInterval(this._setSpeedTimer),this._setSpeedTimer=null)}._$bind(this),100))},_}),"84c66edbaac3f0e7d6c8b753c5fa2fbd","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","c0997d8c9f1e7b615be7f959fd3049c3","4caeff9df4f166646ce2a6acb243e2a1","d8227ca5ac6da601830524302cb405ea","483c4142bb086344703050c5dd156ad1","0fbc02cbf83291e1c03681700cf06139","6efedc0157f87787bddd5ab16bb37c9b","dbf963496e3cef891778fa497cfdafd4","12f2410d79ec3fdd20eb6591308492de"),I$("9e0b17f3257e54f8fafbf770569013f8",(function(e,t,n,i,r,o,a){function s(e,t){a._$loadScript(e,{onload:t})}return function(r,o,a,c,u){var l;if("mp4"==o.currentMovieItem.fileType)l=new e(r,a,c);else if("hls"==o.currentMovieItem.fileType)if(i._$isMobileAll()&&!i._$isAndroid())l=new e(r,a,c);else{if(!window.Hls)return void s("//edu-cms.nosdn.127.net/topics/js/eduosvideoplayer_5819d0d6029dafaf17672967aca86de4.js",(function(){l=new t(r,a,c),u&&u(l)}));l=new t(r,a,c)}else if("flv"==o.currentMovieItem.fileType){if(!window.flvjs)return void s("//edu-cms.nosdn.127.net/topics/js/flv.min_ac66b3439c4eb065c80223543aba7a9d.js",(function(){l=new n(r,a,c),u&&u(l)}));l=new n(r,a,c)}u&&u(l)}}),"ec3537c6687e823ea6c5c8b73f8adbb4","5612a56eb84f5522e557ef0b6821dcc8","7a0f8064ce35c5789170cb0948cd9d06","dbf963496e3cef891778fa497cfdafd4","4caeff9df4f166646ce2a6acb243e2a1","0fbc02cbf83291e1c03681700cf06139","9c49038bdd535c7f77e4e6959a89b977"),I$("6769750a18197b91e43a4494c7a62e32",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p){var h=t.C();h.NAME="mainVideoComponent";var _=h.extend(o);return _._init=function(e,t){return this.__super(e,t),this._bodyNode=r._$getByClassName(this._rootNode,"j-mainVideo")[0],this},_._getTpl=function(){return e},_.listNotificationInterests=function(){return[s.MOVIEDATA_NEW,s.MOVIEDATA_READY,s.MOVIEDATA_CURRENT_ITEM_CHANGE,s.MOVIEDATA_CURRENT_CDN_CHANGE,s.VIEW_LOAD,s.VIEW_RELOAD,s.VIEW_PLAY,s.VIEW_PAUSE,s.VIEW_SEEK,s.VIEW_SEEK_FORWARD,s.VIEW_SEEK_BACKWARD,s.VIEW_VOLUME,s.VIEW_VOLUME_INCREASE,s.VIEW_VOLUME_DECREASE,s.VIEW_MUTE,s.VIEW_RATE,s.VIEW_CDN]},_.handleNotification=function(e){switch(this.__super(e),e.getName()){case s.MOVIEDATA_NEW:this._handleMoviedataNew(e.getBody());break;case s.MOVIEDATA_READY:this._handleMoviedataReady(e.getBody());break;case s.MOVIEDATA_CURRENT_ITEM_CHANGE:this._handleMoviedataCurrentItemChange(e.getBody());break;case s.MOVIEDATA_CURRENT_CDN_CHANGE:this._handleMoviedataCurrentCdnChange(e.getBody());break;case s.VIEW_LOAD:this._handleViewLoad(e.getBody());break;case s.VIEW_RELOAD:this._handleViewReLoad(e.getBody());break;case s.VIEW_PLAY:this._handleViewPlay(e.getBody());break;case s.VIEW_PAUSE:this._handleViewPause(e.getBody());break;case s.VIEW_SEEK:this._handleViewSeek(e.getBody());break;case s.VIEW_SEEK_FORWARD:this._handleViewSeekForward(e.getBody());break;case s.VIEW_SEEK_BACKWARD:this._handleViewSeekBackward(e.getBody());break;case s.VIEW_VOLUME:this._handleViewVolume(e.getBody());break;case s.VIEW_VOLUME_INCREASE:this._handleViewVolumeIncrease(e.getBody());break;case s.VIEW_VOLUME_DECREASE:this._handleViewVolumeDecrease(e.getBody());break;case s.VIEW_MUTE:this._handleViewMute(e.getBody());break;case s.VIEW_RATE:this._handleViewRate(e.getBody())}},_.createMediaIns=function(e){var t={};t[u.MEDIA_STATE]=this._mediaStateEventHandler._$bind(this),n._$forIn(c,function(e,n){t[e]=this._mediaEventHandler._$bind(this)}._$bind(this),this),a(this._bodyNode,this._movieData,this._config,t,e)},_._mediaStateEventHandler=function(e){this.sendNotification(s.MAINVIDEO_STATE,e.data)},_._mediaEventHandler=function(e){switch(e.type){case c.MEDIA_VIDEO_READY:this.sendNotification(s.MAINVIDEO_VIDEO_READY,e.data);break;case c.MEDIA_BEFORE_LOAD:this.sendNotification(s.MAINVIDEO_BEFORE_LOAD,e.data);break;case c.MEDIA_START_LOAD:this.sendNotification(s.MAINVIDEO_START_LOAD,e.data);break;case c.MEDIA_META:this.sendNotification(s.MAINVIDEO_META,e.data);break;case c.MEDIA_BEFORE_PLAY:this.sendNotification(s.MAINVIDEO_BEFORE_PLAY,e.data);break;case c.MEDIA_QUALITY_CHANGE:this.sendNotification(s.MAINVIDEO_QUALITY_CHANGE,e.data);break;case c.MEDIA_RATE_CHANGE:this.sendNotification(s.MAINVIDEO_RATE_CHANGE,e.data);break;case c.MEDIA_BUFFER:this.sendNotification(s.MAINVIDEO_BUFFER,e.data);break;case c.MEDIA_BUFFER_FULL:this.sendNotification(s.MAINVIDEO_BUFFER_FULL,e.data);break;case c.MEDIA_TIME:this.sendNotification(s.MAINVIDEO_TIME,e.data);break;case c.MEDIA_ERROR:this.sendNotification(s.MAINVIDEO_ERROR,e.data);break;case c.MEDIA_VOLUME:this.sendNotification(s.MAINVIDEO_VOLUME,e.data);break;case c.MEDIA_VOLUME_INCREASE:this.sendNotification(s.MAINVIDEO_VOLUME_INCREASE,e.data);break;case c.MEDIA_VOLUME_DECREASE:this.sendNotification(s.MAINVIDEO_VOLUME_DECREASE,e.data);break;case c.MEDIA_MUTE:this.sendNotification(s.MAINVIDEO_MUTE,e.data);break;case c.MEDIA_SEEK:this.sendNotification(s.MAINVIDEO_SEEK,e.data);break;case c.MEDIA_SEEK_FORWARD:this.sendNotification(s.MAINVIDEO_SEEK_FORWARD,e.data);break;case c.MEDIA_SEEK_BACKWARD:this.sendNotification(s.MAINVIDEO_SEEK_BACKWARD,e.data);break;case c.MEDIA_TIME_UPDATE:this.sendNotification(s.MAINVIDEO_TIMEUPDATE,e.data)}},_._handleMoviedataNew=function(e){},_._handleMoviedataReady=function(e){this._movieData=e,this._videoMediaIns&&(this._videoMediaIns.clear(),this._videoMediaIns=null),this.createMediaIns(function(e){this._videoMediaIns=e,this._config.autoStart||this._config.isPreload?this._videoMediaIns.load(this._movieData):this._videoMediaIns.setMovieData(this._movieData)}._$bind(this))},_._handleMoviedataCurrentItemChange=function(e){this._movieData=e,this._videoMediaIns.reload(this._movieData)},_._handleMoviedataCurrentCdnChange=function(e){this._movieData=e,this._videoMediaIns.reload(this._movieData)},_._handleViewLoad=function(e){this._movieData&&this._videoMediaIns.load(this._movieData)},_._handleViewReLoad=function(e){this._movieData&&this._videoMediaIns.reload(this._movieData)},_._handleViewPlay=function(e){this._videoMediaIns.play()},_._handleViewPause=function(e){this._videoMediaIns.pause(e)},_._handleViewSeek=function(e){this._videoMediaIns.seek(e)},_._handleViewSeekForward=function(e){this._videoMediaIns.seekForward(e)},_._handleViewSeekBackward=function(e){this._videoMediaIns.seekBackward(e)},_._handleViewVolume=function(e){this._videoMediaIns.volume(e)},_._handleViewVolumeIncrease=function(e){this._videoMediaIns.volumeIncrease(e)},_._handleViewVolumeDecrease=function(e){this._videoMediaIns.volumeDecrease(e)},_._handleViewMute=function(e){this._videoMediaIns.mute(e)},_._handleViewRate=function(e){this._videoMediaIns.rate(e)},_.onRemove=function(){this.__super(),this._videoMediaIns&&(this._videoMediaIns.stop(),this._videoMediaIns=null)},_.getVideoNode=function(){return this._videoMediaIns.getVideoNode()},_.play=function(){this._videoMediaIns.play()},_.pause=function(){this._videoMediaIns.pause()},_.seek=function(e){this._videoMediaIns.seek(e)},_.stop=function(){this._videoMediaIns.stop()},_.pause=function(){this._videoMediaIns.pause()},_.getPosition=function(){return this._videoMediaIns.getPosition()},_.getState=function(){return this._videoMediaIns.state()},_.isBlock=function(){return this._videoMediaIns.isBlock()},_.metaFPS=function(){return this._videoMediaIns.metaFPS()},_.currentFPS=function(){return this._videoMediaIns.currentFPS()},_.currentKbps=function(){return this._videoMediaIns.currentKbps()},h}),"d0ef9b1d5fbf1e0852e1b87426792552","c0997d8c9f1e7b615be7f959fd3049c3","84c66edbaac3f0e7d6c8b753c5fa2fbd","c0c334bf3ca5fbd97535793ddce3d534","0648e0c0c5aea01ad6e22f1aaa3f76a3","511b1e441b88674648f89c3b3b44a82d","9e0b17f3257e54f8fafbf770569013f8","4d14fe09a1f8c33087e0788a0b080a10","d8227ca5ac6da601830524302cb405ea","483c4142bb086344703050c5dd156ad1"),I$("eb0faf66ae458993b87a7f50bf732fb8",(function(e,t,n,i,r,o,a,s){var c=e.C();c.NAME="apiComponent";var u=c.extend(t);return u._init=function(e,t){this.__super(e,t),this._initExternalFunc()},u.listNotificationInterests=function(){return[n.MAINVIDEO_START_LOAD,n.MAINVIDEO_STATE,n.MAINVIDEO_META,n.MAINVIDEO_ERROR,n.VIEW_PLAY,n.VIEW_PAUSE,n.VIEW_SEEK,n.MAINVIDEO_SEEK_FORWARD,n.MAINVIDEO_SEEK_BACKWARD,n.MAINVIDEO_VOLUME,n.MAINVIDEO_MUTE,n.VIEW_QUALITY,n.VIEW_CDN,n.VIEW_CAPTION_SELECT,n.VIEW_ANCHOR,n.VIEW_RATE,n.BOX_FULLSCREEN_CHANGE,n.MAINVIDEO_TIMEUPDATE]},u.handleNotification=function(e){switch(this.__super(e),e.getName()){case n.MAINVIDEO_START_LOAD:this._handleVideoStartLoad(e.getBody());break;case n.MAINVIDEO_STATE:this._handleVideoState(e.getBody());break;case n.MAINVIDEO_META:this._handleVideoMeta(e.getBody());break;case n.MAINVIDEO_ERROR:this._handleVideoError(e.getBody());break;case n.VIEW_PLAY:this._handleViewClickPlay(e.getBody());break;case n.VIEW_PAUSE:this._handleViewClickPause(e.getBody());break;case n.VIEW_SEEK:this._handleViewSeek(e.getBody());break;case n.MAINVIDEO_SEEK_FORWARD:case n.MAINVIDEO_SEEK_BACKWARD:this._handleViewSeekWard(e.getBody());break;case n.VIEW_RATE:this._handleViewRateChange(e.getBody());break;case n.MAINVIDEO_VOLUME:this._handleViewVolume(e.getBody());break;case n.MAINVIDEO_MUTE:this._handleViewMute(e.getBody());break;case n.VIEW_QUALITY:this._handleViewQuality(e.getBody());break;case n.VIEW_CDN:this._handleViewCdn(e.getBody());break;case n.VIEW_CAPTION_SELECT:this._handleViewCaption(e.getBody());break;case n.VIEW_ANCHOR:this._handleViewAnchor(e.getBody());break;case n.BOX_FULLSCREEN_CHANGE:this._handleFullscreenChange(e.getBody());break;case n.MAINVIDEO_TIMEUPDATE:this._handleTimeupdate(e.getBody())}},u._handleVideoStartLoad=function(e){var t={type:e.movieData.currentMovieItem.fileType,url:e.movieData.currentMovieItem.urls[0],quality:e.movieData.currentMovieItem.quality,encrypt:e.movieData.currentMovieItem.encrypt};this._config.onStartLoad&&this._config.onStartLoad(t)},u._handleVideoState=function(e){switch(e.newState){case i.MEDIA_STATE.PAUSE:this._config.onPause&&this._config.onPause(e);break;case i.MEDIA_STATE.PLAYING:this._config.onPlay&&this._config.onPlay(e);break;case i.MEDIA_STATE.COMPLETE:this._config.onPlayEnd&&this._config.onPlayEnd(e);break;case i.MEDIA_STATE.BUFFERING:this._config.onBuffering&&this._config.onBuffering(e)}},u._handleVideoMeta=function(e){this._config.onMeta&&this._config.onMeta(e)},u._handleVideoError=function(e){this._config.onError&&this._config.onError(e)},u._handleViewClickPlay=function(e){this._config.onPlayClick&&this._config.onPlayClick(e)},u._handleViewClickPause=function(e){e=e||this._getComponent("mainVideoComponent").getPosition()||0,this._config.onPauseClick&&this._config.onPauseClick(e)},u._handleViewSeek=function(e){this._config.onSeek&&this._config.onSeek(e)},u._handleViewSeekWard=function(e){this._config.onSeek&&this._config.onSeek({oldData:e.oldData.position,newData:e.newData.position})},u._handleViewVolume=function(e){this._config.onChangeVolume&&this._config.onChangeVolume(e)},u._handleViewRateChange=function(e){this._config.onChangeRate&&this._config.onChangeRate(e)},u._handleViewMute=function(e){this._config.onMute&&this._config.onMute(e)},u._handleViewQuality=function(e){this._config.onSelectResolution&&this._config.onSelectResolution(e)},u._handleViewCdn=function(e){this._config.onChangeCDN&&this._config.onChangeCDN(e)},u._handleViewCaption=function(e){this._config.onSelectCaption&&this._config.onSelectCaption(e)},u._handleViewAnchor=function(e){this._config.onAnchorPoint&&this._config.onAnchorPoint(e)},u._handleFullscreenChange=function(e){this._config.onFullscreenChange&&this._config.onFullscreenChange(e)},u._handleTimeupdate=function(e){this._config.onTimeupdate&&this._config.onTimeupdate(e)},u._getComponent=function(e){return this._container.retrieveComponent(e)},u._initExternalFunc=function(){this._player.load=function(e){this._getComponent("movieData").setData(e)}._$bind(this),this._player.stop=function(){this._getComponent("mainVideoComponent").stop()}._$bind(this),this._player.resume=function(){this._getComponent("mainVideoComponent").play()}._$bind(this),this._player.pause=function(){this._getComponent("mainVideoComponent").pause()}._$bind(this),this._player.getPosition=function(){return this._getComponent("mainVideoComponent").getPosition()||0}._$bind(this),this._player.seek=function(e){this._getComponent("mainVideoComponent").seek(e)}._$bind(this),this._player.getState=function(){return this._getComponent("mainVideoComponent").getState()}._$bind(this),this._player.getStateInfo=function(){var e={},t=this._getComponent("mainVideoComponent"),n=this._getComponent("movieData");if(e.status=t.getState(),e.position=t.getPosition(),e.quality={name:n.currentMovieItem.qualityName,quality:n.currentMovieItem.quality},n.captionData&&n.captionData.data&&n.captionData.data.length){e.caption=[];for(var i=0;i<n.captionData.data.length;i++){var r=n.captionData.data[i];e.caption.push({index:r.index,url:r.url,isSelect:r.isSelect,name:r.name,isDisable:!r.url})}}return e}._$bind(this),this._player.getLog=function(){return this._getComponent("logComponent").getLog()}._$bind(this),this._player.exitFullScreen=function(){return this._getComponent("boxComponent")._existfullScreen()}._$bind(this),this._player.getVideoNode=function(){return this._getComponent("mainVideoComponent").getVideoNode()}._$bind(this),this._player.isBlock=function(){return this._getComponent("mainVideoComponent").isBlock()}._$bind(this),this._player.metaFPS=function(){return this._getComponent("mainVideoComponent").metaFPS()}._$bind(this),this._player.currentFPS=function(){return this._getComponent("mainVideoComponent").currentFPS()}._$bind(this),this._player.currentKbps=function(){return this._getComponent("mainVideoComponent").currentKbps()}._$bind(this)},c}),"c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139"),I$("8be063cd8ef8d5a270ce0d11540f524c",'<div class="u-edu-h5player-log f-pa j-log">\n    <a class="u-edu-h5player-log_close f-pa j-close">[X]</a>\n    <p class="j-content"></p>\n</div>\n'),I$("488974a3681ac94be3ab64c04f7ef0ad",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p){var h=r.C();h.NAME="logComponent";var _=h.extend(o);return _._init=function(e,t){this.__super(e,t),this._bodyNode=n._$getByClassName(this._rootNode,"j-log")[0],this._contentNode=n._$getByClassName(this._bodyNode,"j-content")[0],this._closeNode=n._$getByClassName(this._bodyNode,"j-close")[0],i._$addEvent(this._closeNode,"click",this._hideLog._$bind(this))},_._getTpl=function(){return e},_.listNotificationInterests=function(){return[a.LOG,a.MAINVIDEO_START_LOAD,a.MAINVIDEO_STATE,a.MAINVIDEO_META,a.VIEW_PLAY,a.VIEW_PAUSE,a.MAINVIDEO_ERROR,a.VIEW_SHOW_LOG]},_.handleNotification=function(e){switch(this.__super(e),e.getName()){case a.LOG:this._handleCustomLog(e.getBody());break;case a.MAINVIDEO_START_LOAD:this._handleVideoStartLoad(e.getBody());break;case a.MAINVIDEO_STATE:this._handleVideoState(e.getBody());break;case a.MAINVIDEO_META:this._handleVideoMeta(e.getBody());break;case a.VIEW_PLAY:this._handleViewClickPlay(e.getBody());break;case a.VIEW_PAUSE:this._handleViewClickPause(e.getBody());break;case a.MAINVIDEO_ERROR:this._handleVideoError(e.getBody());break;case a.VIEW_SHOW_LOG:this._handleShowLog(e.getBody())}},_._handleCustomLog=function(e){this.log(e.content,e.type)},_._handleVideoStartLoad=function(e){this.log("onNewMovie, url:"+e.movieData.currentMovieItem.urls[0]+", quality:"+e.movieData.currentMovieItem.quality)},_._handleVideoState=function(e){switch(e.newState){case s.MEDIA_STATE.IDLE:this.log("onIdle");break;case s.MEDIA_STATE.PLAYING:this.log("onPlay");break;case s.MEDIA_STATE.COMPLETE:this.log("onEnd");break;case s.MEDIA_STATE.PAUSE:this.log("onPause")}},_._handleVideoMeta=function(e){this.log("get video meta, duration:"+e.duration)},_._handleViewClickPlay=function(e){},_._handleViewClickPause=function(e){},_._handleVideoError=function(e){this.log(e,"error")},_._handleShowLog=function(e){n._$addClassName(this._bodyNode,"z-show"),this._contentNode.innerHTML=this.getLog().replace(/\n/g,"<br>")},_._hideLog=function(e){n._$delClassName(this._bodyNode,"z-show")},_.log=function(e,t){c.log(e,t)},_.error=function(e){c.error(e)},_.getLog=function(){return c.getLog()},h}),"8be063cd8ef8d5a270ce0d11540f524c","84c66edbaac3f0e7d6c8b753c5fa2fbd","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","12f2410d79ec3fdd20eb6591308492de","dbf963496e3cef891778fa497cfdafd4"),I$("6cdc572ec299f6039e790961c08e2401",'<div class="u-edu-h5player-pcdisplay f-pa j-display">\n    <div class="bbg"></div>\n    <a class="statewrap f-pa j-statewrap">\n        <div class="sbg"></div>\n        <div class="buffering f-pa j-buffering"></div>\n        <div class="replay f-pa j-replay">\n            <div class="ic"></div>\n            <p class="txt">${lang.KEY_VIDEO_REPLY}</p>\n        </div>\n    </a>\n</div>\n'),I$("cf52f713919633d1230f16d736275369",(function(e,t,n,i,r,o,a,s,c,u,l,d){var f=t.C();f.NAME="videoDisplayComponent";var p=f.extend(n);return p._init=function(e,t){return this.__super(e,t),this._bodyNode=i._$getByClassName(this._rootNode,"j-display")[0],this._statewrapNode=i._$getByClassName(this._bodyNode,"j-statewrap")[0],this._replayNode=i._$getByClassName(this._bodyNode,"j-replay")[0],this._bufferingNode=i._$getByClassName(this._bodyNode,"j-buffering")[0],this._initEvent(),this._canShowState=!0,this},p._getTpl=function(){return e},p.listNotificationInterests=function(){return[o.MAINVIDEO_STATE,o.MOVIEDATA_NEW,o.VIDEO_CONTROL_SHOW,o.VIDEO_CONTROL_HIDE]},p.handleNotification=function(e){switch(this.__super(e),e.getName()){case o.MOVIEDATA_NEW:this._handleNewmovie(e.getBody());break;case o.MAINVIDEO_STATE:this._handleVideoState(e.getBody());break;case o.VIDEO_CONTROL_SHOW:i._$delClassName(this._bodyNode,"f-cn");break;case o.VIDEO_CONTROL_HIDE:i._$addClassName(this._bodyNode,"f-cn")}},p._handleNewmovie=function(){this._showLoading()},p._handleVideoState=function(e){switch(this._state=e.newState,this._state){case a.MEDIA_STATE.IDLE:this._showIDLE();break;case a.MEDIA_STATE.PAUSE:this._showPause();break;case a.MEDIA_STATE.PLAYING:this._showPlaying();break;case a.MEDIA_STATE.BUFFERING:this._showLoading();break;case a.MEDIA_STATE.COMPLETE:this._showReplay()}},p._showIDLE=function(){this._statewrapNode.style.display="none"},p._showPlaying=function(){this._statewrapNode.style.display="none"},p._showLoading=function(){this._statewrapNode.style.display="block",this._replayNode.style.display="none",this._loadingInter&&clearInterval(this._loadingInter),this._loadingInter=setInterval(function(){this._loadingRotate||(this._loadingRotate=0),this._loadingRotate=this._loadingRotate>=7?0:++this._loadingRotate;var e="rotate("+45*this._loadingRotate+"deg)";this._bufferingNode.style.display="block",this._bufferingNode.style["-moz-transform"]=e,this._bufferingNode.style["-o-transform"]=e,this._bufferingNode.style["-ms-transform"]=e,this._bufferingNode.style.webkitTransform=e}._$bind(this),50)},p._hideLoading=function(){this._loadingInter&&clearInterval(this._loadingInter),this._bufferingNode.style.display="none"},p._showReplay=function(){"live"==this._config.mode||(this._statewrapNode.style.display="block",this._replayNode.style.display="block",this._hideLoading())},p._showPause=function(){this._statewrapNode.style.display="none",this._hideLoading(),this._replayNode.style.display="none"},p._initEvent=function(){r._$addEvent(this._bodyNode,"click",this._onClickDisplay._$bind(this)),r._$addEvent(this._bodyNode,"dblclick",this._ondblClickDisplay._$bind(this))},p._onClickDisplay=function(){s._$isMobileAll()||(this._isDblClick=!1,setTimeout(function(){if(!this._isDblClick&&this._state)switch(this._state){case a.MEDIA_STATE.IDLE:break;case a.MEDIA_STATE.COMPLETE:case a.MEDIA_STATE.PAUSE:this.sendNotification(o.VIEW_PLAY);break;case a.MEDIA_STATE.PLAYING:this.sendNotification(o.VIEW_PAUSE)}}._$bind(this),200))},p._ondblClickDisplay=function(){this._isDblClick=!0,this.sendNotification(o.VIEW_FULLSCREEN)},f}),"6cdc572ec299f6039e790961c08e2401","c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","dbf963496e3cef891778fa497cfdafd4"),I$("83bbdf4cfa926e0cba67ca6e9febd349",'<div class="u-edu-h5player-cover f-pa j-cover">\n    <img class="cimg f-pa j-coverimg">\n    <a class="playbtnwrap f-pa">\n        <div class="cbg"></div>\n        <div class="playbtn f-pa"></div>\n    </a>\n</div>\n'),I$("8cc2b30af7cc843b2fd34c4951611b3e",'<div class="u-edu-h5player-mobilecover f-pa j-cover">\n    <img class="cimg f-pa j-coverimg">\n    <a class="playbtn f-pa"></a>\n</div>\n'),I$("dfd4362da444b94524652e6d20ca9a04",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p){var h=n.C();h.NAME="videoCoverComponent";var _=h.extend(i);return _._init=function(e,t){return this.__super(e,t),this._bodyNode=r._$getByClassName(this._rootNode,"j-cover")[0],this._coverimgNode=r._$getByClassName(this._bodyNode,"j-coverimg")[0],this._initEvent(),this},_._getTpl=function(){return c.isMobileNotIncludeIPad()?t:e},_.listNotificationInterests=function(){return[a.MOVIEDATA_READY,a.MAINVIDEO_STATE]},_.handleNotification=function(e){switch(this.__super(e),e.getName()){case a.MOVIEDATA_READY:this._handleReady(e.getBody());break;case a.MAINVIDEO_STATE:this._handleVideoState(e.getBody())}},_._handleReady=function(e){this._config.autoStart||this._config.isPreload||(this._bodyNode.style.display="block",e.posterUrl&&setTimeout(function(){this._loadCover(e.posterUrl)}._$bind(this),0))},_._handleVideoState=function(e){switch(e.newState){case s.MEDIA_STATE.PLAYING:case s.MEDIA_STATE.BUFFERING:this._bodyNode.style.display="none"}},_._initEvent=function(){u._$isMobileAll()&&window.Hammer?new Hammer(this._bodyNode).on("tap",this._onTapCover._$bind(this)):o._$addEvent(this._bodyNode,"click",this._onClickCover._$bind(this))},_._onClickCover=function(){this._bodyNode.style.display="none",this.sendNotification(a.VIEW_LOAD)},_._onTapCover=function(){var e=navigator.connection?navigator.connection.type:null;e&&"cellular"==e?confirm("正在使用移动网络，播放可能会产生流量费用，是否继续？")&&(this._bodyNode.style.display="none",this.sendNotification(a.VIEW_LOAD)):(this._bodyNode.style.display="none",this.sendNotification(a.VIEW_LOAD))},_._loadCover=function(e){c.imgReady(e,(function(){}),this._cbloadCover._$bind(this))},_._cbloadCover=function(e){var t,n,i,o,a;(i=this._bodyNode.offsetWidth)/(o=this._bodyNode.offsetHeight)>=(a=e.width/e.height)?t=(n=o)*a:n=(t=i)/a,r._$setStyle(this._coverimgNode,"width",t+"px"),r._$setStyle(this._coverimgNode,"height",n+"px"),r._$setStyle(this._coverimgNode,"margin-left","-"+t/2+"px"),r._$setStyle(this._coverimgNode,"margin-top","-"+n/2+"px"),this._coverimgNode.src=e.src},h}),"83bbdf4cfa926e0cba67ca6e9febd349","8cc2b30af7cc843b2fd34c4951611b3e","c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","4caeff9df4f166646ce2a6acb243e2a1","dbf963496e3cef891778fa497cfdafd4"),I$("207960e23a95f07c00e7d3dd92eac60f",'<div class="u-edu-h5player-error f-pa j-error">\n    <div class="emid">\n        <div class="f-ib eic"></div>\n        <span class="f-ib j-error-txt"></span>\n    </div>\n</div>\n'),I$("7622f2cf0eed8f3dfddec63b6a854c55",'<div class="u-edu-h5player-mobileerror f-pa j-error">\n    <div class="emid">\n        <div class="f-ib eic"></div>\n        <span class="f-ib j-error-txt"></span>\n    </div>\n</div>\n'),I$("e1052841e7e25c5ddf46aeb5adb1f62c",(function(e,t,n,i,r,o,a){function s(t){var i={dep:document.body,type:1,klass:"",list:[{selected:!0,value:"item",data:null}],onSelect:function(e){}},r=null,o="",a=null,s="",c=function(){var e=!0;return function(t){return!(!t.selected||!e)&&(e=!1,!0)}}();t=n._$merge({},i,t),this.opts=t,this.list=this.opts.list,this.type=this.opts.type,this.crtSelData=null,this.crtSelElem=null,this.preSelData=null,this.preSelElem=null,this.mouseenterCb=null,this.mouseleaveCb=null,this.rootNode=null,this.rootNode=e._$create("div","m-popover "+(2==this.type?"m-popover-multi ":"")+t.klass,t.dep),r=e._$create("ul","",this.rootNode),2==this.type&&(this.crtSelData=[]);for(var u=0;u<t.list.length;u++)a=t.list[u],(2==this.type?a.selected:c(a))?(2==this.type?this.crtSelData.push[a.data]:this.crtSelData=a.data,s='class="item z-sel"'):s='class="item"',o+="<li "+s+' data-index="'+u+'">'+a.value+"</li>",s="";r.innerHTML=o,2!==this.type&&(this.crtSelElem=e._$getByClassName(r,"z-sel")[0]),this._initEvent()}var c;return(c=s.prototype)._initEvent=function(){function n(t){for(var n=[],r=0;r<t.length;r++)n.push(i.list[e._$dataset(t[r],"index")].data);return n}var i=this,r=this.opts;this.mouseenterCb=function(){e._$addClassName(i.rootNode,"z-show")},this.mouseleaveCb=function(){e._$delClassName(i.rootNode,"z-show")},t._$addEvent(r.dep,"mouseenter",this.mouseenterCb),t._$addEvent(r.dep,"mouseleave",this.mouseleaveCb),2==this.type?t._$addEvent(this.rootNode,"click",(function(o){var a=t._$getElement(o),s={};"LI"==a.nodeName.toUpperCase()&&(s.data=r.list[e._$dataset(a,"index")].data,i.preSelData=n(e._$getByClassName(i.rootNode,"z-sel")),e._$hasClassName(a,"z-sel")?(s.name="unSelect",e._$delClassName(a,"z-sel")):(s.name="select",e._$addClassName(a,"z-sel")),i.crtSelData=n(e._$getByClassName(i.rootNode,"z-sel")),r.onSelect(i.crtSelData,i.preSelData,s))})):t._$addEvent(this.rootNode,"click",(function(n){var o=t._$getElement(n);if("LI"==o.nodeName.toUpperCase()){if(o==i.crtSelElem)return;i.preSelElem=i.crtSelElem,i.crtSelElem=o,i.preSelData=i.crtSelData,i.crtSelData=r.list[+e._$dataset(i.crtSelElem,"index")].data,e._$delClassName(i.preSelElem,"z-sel"),e._$addClassName(i.crtSelElem,"z-sel"),r.onSelect(i.crtSelData,i.preSelData)}}))},c.select=function(t,n){var i=-1,r=null;void 0===n&&(n=!0);for(var o,a=0;a<this.list.length;a++)if(o=this.list[a],t.call(this,o,a,this.list)){r=o.data,i=a;break}if(-1!=i){if(this.crtSelData==r)return;return this.preSelElem=this.crtSelElem,this.crtSelElem=e._$getByClassName(this.rootNode,"item")[i],this.preSelData=this.crtSelData,this.crtSelData=r,e._$delClassName(this.preSelElem,"z-sel"),e._$addClassName(this.crtSelElem,"z-sel"),n&&this.opts.onSelect(this.crtSelData,this.preSelData),this.crtSelData}},c.destroy=function(){e._$remove(this.rootNode),t._$delEvent(this.opts.dep,"mouseenter",this.mouseenterCb),t._$delEvent(this.opts.dep,"mouseleave",this.mouseleaveCb)},s}),"0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","84c66edbaac3f0e7d6c8b753c5fa2fbd"),I$("7e8ffe3c89fc691f9ce8412114c658db",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p,h,_){var m=o.C();m.NAME="errorComponent";var v=m.extend(a);return v._init=function(e,t){return this.__super(e,t),this._expireTime=(new Date).getTime()+144e5,this._bodyNode=n._$getByClassName(this._rootNode,"j-error")[0],this._errorTxtNode=n._$getByClassName(this._bodyNode,"j-error-txt")[0],this},v._getTpl=function(){return u._$isMobileAll()?t:e},v.listNotificationInterests=function(){return[s.MOVIEDATA_READY,s.MAINVIDEO_START_LOAD,s.MOVIEDATA_ERROR,s.MAINVIDEO_ERROR]},v.handleNotification=function(e){switch(this.__super(e),e.getName()){case s.MOVIEDATA_READY:this._handleMoviedataReady(e.getBody());break;case s.MAINVIDEO_START_LOAD:this._handleMainvideoStartLoad(e.getBody());break;case s.MOVIEDATA_ERROR:this._showError(e.getBody(),!0);break;case s.MAINVIDEO_ERROR:this._showError(e.getBody())}},v._buidView=function(){},v._initEvent=function(){if(this._reloadBtnNode=n._$getByClassName(this._bodyNode,"j-error-reload")[0],this._reloadBtnNode)if(window.Hammer){new Hammer(this._reloadBtnNode).on("tap",this._onClickReload._$bind(this))}else i._$addEvent(this._reloadBtnNode,"click",this._onClickReload._$bind(this))},v._handleMoviedataReady=function(e){"live"==this._config.mode&&(this._lines=e.lines)},v._handleMainvideoStartLoad=function(e){this._bodyNode.style.display="none"},v._onClickReload=function(){window.location.reload()},v._showError=function(e,t){r._$isObject(e)&&(e=e.code);var i=c.ERROR_TXT[e+""]+"[code:"+e+"]",o=Number(e)>6&&this._lines&&this._lines.length>1,a=Number(e)>6;(new Date).getTime()>=this._expireTime&&"live"!=this._config.mode?i=d.KEY_VIDEO_PAGE_EXPIRED+' <a class="j-error-reload">'+d.KEY_VIDEO_RELOAD+"</a>":a&&(i=i+d.KEY_VIDEO_TRY+(o?d.KEY_VIDEO_SWITCH:"")+'<a class="j-error-reload">'+d.KEY_VIDEO_RELOAD+"</a>"),this._errorTxtNode.innerHTML=i,this._initEvent(),t?(n._$addClassName(this._bodyNode,"z-disall"),n._$delClassName(this._bodyNode,"z-dis")):(n._$delClassName(this._bodyNode,"z-disall"),n._$addClassName(this._bodyNode,"z-dis")),this._bodyNode.style.display="block"},m}),"207960e23a95f07c00e7d3dd92eac60f","7622f2cf0eed8f3dfddec63b6a854c55","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","84c66edbaac3f0e7d6c8b753c5fa2fbd","c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","dbf963496e3cef891778fa497cfdafd4","e1052841e7e25c5ddf46aeb5adb1f62c","b4082aa2f7c42f066d0566ed301a5924"),I$("8bed2d939555f4900e3b5dee51d32168",'<div class="u-edu-h5player-mobiledisplay j-display">\n    <div class="bbg"></div>\n    <a class="statewrap f-pa j-buffering">\n        <div class="sbg"></div>\n        <div class="buffering f-pa j-bufferingc"></div>\n    </a>\n    <a class="statewrap f-pa j-replay">\n        <div class="sbg"></div>\n        <div class="replay f-pa">\n            <div class="ic"></div>\n            <p class="txt">${lang.KEY_VIDEO_REPLY}</p>\n        </div>\n    </a>\n    <div class="seekwrap f-pa j-seekwrap">\n        <div class="sbg"></div>\n        <div class="scon f-pa">\n            <div class="seekic f-ib j-seekic"></div>\n            <p class="time">\n                <span class="j-seekwrap-time">00:00</span> / <span class="dur j-seekwrap-dur">00:00</span>\n            </p>\n        </div>\n    </div>\n    <div class="volumewrap f-pa j-volumewrap">\n        <div class="sbg"></div>\n        <div class="vcon f-pa">\n            <div class="vic"></div>\n            <div class="vl f-pr j-volume-vcon">\n                <div class="vb f-pa j-volume-vb"></div>\n                <div class="vp f-pa j-volume-vp"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'),I$("e1caf7dba70c06726eb1aabb86932f8d",(function(e,t,n,i,r,o,a,s,c,u,l,d,f){var p=t.C();p.NAME="videoDisplayMobileComponent";var h=p.extend(n);return h._init=function(e,t){return this.__super(e,t),this._bodyNode=i._$getByClassName(this._rootNode,"j-display")[0],this._replayNode=i._$getByClassName(this._bodyNode,"j-replay")[0],this._bufferingNode=i._$getByClassName(this._bodyNode,"j-buffering")[0],this._bufferingcNode=i._$getByClassName(this._bodyNode,"j-bufferingc")[0],this._seekwrapNode=i._$getByClassName(this._bodyNode,"j-seekwrap")[0],this._seekicNode=i._$getByClassName(this._seekwrapNode,"j-seekic")[0],this._seekTimeNode=i._$getByClassName(this._seekwrapNode,"j-seekwrap-time")[0],this._seekDurNode=i._$getByClassName(this._seekwrapNode,"j-seekwrap-dur")[0],this._volumewrapNode=i._$getByClassName(this._bodyNode,"j-volumewrap")[0],this._volumevconNode=i._$getByClassName(this._volumewrapNode,"j-volume-vcon")[0],this._volumevbNode=i._$getByClassName(this._volumewrapNode,"j-volume-vb")[0],this._volumevpNode=i._$getByClassName(this._volumewrapNode,"j-volume-vp")[0],this},h._getTpl=function(){return e},h.listNotificationInterests=function(){return[o.MAINVIDEO_STATE,o.MAINVIDEO_VIDEO_READY,o.MOVIEDATA_NEW,o.MAINVIDEO_VOLUME_INCREASE,o.MAINVIDEO_VOLUME_DECREASE,o.MAINVIDEO_SEEK_FORWARD,o.MAINVIDEO_SEEK_BACKWARD]},h.handleNotification=function(e){switch(this.__super(e),e.getName()){case o.MAINVIDEO_VIDEO_READY:this._handleVideoReady(e.getBody());break;case o.MOVIEDATA_NEW:this._handleNewmovie(e.getBody());break;case o.MAINVIDEO_STATE:this._handleVideoState(e.getBody());break;case o.MAINVIDEO_SEEK_FORWARD:this._handleSeekForward(e.getBody());break;case o.MAINVIDEO_SEEK_BACKWARD:this._handleSeekBackward(e.getBody());break;case o.MAINVIDEO_VOLUME_INCREASE:case o.MAINVIDEO_VOLUME_DECREASE:this._handleVolumeChange(e.getBody())}},h._handleNewmovie=function(){this._showLoading()},h._handleVideoReady=function(e){this._initEvent(e)},h._handleVideoState=function(e){switch(this._state=e.newState,this._state){case a.MEDIA_STATE.IDLE:this._showIDLE();break;case a.MEDIA_STATE.PAUSE:this._showPause();break;case a.MEDIA_STATE.PLAYING:this._showPlaying();break;case a.MEDIA_STATE.BUFFERING:this._showLoading();break;case a.MEDIA_STATE.COMPLETE:this._showReplay()}},h._showIDLE=function(){this._bufferingNode.style.display="none",this._replayNode.style.display="none"},h._showPlaying=function(){this._bufferingNode.style.display="none",this._replayNode.style.display="none"},h._showPause=function(){this._bufferingNode.style.display="none",this._replayNode.style.display="none"},h._showLoading=function(){this._bufferingNode.style.display="block",this._replayNode.style.display="none",this._loadingInter&&clearInterval(this._loadingInter),this._loadingInter=setInterval(function(){this._loadingRotate||(this._loadingRotate=0),this._loadingRotate=this._loadingRotate>=7?0:++this._loadingRotate;var e="rotate("+45*this._loadingRotate+"deg)",t="display:block;-moz-transform:"+e+";-o-transform:"+e+";-ms-transform:"+e;this._bufferingcNode.style.cssText=t,this._bufferingcNode.style.webkitTransform=e}._$bind(this),50)},h._hideLoading=function(){this._loadingInter&&clearInterval(this._loadingInter),this._bufferingNode.style.display="none"},h._showReplay=function(){"live"!=this._config.mode&&(this._replayNode.style.display="block"),this._hideLoading()},h._initEvent=function(e){if(window.Hammer){var t=new Hammer(e);t.get("pan").set({touchAction:"auto"}),t.on("panright",this._onPanRight._$bind(this)),t.on("panleft",this._onPanLeft._$bind(this)),t.on("panup",this._onPanUp._$bind(this)),t.on("pandown",this._onPanDown._$bind(this)),new Hammer(this._replayNode).on("tap",this._onTapDisplay._$bind(this))}else r._$addEvent(this._bodyNode,"click",this._onTapDisplay._$bind(this))},h._hengshuping=function(){180==window.orientation||0==window.orientation?this._isShu=!0:90!=window.orientation&&-90!=window.orientation||(this._isShu=!1)},h._onTapDisplay=function(){if(this._state)switch(this._state){case a.MEDIA_STATE.COMPLETE:this.sendNotification(o.VIEW_PLAY)}},h._onPanRight=function(){this._isShowFk||this._isShowVol||(this._isShowFk=!0,this.sendNotification(o.VIEW_SEEK_FORWARD))},h._onPanLeft=function(){this._isShowFk||this._isShowVol||(this._isShowFk=!0,this.sendNotification(o.VIEW_SEEK_BACKWARD))},h._onPanUp=function(){if(s.supportVolumeChange()){if(this._isShowFk||this._isShowVol)return;this._isShowVol=!0,this.sendNotification(o.VIEW_VOLUME_INCREASE)}},h._onPanDown=function(){if(s.supportVolumeChange()){if(this._isShowFk||this._isShowVol)return;this._isShowVol=!0,this.sendNotification(o.VIEW_VOLUME_DECREASE)}},h._handleSeekForward=function(e){i._$delClassName(this._seekicNode,"backward"),i._$addClassName(this._seekicNode,"forward"),this._seekTimeNode.innerHTML=s.formatVideoTime(e.newData.position),this._seekDurNode.innerHTML=s.formatVideoTime(e.newData.duration),this._seekwrapNode.style.display="block",this._hideForwardTimout&&clearTimeout(this._hideForwardTimout),this._hideForwardTimout=setTimeout(this._hideForwardSeek._$bind(this),800)},h._handleSeekBackward=function(e){i._$delClassName(this._seekicNode,"forward"),i._$addClassName(this._seekicNode,"backward"),this._seekTimeNode.innerHTML=s.formatVideoTime(e.newData.position),this._seekDurNode.innerHTML=s.formatVideoTime(e.newData.duration),this._seekwrapNode.style.display="block",this._hideBackwardTimout&&clearTimeout(this._hideBackwardTimout),this._hideBackwardTimout=setTimeout(this._hideBackwardSeek._$bind(this),800)},h._hideForwardSeek=function(){this._isShowFk=!1,this._seekwrapNode.style.display="none"},h._hideBackwardSeek=function(){this._isShowFk=!1,this._seekwrapNode.style.display="none"},h._handleVolumeChange=function(e){this._volumewrapNode.style.display="block",i._$setStyle(this._volumevpNode,"bottom",this._volumevconNode.offsetHeight*e-this._volumevpNode.offsetHeight/2+"px"),i._$setStyle(this._volumevbNode,"height",this._volumevconNode.offsetHeight*e+"px"),this._hideVolumeTimout&&clearTimeout(this._hideVolumeTimout),this._hideVolumeTimout=setTimeout(this._hideVolume._$bind(this),1e3)},h._hideVolume=function(){this._isShowVol=!1,this._volumewrapNode.style.display="none"},p}),"8bed2d939555f4900e3b5dee51d32168","c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","4caeff9df4f166646ce2a6acb243e2a1","dbf963496e3cef891778fa497cfdafd4"),I$("563f12f81dacbbadf41360823ac2a9cd",'<div class="u-edu-h5player-pread f-pa j-pread"></div>\n<div class="u-edu-h5player-pread-cover j-pread-cover"></div>\n'),I$("1f847ac7c379299be89b0f4d8f4dab04",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p,h,_){var m=t.C();m.NAME="preAdComponent";var v=m.extend(n);return v._init=function(e,t){return this.__super(e,t),this._bodyNode=i._$getByClassName(this._rootNode,"j-pread")[0],this._cover=i._$getByClassName(this._rootNode,"j-pread-cover")[0],this},v._getTpl=function(){return e},v.listNotificationInterests=function(){return[o.MOVIEDATA_READY,o.MAINVIDEO_BEFORE_LOAD,o.MAINVIDEO_BEFORE_PLAY,o.VIEW_VOLUME,o.VIEW_VOLUME_INCREASE,o.VIEW_VOLUME_DECREASE,o.VIEW_MUTE]},v.handleNotification=function(e){switch(this.__super(e),e.getName()){case o.MOVIEDATA_READY:this._handleMoviedataReady(e.getBody());break;case o.MAINVIDEO_BEFORE_PLAY:this._handleBeforeLoad(e.getBody());break;case o.VIEW_VOLUME:this._handleViewVolume(e.getBody());break;case o.VIEW_VOLUME_INCREASE:this._handleViewVolumeIncrease(e.getBody());break;case o.VIEW_VOLUME_DECREASE:this._handleViewVolumeDecrease(e.getBody());break;case o.VIEW_MUTE:this._handleViewMute(e.getBody())}},v.createMediaIns=function(e){var t={};t[l.MEDIA_STATE]=this._mediaStateEventHandler._$bind(this),t[u.MEDIA_META]=this._mediaEventHandler._$bind(this),t[u.MEDIA_ERROR]=this._mediaEventHandler._$bind(this),t[u.MEDIA_VOLUME]=this._mediaEventHandler._$bind(this),t[u.MEDIA_VOLUME_INCREASE]=this._mediaEventHandler._$bind(this),t[u.MEDIA_VOLUME_DECREASE]=this._mediaEventHandler._$bind(this),t[u.MEDIA_MUTE]=this._mediaEventHandler._$bind(this);var n=[{fileType:d.getMediaType(this._preAdMovieUrl),urls:[this._preAdMovieUrl]}];this._movieData={movieItemList:n,currentMovieItem:n[0]},c(this._bodyNode,this._movieData,{autoStart:!0,isPreload:!1,beforeLoad:!1,beforePlay:!1,volume:this._config.volume,mute:this._config.mute,x5Fullscreen:this._config.x5Fullscreen},t,e)},v._handleMoviedataReady=function(e){this._preAdMovieUrl=e.adUrl,this._preAdMovieUrl&&this._config.beforePlay&&this.createMediaIns(function(e){this._videoMediaIns=e}._$bind(this))},v._handleBeforeLoad=function(e){this._preAdMovieUrl&&!s._$isMobileAll()?this._playPreAdStart():this._playPreAdComplete()},v._handleViewVolume=function(e){this._videoMediaIns&&this._videoMediaIns.volume(e)},v._handleViewVolumeIncrease=function(e){this._videoMediaIns&&this._videoMediaIns.volumeIncrease(e)},v._handleViewVolumeDecrease=function(e){this._videoMediaIns&&this._videoMediaIns.volumeDecrease(e)},v._handleViewMute=function(e){this._videoMediaIns&&this._videoMediaIns.mute(e)},v._mediaStateEventHandler=function(e){e.data.newState==a.MEDIA_STATE.COMPLETE&&this._playPreAdComplete()},v._mediaEventHandler=function(e){switch(e.type){case u.MEDIA_META:this._handleMovieMeta(e.data);break;case u.MEDIA_ERROR:this._playPreAdComplete(e.data);break;case u.MEDIA_VOLUME:this.sendNotification(o.MAINVIDEO_VOLUME,e.data);break;case u.MEDIA_VOLUME_INCREASE:this.sendNotification(o.MAINVIDEO_VOLUME_INCREASE,e.data);break;case u.MEDIA_VOLUME_DECREASE:this.sendNotification(o.MAINVIDEO_VOLUME_DECREASE,e.data)}},v._handleMovieMeta=function(e){e.duration&&e.duration>=0?this._adduration=e.duration:this._adduration=5,this._jumpTimeout&&clearTimeout(this._jumpTimeout),this._jumpTimeout=setTimeout(this._playPreAdComplete._$bind(this),1e3*this._adduration)},v._playPreAdStart=function(){i._$addClassName(this._cover,"z-show"),this.sendNotification(o.VIEW_PAUSE),this.sendNotification(o.VIEW_PREAD_START),this._bodyNode.style.display="block",this._videoMediaIns.load(this._movieData),this._jumpTimeout&&clearTimeout(this._jumpTimeout),this._jumpTimeout=setTimeout(this._playPreAdComplete._$bind(this),1e4)},v._playPreAdComplete=function(){i._$delClassName(this._cover,"z-show"),this._jumpTimeout&&clearTimeout(this._jumpTimeout),this._videoMediaIns&&(this._videoMediaIns.stop(),this._videoMediaIns=null),this._bodyNode.style.display="none",this.sendNotification(o.VIEW_PLAY),this.sendNotification(o.VIEW_PREAD_END)},v.onRemove=function(){this.__super(),this._videoMediaIns&&(this._videoMediaIns.stop(),this._videoMediaIns=null)},m}),"563f12f81dacbbadf41360823ac2a9cd","c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","dbf963496e3cef891778fa497cfdafd4","9e0b17f3257e54f8fafbf770569013f8","d8227ca5ac6da601830524302cb405ea","483c4142bb086344703050c5dd156ad1","4caeff9df4f166646ce2a6acb243e2a1"),I$("9e29925327419881913400462d3db88a",'<div class="u-edu-h5player-controlwrap j-controlwrap">\n    \x3c!--播放按钮--\x3e\n    <a href="javascript:void(0);" class="bigplaybtn j-bigplaybtn">\n        <i class="u-edu-h5player-icon icon-big_play_btn"></i>\n    </a>\n    \x3c!--控制条--\x3e\n    <div class="m-controlbar j-controlbar f-cb">\n        <div class="g-left f-fl">\n            <div class="controlbar_btn pausebtn j-pausebtn">\n                <i class="u-edu-h5player-icon icon-pause"></i>\n            </div>\n            <div class="controlbar_btn playbtn j-playbtn">\n                <i class="u-edu-h5player-icon icon-play"></i>\n            </div>\n            <span class="current_time j-current_time">00:00</span>\n            <span class="seperator">/</span>\n            <span class="duration j-duration">00:00</span>\n        </div>\n        <div class="g-right f-fr">\n            <div class="controlbar_btn volumebtn j-volumebtn">\n                <i class="u-edu-h5player-icon icon-volume"></i>\n                <div class="m-popover m-popover-volume j-popover-volume"></div>\n            </div>\n            <div class="controlbar_btn ratebtn j-ratebtn">\n                <span class="ratebtn_text j-ratebtn_text">1x</span>\n            </div>\n            <div class="controlbar_btn captionbtn j-captionbtn">\n                <span class="captionbtn_text">${lang.KEY_VIDEO_SUBTITLE}</span>\n            </div>\n            <div class="controlbar_btn cdnbtn j-cdnbtn">\n                <span class="cdnbtn_text">${lang.KEY_VIDEO_LINE}</span>\n            </div>\n            <div class="controlbar_btn qualitybtn j-qualitybtn">\n                <span class="qualitybtn_text j-qualitybtn_text">${lang.KEY_VIDEO_SD}</span>\n            </div>\n            <div class="controlbar_btn notfullscreen j-notfullscreen">\n                <i class="u-edu-h5player-icon icon-notfullscreen"></i>\n            </div>\n            <div class="controlbar_btn fullscreen j-fullscreen">\n                <i class="u-edu-h5player-icon icon-fullscreen"></i>\n            </div>\n        </div>\n    </div>\n   \n    \x3c!-- 自动联播提示 --\x3e\n    <div class="u-edu-h5player-controlwrap_autoplaynexttip j-autoplaynexttip">\n        <div class="u-edu-h5player-controlwrap_autoplaynexttip_bg"></div>\n        <p class="u-edu-h5player-controlwrap_autoplaynexttip_content">${lang.KEY_VIDEO_NEXT_PLAY}</p>\n    </div>\n</div>\n'),I$("51defacf7d31ab54a5d1c05db524822e",(function(e,t,n){var i={},r=this,o=null;return i.turnNewPage=function(e){var t,n,i,o=window.document.createElement("form"),a=e.parameters||null;if(o.target="_blank",o.action=e.url,o.method="post",a)for(i in a)(t=window.document.createElement("input")).type="hidden",t.name=i,t.value=a[i],o.appendChild(t);(n=e.node||r.document.body).appendChild(o),o.submit(),n.removeChild(o)},i.debounce=function(e,t,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,n||e.apply(r,o)},s=n&&!i;clearTimeout(i),i=setTimeout(a,t),s&&e.apply(r,o)}},i.once=function(e,t){var n;return function(){return e&&(n=e.apply(t||this,arguments),e=null),n}},i.requestAnimationFrame=function(){var e,t=0,n=["ms","moz","webkit","o"];window.requestAnimationFrame&&(e=window.requestAnimationFrame);for(var i=0;i<n.length&&!e;++i)e=window[n[i]+"RequestAnimationFrame"];return e||(e=function(e,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),o=window.setTimeout((function(){e(i+r)}),r);return t=i+r,o}),e.apply(this,arguments)},i.extend=function(e,t,n,i){for(var r in t)i&&!t.hasOwnProperty(r)||!n&&null!=e[r]||(e[r]=t[r]);return e},i.listenFocus=function(){e._$addEvent(document,"focusin",(function(){o=!0})),e._$addEvent(document,"focusout",(function(){o=!1})),i.listenFocus=function(){}},i.getPageScroll=function(){return{x:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,y:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},i.constlize=function(e,t){for(var n=e.split(/\B(?=[A-Z])/),i=0;i<n.length;i++)n[i]=t?n[i].toLowerCase():n[i].toUpperCase();return n.join("_")},i.getValueByVisitor=function(e,t){var n=t.split("."),i=e;try{for(var r=0;r<n.length;r++)i=i[n[r]]}catch(e){i=void 0}return i},i.getIsInput=function(){return o},i.setIsInput=function(e){return o=e},i.numToCheckArr=function(e,t){var n;e=e.toString(2).split("");for(var i=0;i<e.length;i++)e[i]="0"!==e[i];for(n=t-e.length;n--;)e.unshift(!1);return e},i.checkArrToNum=function(e){for(var t=0;t<e.length;t++)e[t]=e[t]?1:0;return parseInt(e.join(""),2)},i.getSelectedsByOneId=function(e,t,n){var i=[],r=!1;return n=n||"id",function e(o,a){for(var s=0;s<o.length;s++){if(r)return;o[s][n]===t?(r=!0,i[a]=o[s][n],i=i.slice(0,a+1)):o[s].children&&(i[a]=o[s][n],e(o[s].children,a+1))}}(e,0),r?i:[]},i.extend=function(e,t,n,i){for(var r in t)i&&!t.hasOwnProperty(r)||!n&&void 0!==e[r]||(e[r]=t[r]);return e},i.fileToDataURL=function(e){return new t((function(t){var n=new FileReader;n.addEventListener("load",(function(){t(this.result)}),!1),n.readAsDataURL(e)}))},i.filesToDataURLs=function(e){return t.all([].slice.call(e).map((function(e){return i.fileToDataURL(e)})))},i.closest=function(e,t){if("function"==typeof e.matches){if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement}while(null!==e);return null}var n,i=(r.document||r.ownerDocument).querySelectorAll(t);do{for(n=i.length;--n>=0&&i.item(n)!==e;);}while(n<0&&(e=e.parentElement));return e},i.unwrap=function(e){for(var t=document.createDocumentFragment();e.firstChild;){var n=e.removeChild(e.firstChild);t.appendChild(n)}e.parentNode.replaceChild(t,e)},i.wrap=function(e,t){return t=t||document.createElement("div"),e.parentNode.appendChild(t),t.appendChild(e),t},i.resetFormElement=function(e){var t=i.wrap(e,document.createElement("form"));i.closest(e,"form").reset(),i.unwrap(t)},i.getContentWidth=function(e){var t=r.getComputedStyle(e);return e.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)},i.getContentHeight=function(e){var t=r.getComputedStyle(e);return e.clientHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)},i.getPrefixAndSuffix=function(e){var t=e.lastIndexOf(".");return-1===t?{prefix:e,suffix:""}:{prefix:e.substr(0,t),suffix:e.substr(t)}},i.omitStr=function(e,t,n,r){var o=i.getPrefixAndSuffix(e),a=o.prefix,s=o.suffix;return t=t||5,n=n||t,r?a.length<=t+n?e:a.substr(0,t)+"..."+a.substr(-n)+s:e.length<=t+n?e:e.substr(0,t)+"..."+e.substr(-n)},i.updateUrlParameter=function(e,t,n){var i=e.indexOf("#"),r=-1===i?"":e.substr(i);e=-1===i?e:e.substr(0,i);var o=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return n?e=e.match(o)?e.replace(o,"$1"+t+"="+n+"$2"):e+a+t+"="+n:("?"===(e=e.replace(new RegExp("([?&]?)"+t+"=[^&]*","i"),"")).slice(-1)&&(e=e.slice(0,-1)),-1===e.indexOf("?")&&(e=e.replace(/&/,"?"))),e+r},i.addTimestampOnUrl=function(e,t){return t=t||"timestamp",i.updateUrlParameter(e,t,+new Date)},i.jsonToQueryString=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},i.formatRestfulUrl=function(e,t){return e.replace(/\{(.*?)\}/gi,(function(e,n){return encodeURIComponent(t[n])||e})).replace(/\/:([\w]+?)(?=\/|$)/gi,(function(e,n){return t[n]?"/"+encodeURIComponent(t[n]):e}))},i.download=function(e,t,n){var r=document.createElement("iframe");r.setAttribute("style","display:none;width:0;height:0;position: absolute;top:0;left:0;border:0;"),r.setAttribute("height","0px"),r.setAttribute("width","0px"),r.setAttribute("frameborder","0"),document.body.appendChild(r),t=t||{},n=n||{},e=i.formatRestfulUrl(e,n||{}),r.src=window.location.origin+e+"?"+i.jsonToQueryString(t)},i.delCharset=function(e){for(var t="",n=null,i=1;arguments[i];)t+="|"+arguments[i],i++;return t=t.substr(1),n=new RegExp(t,"g"),e.replace(n,"")},i}),"c0c334bf3ca5fbd97535793ddce3d534","e3ebe1675b4973d219d559fb17032ae2","9c49038bdd535c7f77e4e6959a89b977"),I$("26ad79a17cd5930967e59bae946a07db",(function(e,t,n,i,r,o,a,s){function c(t){var i=null;return t=n._$merge({},{klass:"",type:1,start:0,anchors:[],init:function(){},onAnchor:function(e){},onMousedown:function(e,t){},onMousemove:function(e,t){},onMouseup:function(e,t){},onHover:function(e,t){},onChange:function(e,t){}},t),this._initProperty(t),(i=e._$create("div")).innerHTML='<div class="backgroundbar"></div>            <div class="bufferbar"></div>            <div class="progressbar"></div>            <div class="drag_item"></div>',this._initClass(i),this.rootNode=i,this._dragItem=e._$getByClassName(this.rootNode,"drag_item")[0],this._progressbar=e._$getByClassName(this.rootNode,"progressbar")[0],this._bufferbar=e._$getByClassName(this.rootNode,"bufferbar")[0],this._anchorsElems=[],this._initEvent(),this.opts.init.call(this),this}var u;return(u=c.prototype)._initProperty=function(e){this.opts=e,this.isDragging=!1,this.type=this.opts.type,this.anchors=this.opts.anchors||[],this.preProgressPos=-1,this.opts.start<=0?this.crtProgressPos=0:this.opts.start>=1?this.crtProgressPos=1:this.crtProgressPos=this.opts.start},u._initClass=function(t){var n="m-progressbar";switch(this.type){case 2:n+=" m-progressbar-hr";break;case 3:n+=" m-progressbar-vt";break;case 4:n+=" m-progressbar-vb";break;default:n+=""}n+=" "+this.opts.klass,e._$addClassName(t,n)},u._initEvent=function(){var e=this;t._$addEvent(this.rootNode,"mousemove",this._onHover._$bind(this)),t._$addEvent(this.rootNode,"mousedown",this._onMousedown._$bind(this)),t._$addEvent(window,"resize",function(e,t){var n=null;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(i,r)}),t)}}((function(){e._setBarPos(e.crtProgressPos,"progress"),e._setDragItemPos(e.crtProgressPos),e._removeAnchors(),e._initAnchors()}),0))},u._initProgress=function(){this._setBarPos(this.crtProgressPos,"progress"),this._setDragItemPos(this.crtProgressPos)},u._initAnchors=function(){function t(t){function r(){switch(i){case 1:return t*o<=c?0:t-c/o;case 4:return t*a<=u?0:t-u/a}}var o=n.rootNode.offsetWidth,a=n.rootNode.offsetHeight,s=e._$create("div","anchor",n.rootNode),c=s.offsetWidth,u=s.offsetHeight;switch(i){case 1:e._$style(s,{left:100*r()+"%"});break;case 4:e._$style(s,{bottom:100*r()+"%"})}n._anchorsElems.push(s)}for(var n=this,i=this.type,r=this.anchors,o=0;o<r.length;o++)t(r[o].position);this._isAnchor(this.crtProgressPos)},u._removeAnchors=function(){for(var t=0;t<this._anchorsElems.length;t++)e._$remove(this._anchorsElems[t]);this._anchorsElems=[]},u._onHover=function(e){this.opts.onHover.call(this,this.getPosByCursor(e),e)},u._onMousedown=function(e){function n(e){i.crtProgressPos=i.getPosByCursor(e),i._setProgressPos(i.crtProgressPos),i.opts.onMousemove.call(i,i.crtProgressPos,e)}var i=this;this.isDragging=!0,this.preProgressPos=this.crtProgressPos,this.crtProgressPos=this.getPosByCursor(e),this._setProgressPos(this.crtProgressPos),this.opts.onMousedown.call(this,this.crtProgressPos,e),t._$addEvent(document,"mousemove",n),t._$addEvent(document,"mouseup",(function e(r){i.isDragging=!1,i.crtProgressPos=i.getPosByCursor(r),i._setProgressPos(i.crtProgressPos),i.opts.onMouseup.call(i,i.crtProgressPos,r),t._$delEvent(document,"mousemove",n),t._$delEvent(document,"mouseup",e)}))},u._setBarPos=function(t,n){var i=this.type,r="progress"===n?this._progressbar:this._bufferbar;switch(i){case 1:e._$style(r,{width:100*t+"%"});break;case 4:e._$style(r,{height:100*t+"%"})}},u._setDragItemPos=function(t){var n=this.type,i=this.rootNode.offsetWidth,r=this.rootNode.offsetHeight,o=this._dragItem.offsetWidth,a=this._dragItem.offsetHeight;switch(n){case 1:e._$style(this._dragItem,{left:i*t-o*t+"px"});break;case 4:r&&a?e._$style(this._dragItem,{bottom:r*t-a*t+"px"}):e._$style(this._dragItem,{bottom:100*t+"%"})}},u._setProgressPos=function(e){this._setBarPos(e,"progress"),this._setDragItemPos(e)},u._isAnchor=function(e,t){for(var n=0;n<this.anchors.length;n++)if(t){if(this.anchors[n].time==Math.round(e*t)){this.opts.onAnchor.call(this,this.anchors[n]);break}}else if(this.anchors[n].position==e){this.opts.onAnchor.call(this,this.anchors[n]);break}},u.insertTo=function(e,t){return t||(t="append"),"string"!=typeof t&&(t="append"),"prepend"==(t=t.toLowerCase())?e.insertBefore(this.rootNode,e.childNodes[0]):"append"==t&&e.appendChild(this.rootNode),this._initProgress(),this._initAnchors(),this},u.getPosByCursor=function(e){var n=this.type,r=i.getPageScroll(),o=this.rootNode.getBoundingClientRect(),a=t._$clientX(e),s=t._$clientY(e),c=o.left+r.x,u=o.top+r.y,l=this.rootNode.offsetWidth,d=this.rootNode.offsetHeight;switch(n){case 1:return a<=c?0:a>=c+l?1:(a-c)/l;case 4:return s>=u+d?0:s<=u?1:(d+u-s)/d}},u.setBufferPos=function(e){this._setBarPos(e,"buffer")},u.setProgressPos=function(e,t,n){if(void 0===t&&(t=!0),this.crtProgressPos==e)return e;this.preProgressPos=this.crtProgressPos,this.crtProgressPos=e,this._setBarPos(e,"progress"),this._setDragItemPos(e),t&&this.opts.onChange.call(this,this.crtProgressPos,this.preProgressPos),this._isAnchor(e,n)},u.reset=function(e){var t;t=e.anchors==this.opts.anchors,e=n._$merge({},this.opts,e),this._initProperty(e),this._initClass(this.rootNode),this._initProgress(),t||(this._removeAnchors(),this._initAnchors())},c}),"0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","84c66edbaac3f0e7d6c8b753c5fa2fbd","51defacf7d31ab54a5d1c05db524822e"),I$("b92b220ca6c47e4d0cf0aae68ee6991b",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p,h,_){function m(e,t){var n=null,i=0;return function(){n?(i++,clearTimeout(n),n=setTimeout((function(){e.call(this,i),i=0,n=null}),t)):(e.call(this,1),n=setTimeout((function(){n=null}),t))}}var v=t.C(),b=v.extend(n);return v.NAME="videoControlComponent",b._init=function(e,t){this.__super(e,t);var n=this;return this.isPreading=!1,this._isBan=!1,this.ban(),this._duration=0,this._crtTime=0,this._state="PLAYING",this._progressbar=null,this._hoverTime=null,this._movieData=null,this._volumeRecord=1,this._isViewSeekBackwardOrForward=!1,this._hasVolumeInited=!1,this._isKeyEventActive=!0,this._bodyNode=i._$getByClassName(this._rootNode,"j-controlwrap")[0],this._controlbar=i._$getByClassName(this._rootNode,"j-controlbar")[0],this._controlWrap=i._$getByClassName(this._rootNode,"j-controlwrap")[0],this._bigplaybtn=i._$getByClassName(this._rootNode,"j-bigplaybtn")[0],this._autoplaynexttip=i._$getByClassName(this._rootNode,"j-autoplaynexttip")[0],this._dragItem=null,this._currentTimeElem=i._$getByClassName(this._controlbar,"j-current_time")[0],this._durationElem=i._$getByClassName(this._controlbar,"j-duration")[0],this._playbtn=i._$getByClassName(this._controlbar,"j-playbtn")[0],this._pausebtn=i._$getByClassName(this._controlbar,"j-pausebtn")[0],this._volumebtn=i._$getByClassName(this._controlbar,"j-volumebtn")[0],this._volumebar=null,this._volumePopover=i._$getByClassName(this._controlbar,"j-popover-volume")[0],this._rateBtn=i._$getByClassName(this._controlbar,"j-ratebtn")[0],this._ratePopover=null,this._rateBtnTxt=i._$getByClassName(this._controlbar,"j-ratebtn_text")[0],this._captionBtn=i._$getByClassName(this._controlbar,"j-captionbtn")[0],this._captionPopover=null,this._qualityBtn=i._$getByClassName(this._controlbar,"j-qualitybtn")[0],this._qualityBtnTxt=i._$getByClassName(this._controlbar,"j-qualitybtn_text")[0],this._qualityPopover=null,this._fullscreen=i._$getByClassName(this._controlbar,"j-fullscreen")[0],this._notfullscreen=i._$getByClassName(this._controlbar,"j-notfullscreen")[0],this._cdnPopover=null,this._cdnBtn=i._$getByClassName(this._controlbar,"j-cdnbtn")[0],this._viewBack=m((function(e){n.sendNotification(o.VIEW_SEEK,n._crtTime-10*e),n._isViewSeekBackwardOrForward=!1}),300),this._viewForward=m((function(e){n.sendNotification(o.VIEW_SEEK,n._crtTime+10*e),n._isViewSeekBackwardOrForward=!1}),300),this._viewSeek=function(e){var t=n._progressbar.crtProgressPos,i=10/n._duration;n._isViewSeekBackwardOrForward=!0,n._progressbar.setProgressPos("back"==e?t-i:t+i),"back"==e?n._viewBack():n._viewForward()},this._initEvent(),this},b._getTpl=function(){return e},b.listNotificationInterests=function(){return[o.MOVIEDATA_READY,o.MAINVIDEO_START_LOAD,o.MAINVIDEO_TIME,o.MAINVIDEO_META,o.MAINVIDEO_STATE,o.MAINVIDEO_BUFFER,o.MAINVIDEO_RATE_CHANGE,o.MAINVIDEO_QUALITY_CHANGE,o.BOX_FULLSCREEN_CHANGE,o.MAINVIDEO_VOLUME,o.VIEW_PREAD_START,o.VIEW_PREAD_END,o.MAINVIDEO_VOLUME_INCREASE,o.MAINVIDEO_VOLUME_DECREASE,o.MOVIEDATA_CURRENT_CDN_CHANGE,o.MOVIEDATA_ERROR,o.MAINVIDEO_ERROR]},b.handleNotification=function(e){var t=e.getBody();switch(this.__super(e),e.getName()){case o.MOVIEDATA_READY:this._handleMoviedataReady(t);break;case o.MAINVIDEO_START_LOAD:this._handleMainvideoStartLoad(t);break;case o.MAINVIDEO_META:this._handleMainvideoMeta(t);break;case o.MAINVIDEO_STATE:this._handleMainvideoState(t);break;case o.MAINVIDEO_BUFFER:this._handleMainvideoBuffer(t);break;case o.MAINVIDEO_TIME:this._handleMainvideoTime(t);break;case o.MAINVIDEO_RATE_CHANGE:this._rateBtnTxt.innerHTML=t+"x",this._ratePopover.select((function(e){return e.data===t}),!1);break;case o.MAINVIDEO_QUALITY_CHANGE:this._handleMainvideoQualityChange(t);break;case o.MOVIEDATA_CURRENT_CDN_CHANGE:this._handleMoviedataCurrentCDNChange(t);break;case o.BOX_FULLSCREEN_CHANGE:this._handleBoxFullscreenChange(t);break;case o.MAINVIDEO_VOLUME:this._handleMainvideoVolume(t);break;case o.VIEW_PREAD_START:this._handleViewPreadStart(t);break;case o.VIEW_PREAD_END:this._handleViewPreadEnd(t);break;case o.MAINVIDEO_VOLUME_INCREASE:case o.MAINVIDEO_VOLUME_DECREASE:this._volumebar.setProgressPos(t);break;case o.MOVIEDATA_ERROR:case o.MAINVIDEO_ERROR:this._handleError(t)}},b._initEvent=function(){r._$addEvent(this._rootNode,"mousedown",this._onRootNodeMousedown._$bind(this)),r._$addEvent(document,"mousedown",this._onDocumentMousedown._$bind(this)),r._$addEvent(document,"keydown",this._onDocumentKeydown._$bind(this)),r._$addEvent(this._playbtn,"click",function(){this._isBan||this.sendNotification(o.VIEW_PLAY)}._$bind(this)),r._$addEvent(this._pausebtn,"click",function(){this._isBan||this.sendNotification(o.VIEW_PAUSE)}._$bind(this)),r._$addEvent(this._fullscreen,"click",function(){this.sendNotification(o.VIEW_FULLSCREEN)}._$bind(this)),r._$addEvent(this._notfullscreen,"click",function(){this.sendNotification(o.VIEW_FULLSCREEN)}._$bind(this)),r._$addEvent(this._volumebtn,"click",this._onVolumeBtnClick._$bind(this)),r._$addEvent(this._bigplaybtn,"click",function(){this._isBan||this.sendNotification(o.VIEW_PLAY)}._$bind(this))},b._handleMoviedataReady=function(e){this._movieData=e,this._initControl(e),this._initAnimation()},b._handleMainvideoStartLoad=function(e){this._movieData!=e.movieData&&this._initControl(e.movieData)},b._handleError=function(e){this.ban()},b._handleViewPreadStart=function(e){this.isPreading=!0,this.ban()},b._handleViewPreadEnd=function(e){this.isPreading=!1},b._handleMainvideoQualityChange=function(e){this._qualityPopover&&this._qualityPopover.select((function(t){if(t.value==e.qualityName)return!0}),!1),this._qualityBtnTxt.innerHTML=e.qualityName},b._handleMoviedataCurrentCDNChange=function(e){this._cdnPopover&&this._cdnPopover.select((function(t){if(t.value==e.cdnSwitch.newData.ispName)return!0}),!1)},b._handleMainvideoMeta=function(e){this._duration=e.duration,this._durationElem.innerHTML=s.formatVideoTime(e.duration),this._progressbar?this._progressbar.reset({start:0,anchors:this._cluPointList||[]}):this._initProgressBar(this._crtTime,this._duration,this._cluPointList?function(t){for(var n=0;n<t.length;n++)t[n].position=t[n].time/e._duration;return t}(this._cluPointList):[]),this.unban()},b._handleMainvideoState=function(e){this._state=e.newState,"PAUSED"==e.newState?(i._$delClassName(this._playbtn,"z-hide"),i._$delClassName(this._pausebtn,"z-show"),this.isPreading||i._$addClassName(this._bigplaybtn,"z-show")):("PLAYING"==e.newState&&(i._$addClassName(this._playbtn,"z-hide"),i._$addClassName(this._pausebtn,"z-show")),i._$delClassName(this._bigplaybtn,"z-show"))},b._handleMainvideoBuffer=function(e){this._progressbar&&this._progressbar.setBufferPos(e.bufferPercent)},b._handleMainvideoTime=function(e){var t=e.currentTime,n=e.duration;this._crtTime=t,this._currentTimeElem.innerHTML=s.formatVideoTime(t),!this._progressbar||this._progressbar.isDragging||this._isViewSeekBackwardOrForward||this._progressbar.setProgressPos(t/n,!1,n),this._config.openAutoPlayNextTip&&e.duration-e.currentTime<=5&&!this._movieData.isLast?i._$addClassName(this._autoplaynexttip,"u-edu-h5player-controlwrap_autoplaynexttip-show"):i._$delClassName(this._autoplaynexttip,"u-edu-h5player-controlwrap_autoplaynexttip-show")},b._handleBoxFullscreenChange=function(e){e?(this._showSHD(),i._$addClassName(this._fullscreen,"z-hide"),i._$addClassName(this._notfullscreen,"z-show")):(this._hiddenSHD(),i._$delClassName(this._fullscreen,"z-hide"),i._$delClassName(this._notfullscreen,"z-show"))},b._handleMainvideoVolume=function(e){var t=this;this._hasVolumeInited?this._volumebar.setProgressPos(e,!1):(this._hasVolumeInited=!0,this._volumeRecord=e||1,this._volumebar=new l({isChangeInstantly:!0,klass:"volumebar",type:4,start:e,onMousemove:function(e){e=(+e).toFixed(2),t.sendNotification(o.VIEW_VOLUME,e)},onMouseup:function(e){e=(+e).toFixed(2),t.sendNotification(o.VIEW_VOLUME,e)},onChange:function(e){e=(+e).toFixed(2),t.sendNotification(o.VIEW_VOLUME,e)}}).insertTo(this._volumePopover)),Number(e)?i._$delClassName(t._volumebtn,"z-close"):i._$addClassName(t._volumebtn,"z-close")},b._onRootNodeMousedown=function(e){e.stopPropagation(),this._isKeyEventActive=!0},b._onDocumentMousedown=function(){this._isKeyEventActive=!1},b._onDocumentKeydown=function(e){if(this._isKeyEventActive){var t=this,n=e.keyCode;if(!t._isBan)switch(r._$stopDefault(e),n){case 37:this._viewSeek("back");break;case 39:this._viewSeek();break;case 32:"PLAYING"==t._state?t.sendNotification(o.VIEW_PAUSE):t.sendNotification(o.VIEW_PLAY);break;case 38:t.sendNotification(o.VIEW_VOLUME_INCREASE);break;case 40:t.sendNotification(o.VIEW_VOLUME_DECREASE)}}},b._onVolumeBtnClick=function(e){(function(e,t){for(;t;){if(e==t||t.parentElement==e)return!0;t=t.parentElement}return!1})(this._volumePopover,r._$getElement(e))||(this._volumebar.crtProgressPos?(this._volumeRecord=this._volumebar.crtProgressPos,this._volumebar.setProgressPos(0)):this._volumebar.setProgressPos(this._volumeRecord))},b._initControl=function(e){this._movieData=e,this._crtTime=e.start,this._cluPointList=e.cluPointList,s.supportRateChange()&&(this._ratePopover&&this._ratePopover.destroy(),this._rateBtnTxt.innerHTML="1x",this._initRateList()),this._captionPopover&&this._captionPopover.destroy(),e.captionData.hasCaption?(i._$delClassName(this._captionBtn,"z-hide"),this._initCaptionList(e.captionData)):i._$addClassName(this._captionBtn,"z-hide"),this._qualityPopover&&this._qualityPopover.destroy(),this._qualityBtnTxt.innerHTML=e.currentMovieItem.qualityName,1==e.movieItemList.length?i._$addClassName(this._qualityBtn,"z-dis"):(i._$delClassName(this._qualityBtn,"z-dis"),this._initQualityList(e)),this._cdnPopover&&this._cdnPopover.destroy(),e.cdnSwitchData&&this._config.showCdnSwitch?(i._$delClassName(this._cdnBtn,"z-hide"),e.cdnSwitchData.length>1?(i._$delClassName(this._cdnBtn,"z-dis"),this._initCdnList(e.cdnSwitchData,e.cdnSwitch)):i._$addClassName(this._cdnBtn,"z-dis")):i._$addClassName(this._cdnBtn,"z-hide"),i._$delClassName(this._autoplaynexttip,"u-edu-h5player-controlwrap_autoplaynexttip-show")},b._initProgressBar=function(e,t,n){for(var r=this,a=0;a<n.length;a++)n[a].position=n[a].time/t;this._progressbar=new l({klass:"progresswrap",type:1,start:e/t,anchors:n,init:function(){r._hoverTime=r._initHoverTime(this.rootNode),r._dragItem=i._$getByClassName(this.rootNode,"drag_item")[0],i._$create("div","placeholder",this.rootNode)},onMouseup:function(e){r.sendNotification(o.VIEW_SEEK,{newData:Math.floor(e*r._duration),oldData:Math.floor(this.preProgressPos*r._duration)})},onHover:function(e){r._hoverTime.setTime(Math.floor(e*r._duration))},onAnchor:function(e){r.sendNotification(o.VIEW_ANCHOR,e)}}).insertTo(this._bodyNode,"prepend"),this.sendNotification(o.VIDEO_CONTROL_DOM_READY,this._bodyNode)},b._initHoverTime=function(e){var t=this,n=i._$create("div","time",e);return r._$addEvent(e,"mouseleave",(function(){i._$delClassName(n,"z-show")})),{setTime:function(r){var o=e.offsetWidth,a=r/t._duration*o,c=0;i._$addClassName(n,"z-show"),n.innerHTML=s.formatVideoTime(r),c=n.offsetWidth,i._$style(n,{left:(a<=c/2?0:a>=o-c/2?o-c:a-c/2)+"px"})}}},b._initQualityList=function(e){for(var t=this,n=e.currentMovieItem,i=null,r=[],a=0;a<e.movieItemList.length;a++)i=e.movieItemList[a],r[a]={},i.quality==n.quality&&(r[a].selected=!0),r[a].value=i.qualityName,r[a].data={quality:i.quality,name:i.qualityName};this._qualityPopover=new u({dep:this._qualityBtn,klass:"m-popover-quality",list:r,onSelect:function(e,n){t.sendNotification(o.VIEW_QUALITY,{newData:e,oldData:n})}}),this._hiddenSHD()},b._hiddenSHD=function(){this._qualityPopover&&this._qualityPopover.rootNode.querySelectorAll("li").forEach((function(e){e.innerHTML==d.KEY_VIDEO_U_HD&&i._$addClassName(e,"f-dn")}))},b._showSHD=function(){this._qualityPopover&&this._qualityPopover.rootNode.querySelectorAll("li").forEach((function(e){i._$replaceClassName(e,"f-dn")}))},b._initRateList=function(){var e=this;this._ratePopover=new u({dep:this._rateBtn,klass:"m-popover-rate",list:[{data:.75,value:"0.75"+d.KEY_VIDEO_DOUBLE_SPEED},{data:1,value:"1"+d.KEY_VIDEO_DOUBLE_SPEED,selected:!0},{data:1.25,value:"1.25"+d.KEY_VIDEO_DOUBLE_SPEED},{data:1.5,value:"1.5"+d.KEY_VIDEO_DOUBLE_SPEED},{data:1.75,value:"1.75"+d.KEY_VIDEO_DOUBLE_SPEED},{data:2,value:"2"+d.KEY_VIDEO_DOUBLE_SPEED}],onSelect:function(t){e.sendNotification(o.VIEW_RATE,t)}})},b._initCaptionList=function(e){for(var t=this,n=[],i={},r=0;r<e.data.length;r++)i=e.data[r],n.push({value:i.name,data:i.name,selected:i.isSelect});this._captionPopover=new u({dep:this._captionBtn,type:2,klass:"m-popover-caption",list:n,onSelect:function(n,i,r){for(var a=0;a<e.data.length;a++)if(r.data==e.data[a].name){e.data[a].isSelect="select"==r.name;break}t.sendNotification(o.VIEW_CAPTION_SELECT,{newData:n,oldData:i,operation:r})}})},b._initCdnList=function(e,t){for(var n=this,i=[],r=null,a=0;a<e.length;a++)r=e[a],i.push({}),i[a].value=r.ispName,i[a].data=r,t&&r.isp==t&&(i[a].selected=!0);t||(i[0].selected=!0),this._cdnPopover=new u({dep:this._cdnBtn,klass:"m-popover-cdn"+(e.length<=3?" m-popover-cdn-one_column":""),list:i,onSelect:function(e,t){n.sendNotification(o.VIEW_CDN,{newData:e,oldData:t})}})},b._initAnimation=function(){var e=this,t=function(){var t=-1;return function(){clearTimeout(t),i._$addClassName(e._controlWrap,"z-show"),e.sendNotification(o.VIDEO_CONTROL_SHOW),t=setTimeout((function(){i._$delClassName(e._controlWrap,"z-show"),e.sendNotification(o.VIDEO_CONTROL_HIDE)}),5e3)}}();r._$addEvent(this._rootNode,"mousemove",t),r._$addEvent(this._rootNode,"mouseleave",(function(){i._$delClassName(e._controlWrap,"z-show"),e.sendNotification(o.VIDEO_CONTROL_HIDE)}))},b.ban=function(){this._isBan=!0},b.unban=function(){this._isBan=!1},v}),"9e29925327419881913400462d3db88a","c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","4caeff9df4f166646ce2a6acb243e2a1","dbf963496e3cef891778fa497cfdafd4","e1052841e7e25c5ddf46aeb5adb1f62c","26ad79a17cd5930967e59bae946a07db","b4082aa2f7c42f066d0566ed301a5924"),I$("f48db3fb82539a7a4806c206272a62b2",'<div class="u-edu-h5player-controlwrap-mobile j-mControlwrap">\n    <div class="m-controlbar-cover f-dn j-controlbarCover"></div>\n    <div class="m-progressbar-mobile j-mProgressbar">\n        <div class="timebar j-mTimebar"></div>\n        <div class="bufferbar j-mBufferbar"></div>\n        <div class="drag_item j-mDragitem"></div>\n        <div class="anchors j-mAnchor"></div>\n    </div>\n    <div class="m-controlbar-mobile j-mControlbar">\n        <div class="f-cb">\n            <a class="pbtnwrap j-pausePlayBtn f-fl">\n                <div class="pause-play-btn"></div>\n            </a>\n\n            <div class="process-time f-fl">\n                <span class="now-time j-nowTime">00:00</span>\n                <i>/</i>\n                <span class="all-duration j-allDuration">00:00</span>\n            </div>\n\n            <a class="pbtnwrap j-fullScreenBtn f-fr">\n                <div class="full-screen-btn"></div>\n            </a>\n\n            <a class="more-btn j-moreBtn f-fr">${lang.KEY_VIDEO_MORE}</a>\n        </div>\n    </div>\n</div>\n'),I$("87400ea888926ad3d912098742e7568a",(function(e,t,n,i,r,o,a,s,c,u,l,d,f){var p=t.C(),h=p.extend(n);return p.NAME="videoControlMobileComponent",h._init=function(e,t){return this.__super(e,t),this._isDragging=!1,this._timmer=null,this._preTime=null,this._cluPointList=null,this._duration=0,this._start=0,this._bodyNode=i._$getByClassName(this._rootNode,"j-mControlwrap")[0],this._processBarNode=i._$getByClassName(this._bodyNode,"j-mProgressbar")[0],this._dragItem=i._$getByClassName(this._bodyNode,"j-mDragitem")[0],this._timebar=i._$getByClassName(this._bodyNode,"j-mTimebar")[0],this._bufferbar=i._$getByClassName(this._bodyNode,"j-mBufferbar")[0],this._anchorNode=i._$getByClassName(this._bodyNode,"j-mAnchor")[0],this._controlBarNode=i._$getByClassName(this._bodyNode,"j-mControlbar")[0],this._pausePlayBtnNode=i._$getByClassName(this._bodyNode,"j-pausePlayBtn")[0],this._nowTimeNode=i._$getByClassName(this._bodyNode,"j-nowTime")[0],this._allDurationNode=i._$getByClassName(this._bodyNode,"j-allDuration")[0],this._moreBtnNode=i._$getByClassName(this._bodyNode,"j-moreBtn")[0],this._fullScreenBtnNode=i._$getByClassName(this._bodyNode,"j-fullScreenBtn")[0],this._controlbarCoverNode=i._$getByClassName(this._bodyNode,"j-controlbarCover")[0],this._initEvent(),this._controlBarAutoDisplay(),this},h._getTpl=function(){return e},h.listNotificationInterests=function(){return[o.MOVIEDATA_READY,o.MAINVIDEO_TIME,o.MAINVIDEO_META,o.MAINVIDEO_STATE,o.MAINVIDEO_BUFFER,o.BOX_FULLSCREEN_CHANGE,o.VIEW_MORE_MENU_CHANGE,o.VIEW_PREAD_START,o.VIEW_PREAD_END]},h.handleNotification=function(e){var t=e.getBody();switch(this.__super(e),e.getName()){case o.MOVIEDATA_READY:this._resetStartTime(t),this._cluPointList=t.cluPointList||[];break;case o.MAINVIDEO_META:this._updateVideoTimeline(t,!0),this._initVideoPlayTime(t),this._initAnchorPoint(t);break;case o.MAINVIDEO_STATE:this._videoStateHandler(t);break;case o.MAINVIDEO_BUFFER:this._updateBufferTimeline(t);break;case o.MAINVIDEO_TIME:this._updateVideoTimeline(t),this._updateVideoPlayTime(t),this._triggerAnchor(t);break;case o.BOX_FULLSCREEN_CHANGE:this._toggleFullscreen(t);break;case o.VIEW_MORE_MENU_CHANGE:this._toggleMoreMenuBtn(t);break;case o.VIEW_PREAD_START:this._disabledControlBar(t);break;case o.VIEW_PREAD_END:this._enabledControlBar(t)}},h._resetStartTime=function(e){this._start=e.start},h._updateVideoTimeline=function(e,t){var n=e.currentTime,r=e.duration,o=this._processBarNode.offsetWidth,a=this._dragItem.offsetWidth,s=0;t?(s=this._start/e.duration*o,this._duration=e.duration):s=n/r*o,this._isDragging||(i._$style(this._dragItem,{left:(s<=a/2?0:s>=o-a/2?o-a:s-a/2)+"px"}),i._$style(this._timebar,{width:(s<=0?0:s>=o?o:s)+"px"}))},h._initAnchorPoint=function(e){function t(t){return t?t/e.duration*i._processBarNode.offsetWidth:0}for(var n="",i=this,r=0;r<this._cluPointList.length;r++)n+='<div class="anchor" style="left:'+t(this._cluPointList[r].time)+'px;"></div>';this._anchorNode.innerHTML=n},h._updateBufferTimeline=function(e){var t=this._processBarNode.offsetWidth*e.bufferPercent,n=this._bufferbar.offsetWidth;t<n||(i._$style(this._bufferbar,{width:t+"px"}),n=t)},h._videoStateHandler=function(e){this._togglePlayState(e)},h._initVideoPlayTime=function(e){this._allDurationNode.innerHTML=s.formatVideoTime(e.duration)},h._updateVideoPlayTime=function(e){this._nowTimeNode.innerHTML=s.formatVideoTime(e.currentTime)},h._togglePlayState=function(e){if("PLAYING"==e.newState){if(i._$hasClassName(this._pausePlayBtnNode,"active"))return;i._$addClassName(this._pausePlayBtnNode,"active")}else"PAUSED"==e.newState&&i._$delClassName(this._pausePlayBtnNode,"active")},h._toggleFullscreen=function(e){e?i._$addClassName(this._fullScreenBtnNode,"active"):i._$delClassName(this._fullScreenBtnNode,"active")},h._controlBarAutoDisplay=function(){var e=this;clearTimeout(this._timmer),this._timmer=setTimeout((function(){i._$hasClassName(e._bodyNode,"f-vh")||i._$addClassName(e._bodyNode,"f-vh")}),5e3)},h._toggleMoreMenuBtn=function(e){i._$hasClassName(this._moreBtnNode,"active")?i._$delClassName(this._moreBtnNode,"active"):i._$addClassName(this._moreBtnNode,"active")},h._disabledControlBar=function(e){i._$delClassName(this._controlbarCoverNode,"f-dn")},h._enabledControlBar=function(e){i._$addClassName(this._controlbarCoverNode,"f-dn")},h._triggerAnchor=function(e){for(var t=!1,n=0;n<this._cluPointList.length;n++)if(this._cluPointList[n].time==e.currentTime){t=!0;break}t&&this._preTime!=e.currentTime&&this.sendNotification(o.VIEW_ANCHOR,this._cluPointList[n]),this._preTime=e.currentTime},h._initEvent=function(){function e(e){if(e.center.x<0)return 0;var t=c.offsetWidth;return Math.floor(e.center.x/t*a._duration)}function t(e){var t=c.offsetWidth;return Math.floor(s.offsetLeft/t*a._duration)}function n(e){var t=c.offsetWidth,n=s.offsetWidth;return e.center.x<=n/2?0:e.center.x>=t-n/2?t-n:e.center.x-n/2}var a=this,s=this._dragItem,c=this._processBarNode,u=(this._timebar,{oldData:0,newData:0}),l=new Hammer(c),d=new Hammer(s),f=new Hammer(this._pausePlayBtnNode),p=new Hammer(this._fullScreenBtnNode),h=new Hammer(this._bodyNode),_=new Hammer(this._rootNode),m=new Hammer(this._moreBtnNode);h.on("tap",(function(e){e.srcEvent.cancelBubble=!0}),!1),d.on("panstart pan",(function(r){"panstart"==r.type&&(u.oldData=t()),r.isFinal?(u.newData=e(r),a.sendNotification(o.VIEW_SEEK,u)):i._$style(s,{left:n(r)+"px"})})),l.on("tap",(function(n){r._$getElement(n)!=a._dragItem&&(u={oldData:t(),newData:e(n)},a.sendNotification(o.VIEW_SEEK,u))})),f.on("tap",(function(e){i._$hasClassName(a._pausePlayBtnNode,"active")?a.sendNotification(o.VIEW_PAUSE):a.sendNotification(o.VIEW_PLAY)})),p.on("tap",(function(e){a.sendNotification(o.VIEW_FULLSCREEN)})),_.on("tap",(function(e){e.srcEvent.cancelBubble||(i._$hasClassName(a._bodyNode,"f-vh")?(i._$delClassName(a._bodyNode,"f-vh"),a._controlBarAutoDisplay()):(i._$addClassName(a._bodyNode,"f-vh"),clearTimeout(this._timmer)))})),m.on("tap",(function(e){a.sendNotification(o.VIEW_MORE_MENU)}))},p}),"f48db3fb82539a7a4806c206272a62b2","c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","4caeff9df4f166646ce2a6acb243e2a1","dbf963496e3cef891778fa497cfdafd4"),I$("95508e7086d8f2ecf3849d573a486f77",'<div class="u-edu-h5player-moreMenu-mobile j-moreMenu f-dn">\n    <section class="f-cb u-edu-h5player-moreMenu-mobile_section">\n        <h4 class="u-edu-h5player-moreMenu-mobile_h4">${lang.KEY_VIDEO_DOUBLE_SPEED2}</h4>\n        <ol class="j-partSpeed u-edu-h5player-moreMenu-mobile_ol">\n            <li class="active" data-type="rate" data-rate="1">1x</li>\n            <li data-type="rate" data-rate="1.25">1.25x</li>\n            <li data-type="rate" data-rate="1.5">1.5x</li>\n        </ol>\n    </section>\n    <hr class="j-partLineBox u-edu-h5player-moreMenu-mobile_hr">\n    \n    \x3c!-- 线路功能先隐藏 --\x3e\n    <section class="f-cb j-partLineBox u-edu-h5player-moreMenu-mobile_section">\n        <h4 class="u-edu-h5player-moreMenu-mobile_h4">${lang.KEY_VIDEO_DOUBLE_SPEED2}</h4>\n        <ol class="j-partLine u-edu-h5player-moreMenu-mobile_ol">\n            <li class="active" data-type="line" data-line="">${lang.KEY_VIDEO_DEAFULT}</li>\n            <li data-type="line" data-line="">移动一</li>\n            <li data-type="line" data-line="">联通一</li>\n            <li data-type="line" data-line="">联通二</li>\n            <li data-type="line" data-line="">电信一</li>\n            <li data-type="line" data-line="">电信二</li>\n        </ol>\n    </section>\n    <hr class="u-edu-h5player-moreMenu-mobile_hr">\n    <section class="f-cb u-edu-h5player-moreMenu-mobile_section">\n        <h4 class="u-edu-h5player-moreMenu-mobile_h4">${lang.KEY_VIDEO_SHARP}</h4>\n        <ol class="j-partQuality u-edu-h5player-moreMenu-mobile_ol">\n        </ol>\n    </section>\n</div>\n'),I$("5015c9e9c514c645cc53c3d7ffdabdc6",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p){var h=t.C(),_=h.extend(n);return h.NAME="videoMoreMenuMobileComponent",_._init=function(e,t){return this.__super(e,t),this._cVideoInfo={quality:{},line:{},rate:1},this._lineMap={},this._bodyNode=i._$getByClassName(this._rootNode,"j-moreMenu")[0],this._partSpeed=i._$getByClassName(this._bodyNode,"j-partSpeed")[0],this._partLine=i._$getByClassName(this._bodyNode,"j-partLine")[0],this._partLineBox=i._$getByClassName(this._bodyNode,"j-partLineBox"),this._partQuality=i._$getByClassName(this._bodyNode,"j-partQuality")[0],c.supportRateChange()||i._$remove(this._partSpeed),this._config.showCdnSwitch||(i._$addClassName(this._partLineBox[0],"f-dn"),i._$addClassName(this._partLineBox[1],"f-dn")),this._initEvent(),this},_._getTpl=function(){return e},_.listNotificationInterests=function(){return[a.VIEW_MORE_MENU,a.MOVIEDATA_READY,a.MAINVIDEO_RATE_CHANGE,a.MAINVIDEO_QUALITY_CHANGE,a.MOVIEDATA_CURRENT_CDN_CHANGE]},_.handleNotification=function(e){var t=e.getBody();switch(this.__super(e),e.getName()){case a.VIEW_MORE_MENU:this._toggleMoreMenu(t);break;case a.MOVIEDATA_READY:this._initMoreMenu(t);break;case a.MAINVIDEO_RATE_CHANGE:this._changeRate(t);break;case a.MOVIEDATA_CURRENT_CDN_CHANGE:this._changeLine(t);break;case a.MAINVIDEO_QUALITY_CHANGE:this._changeQuality(t)}},_._toggleMoreMenu=function(e){this.sendNotification(a.VIEW_MORE_MENU_CHANGE),i._$hasClassName(this._bodyNode,"f-dn")?i._$delClassName(this._bodyNode,"f-dn"):i._$addClassName(this._bodyNode,"f-dn")},_._initMoreMenu=function(e){var t=e.movieItemList.length,n=e.cdnSwitchData&&e.cdnSwitchData.length,i="";if(t>0){for(var r=0;r<t;r++)i+='<li class="'+(0==r?"active":"")+'" data-type="quality" data-quality="'+e.movieItemList[r].quality+'" data-qualityName="'+e.movieItemList[r].qualityName+'">'+e.movieItemList[r].qualityName+"</li>";this._partQuality.innerHTML=i,i=""}if(n){for(var o=0;o<e.cdnSwitchData.length;o++)this._lineMap[e.cdnSwitchData[o].isp]=e.cdnSwitchData[o].ispName,i+='<li class="'+(0==o?"active":"")+'" data-type="line" data-line="'+e.cdnSwitchData[o].isp+'" data-lineName="'+e.cdnSwitchData[o].ispName+'">'+e.cdnSwitchData[o].ispName+"</li>";this._partLine.innerHTML=i,i=""}this._cVideoInfo.quality.name=e.currentMovieItem.qualityName,this._cVideoInfo.quality.quality=e.currentMovieItem.quality,this._cVideoInfo.line.isp=e.cdnSwitch,""==this._cVideoInfo.line.isp?this._cVideoInfo.line.ispName="默认":this._cVideoInfo.line.ispName=this._lineMap[this._cVideoInfo.line.isp]},_._changeRate=function(e){var t=i._$getChildren(this._partSpeed),n=null;o._$forEach(t,(function(t,r){i._$attr(t,"data-rate")==e&&(n=t),i._$delClassName(t,"active")})),i._$addClassName(n,"active"),this._cVideoInfo.rate=e},_._changeLine=function(e){var t=i._$getChildren(this._partLine),n=null;o._$forEach(t,(function(t,r){i._$attr(t,"data-line")==e.cdnSwitch.newData.isp&&(n=t),i._$delClassName(t,"active")})),i._$addClassName(n,"active")},_._changeQuality=function(e){var t=i._$getChildren(this._partQuality),n=null;o._$forEach(t,(function(t,r){i._$attr(t,"data-quality")==e.quality&&(n=t),i._$delClassName(t,"active")})),i._$addClassName(n,"active"),this._cVideoInfo.quality.name=e.qualityName,this._cVideoInfo.quality.quality=e.quality},_._initEvent=function(){window.Hammer?new Hammer(this._bodyNode).on("tap",this._handlerEvent._$bind(this)):r._$addEvent(this._bodyNode,"click",this._handlerEvent._$bind(this))},_._handlerEvent=function(e){var t=this,n=r._$getElement(e,(function(e){return e.tagName.toLowerCase()})),o=i._$attr(n,"data-type"),s={},c={};if("rate"==o){var u=Number(i._$attr(n,"data-rate"));if(t._cVideoInfo.rate==u)return;t.sendNotification(a.VIEW_RATE,u)}if("quality"==o){var l=Number(i._$attr(n,"data-quality")),d=i._$attr(n,"data-qualityName");if(t._cVideoInfo.quality.quality&&t._cVideoInfo.quality.quality==l)return;s={name:d,quality:l},c={name:t._cVideoInfo.quality.name,quality:t._cVideoInfo.quality.quality},t.sendNotification(a.VIEW_QUALITY,{oldData:c,newData:s})}"line"==o&&(s={isp:i._$attr(n,"data-line"),ispName:i._$attr(n,"data-lineName")},c={isp:t._cVideoInfo.line.isp,ispName:t._cVideoInfo.line.ispName},t.sendNotification(a.VIEW_CDN,{oldData:c,newData:s})),i._$addClassName(t._bodyNode,"f-dn"),t.sendNotification(a.VIEW_MORE_MENU_CHANGE)},h}),"95508e7086d8f2ecf3849d573a486f77","c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","84c66edbaac3f0e7d6c8b753c5fa2fbd","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","4caeff9df4f166646ce2a6acb243e2a1","dbf963496e3cef891778fa497cfdafd4"),I$("cc299dd5d731221a52d7ae6549f280c1",(function(e,t,n,i,r,o,a,s,c,u,l,d,f){var p=e.C();p.NAME="textTrackComponent";var h=p.extend(n);return h._init=function(e,t){return this.__super(e,t),this._initEvent(),this},h.listNotificationInterests=function(){return[o.MAINVIDEO_VIDEO_READY,o.MOVIEDATA_READY,o.MAINVIDEO_START_LOAD]},h.handleNotification=function(e){switch(this.__super(e),e.getName()){case o.MAINVIDEO_VIDEO_READY:this._handleVideoReady(e.getBody());break;case o.MOVIEDATA_READY:this._handleCaptionData(e.getBody());break;case o.MAINVIDEO_START_LOAD:this._handleLoadStart(e.getBody())}},h._initEvent=function(){},h._handleCaptionData=function(e){this._captionChange=!0,this._captionData=e.captionData||{}},h._handleVideoReady=function(e){this._mainVideoNode=e},h._handleLoadStart=function(e){this._captionChange&&(this._captionChange=!1,this._captionData.hasCaption&&this._mainVideoNode&&this._setTextTrackNode())},h._setTextTrackNode=function(){this._removeTextTrackNode(),t._$forEach(this._captionData.data,(function(t,n){var i=e.createEl("track",{label:t.name,kind:"subtitles",src:t.url,srclang:t.lang});this._mainVideoNode.appendChild(i)}),this),this._textTrackNodes=e.T("track",this._mainVideoNode);for(var n=0;n<this._captionData.data.length;n++)this._showOrHideTextTrack(this._captionData.data[n].lang,this._captionData.data[n].isSelect)},h._removeTextTrackNode=function(){this._textTrackNodes&&t._$forEach(this._textTrackNodes,(function(e,t){this._mainVideoNode.removeChild(e)}),this),this._textTrackNodes=null},h._showOrHideTextTrack=function(e,t){for(var n,i,r=0;r<this._textTrackNodes.length;r++)this._textTrackNodes[r].srclang==e&&(n=this._textTrackNodes[r]);for(var o=0;o<this._mainVideoNode.textTracks.length;o++)this._mainVideoNode.textTracks[o].language==e&&(i=this._mainVideoNode.textTracks[o]);n&&i&&(t?(n.mode="showing",i.mode="showing"):(n.mode="hidden",i.mode="hidden"))},p}),"c0997d8c9f1e7b615be7f959fd3049c3","84c66edbaac3f0e7d6c8b753c5fa2fbd","511b1e441b88674648f89c3b3b44a82d","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","4caeff9df4f166646ce2a6acb243e2a1","dbf963496e3cef891778fa497cfdafd4"),I$("e833891a52dcd1c99f2f83e8b820dc5b",'<div class="u-edu-h5player-srt j-srt">\n</div>'),I$("f812c1ce4eca8074ec4b09313d06b1b6",'<div class="u-edu-h5player-srtmobile-wrap">\n\t<div class="u-edu-h5player-srtmobile j-srt">\n\t</div>\n</div>\n'),I$("e0e204a60d9c20eee9b14334654728fa",(function(e,t,n,i){var r=function e(t){var n={},i=t.split("\r\n");1==i.length&&(i=t.split("\n"));try{var r=i[1].indexOf(" --\x3e ");if(r>0&&(n.begin=o(i[1].substr(0,r)),n.end=o(i[1].substr(r+5))),i[2]){n.text=i[2];for(var a=3;a<i.length;a++)n.text+="\n"+i[a]}}catch(e){throw e}return n},o=function(e){var t=(e=e.replace(",",".")).split(":"),n=0;return"ms"==e.substr(-2).toLocaleLowerCase()?n=Number(e.substr(0,e.length-2))/1e3:"s"==e.substr(-1).toLocaleLowerCase()?n=Number(e.substr(0,e.length-1)):"m"==e.substr(-1).toLocaleLowerCase()?n=60*Number(e.substr(0,e.length-1)):"h"==e.substr(-1).toLocaleLowerCase()?n=3600*Number(e.substr(0,e.length-1)):t.length>1?(n=Number(t[t.length-1]),n+=60*Number(t[t.length-2]),3==t.length&&(n+=3600*Number(t[t.length-3]))):n=Number(e),n};return e.parseSrt=function(e){var t=[{begin:0,text:""}],n=(e=e.replace(/^\s+/,"").replace(/\s+$/,"")).split("\r\n\r\n");1==n.length&&(n=e.split("\n\n"));for(var i=0;i<n.length;i++){var o=r(n[i]);o.text&&(t.push(o),o.end&&(t.push({begin:o.end,text:""}),delete o.end))}return t},e})),I$("c6dd65341c32d718128e814aa70cb40f",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p,h,_,m,v,b){var g=n.C();g.NAME="srtCaptionComponent";var y=g.extend(i);return y._init=function(t,n){return this.__super(t,n),this._captionData=null,this._duration=0,this._captionHasLoadLength=0,this._bodyNode=d._$getNodeTemplate(d._$addNodeTemplate(f._$get(f._$add(e),{lang:h}))),this._bodyNode=r._$getByClassName(this._rootNode,"j-srt")[0],this._initEvent(),this},y._getTpl=function(){return u._$isMobileAll()?t:e},y.listNotificationInterests=function(){return[a.MOVIEDATA_READY,a.MAINVIDEO_START_LOAD,a.MAINVIDEO_META,a.MAINVIDEO_TIME,a.VIEW_CAPTION_SELECT,a.VIDEO_CONTROL_DOM_READY,a.BOX_FULLSCREEN_CHANGE]},y.handleNotification=function(e){var t=e.getBody();switch(this.__super(e),e.getName()){case a.MOVIEDATA_READY:this._handleMoviedataReady(t);break;case a.MAINVIDEO_START_LOAD:this._handleMainvideoStartLoad(t);break;case a.MAINVIDEO_META:this._handleMainvideoMeta(t);break;case a.MAINVIDEO_TIME:this._handleMainvideoTime(t);break;case a.VIEW_CAPTION_SELECT:this._handleViewCaptionSelect(t);break;case a.VIDEO_CONTROL_DOM_READY:this._handleVideoControlDomReady(t);break;case a.BOX_FULLSCREEN_CHANGE:this._initCaptionFontSize()}},y._initEvent=function(){o._$addEvent(window,"resize",function(e,t){var n=null;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(i,r),n=null}),t)}}(this._initCaptionFontSize,100)._$bind(this))},y._handleMoviedataReady=function(e){this._initCaption(e.captionData)},y._handleMainvideoStartLoad=function(e){this._captionData!=e.movieData.captionData&&(this._garbageCaption(),this._initCaption(e.movieData.captionData))},y._handleMainvideoMeta=function(e){this._duration=e.duration},y._handleMainvideoTime=function(e){var t=null;if(this._captionData&&this._captionData.hasCaption)for(var n=0;n<this._captionData.data.length;n++)(t=this._captionData.data[n]).isSelect&&t.arrdata&&this._changeCaption(t,e.currentTime)},y._handleViewCaptionSelect=function(e){for(var t=null,n=0;n<this._captionData.data.length;n++)if((t=this._captionData.data[n]).name==e.operation.data){"select"==e.operation.name?r._$addClassName(t._bodyNode,"z-show"):r._$delClassName(t._bodyNode,"z-show");break}},y._handleVideoControlDomReady=function(e){e.insertBefore(this._bodyNode,e.childNodes[0])},y._initCaption=function(e){if(e){var t=null;if(this._captionData=e,this._captionData.hasCaption){this._captionHasLoadLength=0;for(var n=0;n<this._captionData.data.length;n++)t=this._captionData.data[n],this._loadOneCaptionFile(t),t._bodyNode=r._$create("div","srt_item",this._bodyNode),t.isSelect?r._$addClassName(t._bodyNode,"z-show"):r._$delClassName(t._bodyNode,"z-show");this._initCaptionFontSize()}}},y._garbageCaption=function(){this._captionData=null,this._removeSrtElems()},y._initMap=function(e){var t=e.arrdata,n=0,i=0;e._map={};try{for(var r=0;r<t.length;r++){n=Math.ceil(t[r].begin),i=Math.floor(t[r+1].begin);for(var o=n;o<=i;o++)e._map[o]=r}}catch(i){for(var a=n=t[r].begin;a<=this._duration;a++)e._map[a]=r}},y._removeSrtElems=function(){for(var e=r._$getByClassName(this._bodyNode,"srt_item"),t=0;t<e.length;t++)r._$remove(e[t])},y._initCaptionFontSize=function(){if(this._captionData&&this._captionData.hasCaption)for(var e=r._$getByClassName(this._rootNode,"u-edu-h5player-mainvideo")[0],t=+/\d*/.exec(r._$getStyle(e,"height"))[0],n=Math.floor((t-300)/100),i=null,o=0;o<this._captionData.data.length;o++)(i=this._captionData.data[o])._bodyNode&&("中文"==i.name?n<=0?r._$style(i._bodyNode,{fontSize:"18px"}):r._$style(i._bodyNode,{fontSize:18+4*n+"px"}):n<=0?r._$style(i._bodyNode,{fontSize:"14px"}):r._$style(i._bodyNode,{fontSize:14+4*n+"px"}))},y._loadOneCaptionFile=function(e){var t={method:"GET",type:"text",timeout:1e4,cookie:!1,sync:!0,headers:{"Content-Type":""},onload:this._cbLoadOneCaptionFileSuccess._$bind(this,e),onerror:this._cbLoadOneCaptionFileFail._$bind(this)};l._$request(e.url,t)},y._cbLoadOneCaptionFileSuccess=function(e,t){e.arrdata=p.parseSrt(t),this._captionHasLoadLength++,this._initMap(e),this._captionData.data.length,this._captionHasLoadLength},y._cbLoadOneCaptionFileFail=function(e){this.log("load one caption file fail:"+e.message,"error")},y._changeCaption=function(e,t){var n=e._map[t],i="";i=n?e.arrdata[n].text:"",e._bodyNode.innerHTML=i.replace(/[\n\r]+/g,"<br>")},g}),"e833891a52dcd1c99f2f83e8b820dc5b","f812c1ce4eca8074ec4b09313d06b1b6","c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","4caeff9df4f166646ce2a6acb243e2a1","dbf963496e3cef891778fa497cfdafd4","f1cb28abde9911cf82d810c70c54b84c","407d6829255b510421df9c196c8c7bce","25648a9a8e2b7651288ec89ab792bc60","e0e204a60d9c20eee9b14334654728fa","b4082aa2f7c42f066d0566ed301a5924"),I$("f2f864eeb701c692006bce5cfb200501",'<div class="u-edu-h5player-controlwrap-live-mobile j-mliveControlwrap">    \n    <div class="m-controlbar-mobile j-mliveControlbar">\n        <div class="f-cb">\n            <a class="pbtnwrap j-pausePlayBtn f-fl">\n                <div class="pause-play-btn"></div>\n            </a>\n\n            <div class="f-fl liveinfo">\n                <h3 class="livetith f-thide j-liveh"></h3>\n                <p class="livetitp f-thide j-livep"></p>\n            </div>\n\n            <a class="pbtnwrap j-fullScreenBtn f-fr">\n                <div class="full-screen-btn"></div>\n            </a>\n\n            <a class="pbtnwrapsm j-reloadBtn f-fr">\n                <div class="reload-btn"></div>\n            </a>\n        </div>\n    </div>\n</div>\n'),I$("c5dcb677e24030c7b38cad548fe5d406",(function(e,t,n,i,r,o,a,s,c,u,l,d,f){var p=t.C(),h=p.extend(n);return p.NAME="videoControlMobileLiveComponent",h._init=function(e,t){return this.__super(e,t),this._timmer=null,this._bodyNode=i._$getByClassName(this._rootNode,"j-mliveControlwrap")[0],this._pausePlayBtnNode=i._$getByClassName(this._bodyNode,"j-pausePlayBtn")[0],this._reloadBtnNode=i._$getByClassName(this._bodyNode,"j-reloadBtn")[0],this._fullScreenBtnNode=i._$getByClassName(this._bodyNode,"j-fullScreenBtn")[0],this._livehNode=i._$getByClassName(this._bodyNode,"j-liveh")[0],this._livepNode=i._$getByClassName(this._bodyNode,"j-livep")[0],this._initEvent(),this._controlBarAutoDisplay(),this},h._getTpl=function(){return e},h.listNotificationInterests=function(){return[o.MOVIEDATA_READY,o.MAINVIDEO_STATE,o.BOX_FULLSCREEN_CHANGE]},h.handleNotification=function(e){var t=e.getBody();switch(this.__super(e),e.getName()){case o.MOVIEDATA_READY:this._showLiveInfo(t);break;case o.MAINVIDEO_STATE:this._togglePlayState(t);break;case o.BOX_FULLSCREEN_CHANGE:this._toggleFullscreen(t)}},h._showLiveInfo=function(e){e.liveTitle&&(this._livehNode.innerText=e.liveTitle),e.liveStartTime&&e.liveEndTime&&(this._livepNode.innerText=s.formatLiveTime(e.liveStartTime,e.liveEndTime))},h._togglePlayState=function(e){if("PLAYING"==e.newState){if(i._$hasClassName(this._pausePlayBtnNode,"active"))return;i._$addClassName(this._pausePlayBtnNode,"active")}else"PAUSED"==e.newState&&i._$delClassName(this._pausePlayBtnNode,"active")},h._toggleFullscreen=function(e){e?i._$addClassName(this._fullScreenBtnNode,"active"):i._$delClassName(this._fullScreenBtnNode,"active")},h._controlBarAutoDisplay=function(){var e=this;clearTimeout(this._timmer),this._timmer=setTimeout((function(){i._$hasClassName(e._bodyNode,"f-vh")||i._$addClassName(e._bodyNode,"f-vh")}),5e3)},h._initEvent=function(){var e=this,t=new Hammer(this._pausePlayBtnNode),n=new Hammer(this._reloadBtnNode),r=new Hammer(this._fullScreenBtnNode),a=new Hammer(this._bodyNode),s=new Hammer(this._rootNode);a.on("tap",(function(e){e.srcEvent.cancelBubble=!0}),!1),t.on("tap",(function(t){i._$hasClassName(e._pausePlayBtnNode,"active")?e.sendNotification(o.VIEW_PAUSE):e.sendNotification(o.VIEW_PLAY)})),n.on("tap",(function(t){e.sendNotification(o.VIEW_RELOAD)})),r.on("tap",(function(t){e.sendNotification(o.VIEW_FULLSCREEN)})),s.on("tap",(function(t){i._$hasClassName(e._bodyNode,"f-vh")?(i._$delClassName(e._bodyNode,"f-vh"),e._controlBarAutoDisplay()):(i._$addClassName(e._bodyNode,"f-vh"),clearTimeout(this._timmer))}))},p}),"f2f864eeb701c692006bce5cfb200501","c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","4caeff9df4f166646ce2a6acb243e2a1","dbf963496e3cef891778fa497cfdafd4"),I$("1136613b305ec9c1ca23919d974d40ad",'<div class="u-edu-h5player-controlwrap-live j-controlwrap">\n    <a href="javascript:void(0);" class="bigplaybtn j-bigplaybtn">\n        <i class="u-edu-h5player-icon icon-big_play_btn"></i>\n    </a>\n\n    \x3c!--控制条--\x3e\n    <div class="m-controlbar j-controlbar f-cb">\n        <div class="g-left f-fl">\n            <div class="controlbar_btn pausebtn j-pausebtn">\n                <i class="u-edu-h5player-icon icon-pause"></i>\n            </div>\n            <div class="controlbar_btn playbtn j-playbtn">\n                <i class="u-edu-h5player-icon icon-play"></i>\n            </div>\n        </div>\n        <div class="g-right f-fr">\n            <div class="controlbar_btn volumebtn j-volumebtn">\n                <i class="u-edu-h5player-icon icon-volume"></i>\n                <div class="m-popover m-popover-volume j-popover-volume"></div>\n            </div>\n\n            <div class="controlbar_btn cdnbtn j-cdnbtn">\n                <span class="cdnbtn_text">${lang.KEY_VIDEO_LINE}</span>\n            </div>\n\n            <div class="controlbar_btn qualitybtn j-qualitybtn">\n                <span class="qualitybtn_text j-qualitybtn_text"></span>\n            </div>\n\n            <div class="controlbar_btn notfullscreen j-notfullscreen">\n                <i class="u-edu-h5player-icon icon-notfullscreen"></i>\n            </div>\n            <div class="controlbar_btn fullscreen j-fullscreen">\n                <i class="u-edu-h5player-icon icon-fullscreen"></i>\n            </div>\n        </div>\n    </div>\n</div>\n'),I$("db5bac0aa4dd4d46c0f2f604c6004831",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p){var h=t.C(),_=h.extend(n);return h.NAME="videoControlLiveComponent",_._init=function(e,t){return this.__super(e,t),this.ban(),this._state="PLAYING",this._movieData=null,this._volumeRecord=1,this._hasVolumeInited=!1,this._isKeyEventActive=!0,this._controlbar=i._$getByClassName(this._rootNode,"j-controlbar")[0],this._controlWrap=i._$getByClassName(this._rootNode,"j-controlwrap")[0],this._bigplaybtn=i._$getByClassName(this._rootNode,"j-bigplaybtn")[0],this._playbtn=i._$getByClassName(this._controlbar,"j-playbtn")[0],this._pausebtn=i._$getByClassName(this._controlbar,"j-pausebtn")[0],this._volumebtn=i._$getByClassName(this._controlbar,"j-volumebtn")[0],this._volumebar=null,this._volumePopover=i._$getByClassName(this._controlbar,"j-popover-volume")[0],this._fullscreen=i._$getByClassName(this._controlbar,"j-fullscreen")[0],this._notfullscreen=i._$getByClassName(this._controlbar,"j-notfullscreen")[0],this._qualityBtn=i._$getByClassName(this._controlbar,"j-qualitybtn")[0],this._qualityBtnTxt=i._$getByClassName(this._controlbar,"j-qualitybtn_text")[0],this._qualityPopover=null,this._cdnPopover=null,this._cdnBtn=i._$getByClassName(this._controlbar,"j-cdnbtn")[0],this._initEvent(),this},_._getTpl=function(){return e},_.listNotificationInterests=function(){return[o.MOVIEDATA_READY,o.MAINVIDEO_TIME,o.MAINVIDEO_META,o.MAINVIDEO_STATE,o.MAINVIDEO_QUALITY_CHANGE,o.BOX_FULLSCREEN_CHANGE,o.MAINVIDEO_VOLUME,o.VIEW_PREAD_START,o.VIEW_PREAD_END,o.MAINVIDEO_VOLUME_INCREASE,o.MAINVIDEO_VOLUME_DECREASE,o.MOVIEDATA_CURRENT_CDN_CHANGE,o.MOVIEDATA_ERROR,o.MAINVIDEO_ERROR]},_.handleNotification=function(e){var t=e.getBody();switch(this.__super(e),e.getName()){case o.MOVIEDATA_READY:this._handleMoviedataReady(t);break;case o.MAINVIDEO_META:this._handleMainvideoMeta(t);break;case o.MAINVIDEO_STATE:this._handleMainvideoState(t);break;case o.MAINVIDEO_QUALITY_CHANGE:this._handleMainvideoQualityChange(t);break;case o.MOVIEDATA_CURRENT_CDN_CHANGE:this._handleMoviedataCurrentCDNChange(t);break;case o.BOX_FULLSCREEN_CHANGE:this._handleBoxFullscreenChange(t);break;case o.MAINVIDEO_VOLUME:this._handleMainvideoVolume(t);break;case o.VIEW_PREAD_START:this._handleViewPreadStart(t);break;case o.VIEW_PREAD_END:this._handleViewPreadEnd(t);break;case o.MAINVIDEO_VOLUME_INCREASE:case o.MAINVIDEO_VOLUME_DECREASE:this._volumebar.setProgressPos(t);break;case o.MOVIEDATA_ERROR:case o.MAINVIDEO_ERROR:this._handleError(t)}},_._initEvent=function(){r._$addEvent(this._rootNode,"mousedown",this._onRootNodeMousedown._$bind(this)),r._$addEvent(document,"mousedown",this._onDocumentMousedown._$bind(this)),r._$addEvent(document,"keydown",this._onDocumentKeydown._$bind(this)),r._$addEvent(this._playbtn,"click",function(){this._isBan||this.sendNotification(o.VIEW_PLAY)}._$bind(this)),r._$addEvent(this._bigplaybtn,"click",function(){this._isBan||this.sendNotification(o.VIEW_PLAY)}._$bind(this)),r._$addEvent(this._pausebtn,"click",function(){this._isBan||this.sendNotification(o.VIEW_PAUSE)}._$bind(this)),r._$addEvent(this._fullscreen,"click",function(){this.sendNotification(o.VIEW_FULLSCREEN)}._$bind(this)),r._$addEvent(this._notfullscreen,"click",function(){this.sendNotification(o.VIEW_FULLSCREEN)}._$bind(this)),r._$addEvent(this._volumebtn,"click",this._onVolumeBtnClick._$bind(this))},_._handleMoviedataReady=function(e){this._movieData=e,this._initControl(e),this._initAnimation()},_._handleViewPreadStart=function(e){this.ban()},_._handleViewPreadEnd=function(e){},_._handleMainvideoMeta=function(e){this.unban()},_._handleError=function(e){this.ban()},_._handleMainvideoState=function(e){this._state=e.newState,"PAUSED"==e.newState?(i._$delClassName(this._playbtn,"z-hide"),i._$delClassName(this._pausebtn,"z-show"),i._$addClassName(this._bigplaybtn,"z-show")):"PLAYING"==e.newState&&(i._$addClassName(this._playbtn,"z-hide"),i._$addClassName(this._pausebtn,"z-show"),i._$delClassName(this._bigplaybtn,"z-show"))},_._handleMainvideoQualityChange=function(e){this._qualityPopover&&this._qualityPopover.select((function(t){if(t.value==e.qualityName)return!0}),!1),this._qualityBtnTxt.innerHTML=e.qualityName},_._handleMoviedataCurrentCDNChange=function(e){this._initCdnList(e.lines,e.currentLine),this._cdnPopover&&this._cdnPopover.select((function(t){if(t.value==e.currentLine.name)return!0}),!1),this._initQualityList(e)},_._handleBoxFullscreenChange=function(e){e?(i._$addClassName(this._fullscreen,"z-hide"),i._$addClassName(this._notfullscreen,"z-show")):(i._$delClassName(this._fullscreen,"z-hide"),i._$delClassName(this._notfullscreen,"z-show"))},_._handleMainvideoVolume=function(e){var t=this;this._hasVolumeInited?this._volumebar.setProgressPos(e,!1):(this._hasVolumeInited=!0,this._volumeRecord=e||1,this._volumebar=new u({isChangeInstantly:!0,klass:"volumebar",type:4,start:e,onMousemove:function(e){e=(+e).toFixed(2),t.sendNotification(o.VIEW_VOLUME,e)},onMouseup:function(e){e=(+e).toFixed(2),t.sendNotification(o.VIEW_VOLUME,e)},onChange:function(e){e=(+e).toFixed(2),t.sendNotification(o.VIEW_VOLUME,e)}}).insertTo(this._volumePopover)),Number(e)?i._$delClassName(t._volumebtn,"z-close"):i._$addClassName(t._volumebtn,"z-close")},_._onRootNodeMousedown=function(e){e.stopPropagation(),this._isKeyEventActive=!0},_._onDocumentMousedown=function(){this._isKeyEventActive=!1},_._onDocumentKeydown=function(e){if(this._isKeyEventActive){var t=this,n=e.keyCode;if(!t._isBan)switch(r._$stopDefault(e),n){case 32:"PLAYING"==t._state?t.sendNotification(o.VIEW_PAUSE):t.sendNotification(o.VIEW_PLAY);break;case 38:t.sendNotification(o.VIEW_VOLUME_INCREASE);break;case 40:t.sendNotification(o.VIEW_VOLUME_DECREASE)}}},_._onVolumeBtnClick=function(e){(function(e,t){for(;t;){if(e==t||t.parentElement==e)return!0;t=t.parentElement}return!1})(this._volumePopover,r._$getElement(e))||(this._volumebar.crtProgressPos?(this._volumeRecord=this._volumebar.crtProgressPos,this._volumebar.setProgressPos(0)):this._volumebar.setProgressPos(this._volumeRecord))},_._initControl=function(e){this._initQualityList(e),this._initCdnList(e.lines,e.currentLine)},_._initQualityList=function(e){if(this._qualityPopover&&this._qualityPopover.destroy(),this._qualityBtnTxt.innerHTML=e.currentMovieItem.qualityName,1!=e.movieItemList.length){i._$delClassName(this._qualityBtn,"z-dis");for(var t=this,n=e.currentMovieItem,r=null,a=[],s=0;s<e.movieItemList.length;s++)r=e.movieItemList[s],a[s]={},r.quality==n.quality&&(a[s].selected=!0),a[s].value=r.qualityName,a[s].data={quality:r.quality,name:r.qualityName};this._qualityPopover=new c({dep:this._qualityBtn,klass:"m-popover-quality",list:a,onSelect:function(e,n){t.sendNotification(o.VIEW_QUALITY,{newData:e,oldData:n})}})}else i._$addClassName(this._qualityBtn,"z-dis")},_._initCdnList=function(e,t){if(this._cdnPopover&&this._cdnPopover.destroy(),e.length<=1)i._$addClassName(this._cdnBtn,"z-hide");else{i._$delClassName(this._cdnBtn,"z-hide");for(var n=this,r=[],a=null,s=0;s<e.length;s++)a=e[s],r.push({}),r[s].value=a.name,r[s].data=a,t&&a.type==t.type&&(r[s].selected=!0);this._cdnPopover=new c({dep:this._cdnBtn,klass:"m-popover-cdn"+(e.length<=3?" m-popover-cdn-one_column":""),list:r,onSelect:function(e,t){n.sendNotification(o.VIEW_CDN,{newData:e,oldData:t})}})}},_._initAnimation=function(){var e=this,t=function(){var t=-1;return function(){clearTimeout(t),i._$addClassName(e._controlWrap,"z-show"),e.sendNotification(o.VIDEO_CONTROL_SHOW),t=setTimeout((function(){i._$delClassName(e._controlWrap,"z-show"),e.sendNotification(o.VIDEO_CONTROL_HIDE)}),5e3)}}();r._$addEvent(this._rootNode,"mousemove",t),r._$addEvent(this._rootNode,"mouseleave",(function(){i._$delClassName(e._controlWrap,"z-show"),e.sendNotification(o.VIDEO_CONTROL_HIDE)}))},_.ban=function(){this._isBan=!0},_.unban=function(){this._isBan=!1},h}),"1136613b305ec9c1ca23919d974d40ad","c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","4caeff9df4f166646ce2a6acb243e2a1","e1052841e7e25c5ddf46aeb5adb1f62c","26ad79a17cd5930967e59bae946a07db"),I$("848ce0e9bf0ee9542465810e901ef9f3",'<div class="u-edu-h5player-watermark f-pa j-watermark">\n    <span class="u-edu-h5player-watermark_content j-content"></span>\n</div>\n'),I$("fef0e1ba82c4a161c2507dd272fb091b",(function(e,t,n,i,r,o,a,s,c,u,l,d,f){var p="#ffffff",h=t.C();h.NAME="WatermarkComponent";var _=h.extend(n);return _._init=function(e,t){if(this.__super(e,t),this._bodyNode=i._$getByClassName(this._rootNode,"j-watermark")[0],this._contentField=i._$getByClassName(this._bodyNode,"j-content")[0],this._config.waterMark)return this._content=this._config.waterMarkContent,this._displayDuration=12e3,this._restDuration=0,this._displayTimer,this._restTimer,this;this._bodyNode.style.display="none"},_._getTpl=function(){return e},_.listNotificationInterests=function(){return[o.MAINVIDEO_STATE]},_.handleNotification=function(e){switch(this.__super(e),e.getName()){case o.MAINVIDEO_STATE:this._handleVideoState(e.getBody())}},_._handleVideoState=function(e){switch(this._state=e.newState,this._state){case a.MEDIA_STATE.IDLE:case a.MEDIA_STATE.PAUSE:this._stop();break;case a.MEDIA_STATE.PLAYING:this._play();break;case a.MEDIA_STATE.BUFFERING:this._stop();break;case a.MEDIA_STATE.COMPLETE:this._stop()}},_._getPositionRandom=function(){return p="#ffffff"==p?"#333333":"#ffffff",{x:Math.random()*this._bodyNode.offsetWidth,y:Math.random()*(this._bodyNode.offsetHeight-14)}},_._play=function(){this._stop(),this._content&&this._startDisplay()},_._startDisplay=function(){this._displayTimer=setTimeout(function(){this._endDisplay(),this._restTimer=setTimeout(function(){this._startDisplay()}._$bind(this),this._restDuration)}._$bind(this),this._displayDuration);var e=this._getPositionRandom();this._contentField.style.left=e.x+"px",this._contentField.style.top=e.y+"px",this._contentField.innerText=this._content,this._contentField.style.display="block",this._contentField.style.color=p},_._endDisplay=function(){this._contentField.style.display="none"},_._stop=function(){this._restTimer&&clearTimeout(this._restTimer),this._displayTimer&&clearTimeout(this._displayTimer),this._contentField.visible=!1},h}),"848ce0e9bf0ee9542465810e901ef9f3","c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","4caeff9df4f166646ce2a6acb243e2a1","dbf963496e3cef891778fa497cfdafd4"),I$("8865224c370b5aa813c5781eb607ab57",'<div class="u-edu-h5player-popmenu f-pa j-popmenu">\n    <ul>\n        <li class="u-edu-h5player-popmenu_item u-edu-h5player-popmenu_item-noclick j-item">eduPlayer v0.0.0</li>\n        <li class="u-edu-h5player-popmenu_item j-item">${lang.KEY_VIDEO_SHOW_STAT}</li>\n    </ul>\n</div>\n'),I$("a0fdeb35b14e6d43b9f02f476887a83e",{name:"component-video-player",version:"0.37.0",authors:["edu <edu@corp.netease.com>"],description:"unit test for component",main:"test/test.html",moduleType:["globals"],keywords:["module","unit","test"],license:"MIT",homepage:"",ignore:["doc","test","tutorials"],dependencies:{nej:"0.5.1",regularjs:"0.5.1",hammerjs:"2.0.8","res-base":"~0.40.0","edu-front-util":"~0.58.1","component-base":"~0.15.1"},devDependencies:{mocha:"^3.0.2",chai:"^3.5.0"},components:["flash","h5","h5-live","h5-native"]}),I$("b51d14bb236c32ad748a437558f6e13c",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p,h,_){var m=t.C();m.NAME="popMenuComponent";var v=m.extend(i);return v._init=function(e,t){return this.__super(e,t),this._bodyNode=r._$getByClassName(this._rootNode,"j-popmenu")[0],this._itemNodes=r._$getByClassName(this._rootNode,"j-item"),o._$addEvent(this._rootNode,"contextmenu",this._showMenu._$bind(this)),o._$addEvent(this._rootNode,"click",this._hideMenu._$bind(this)),o._$addEvent(this._itemNodes[1],"click",this._showLog._$bind(this)),this._itemNodes[0].innerText="eduPlayer v"+d.version,this},v._getTpl=function(){return e},v.listNotificationInterests=function(){return[]},v.handleNotification=function(e){this.__super(e)},v._handleMoviedataReady=function(e){},v._showMenu=function(e){e&&o._$stopDefault(e);var t=o._$pageX(e),n=o._$pageY(e),i=r._$offset(this._rootNode);this._bodyNode.style.top=n-i.y+"px",this._bodyNode.style.left=t-i.x+"px",r._$addClassName(this._bodyNode,"z-show")},v._hideMenu=function(e){r._$delClassName(this._bodyNode,"z-show")},v._showLog=function(){this.sendNotification(a.VIEW_SHOW_LOG)},m}),"8865224c370b5aa813c5781eb607ab57","c0997d8c9f1e7b615be7f959fd3049c3","84c66edbaac3f0e7d6c8b753c5fa2fbd","511b1e441b88674648f89c3b3b44a82d","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","4d14fe09a1f8c33087e0788a0b080a10","0fbc02cbf83291e1c03681700cf06139","dbf963496e3cef891778fa497cfdafd4","d8227ca5ac6da601830524302cb405ea","483c4142bb086344703050c5dd156ad1","a0fdeb35b14e6d43b9f02f476887a83e"),I$("08659953bdb120af198d88e143740fd1",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p,h,_,m,v,b,g,y,E,A,w,C,$,x,S){var I=[],k=[];return{get:function(t){if(I=[],t.useNative)return I.push(s),I.push(c),I.push(a),"live"==t.mode?I.push(o):I.push(r),I;if(k.length)for(var v=0;v<k.length;v++)if(k[v]&&e._$isFunction(k[v])){var C=k[v](t);C._$super==n?I.push(C):console.error("custom class is not extends from base component")}return w.isMobileNotIncludeIPad()?(I.push(f),"live"==t.mode?I.push(g):(I.push(_),I.push(m)),I.push(b),I.push(E)):("live"==t.mode?I.push(y):I.push(h),I.push(u),I.push(p),I.push(b),I.push(E),I.push(A)),I.push(i),I.push(l),I.push(d),I.push(s),I.push(c),I.push(a),"live"==t.mode?I.push(o):I.push(r),I},add:function(e){k.push(e)}}}),"84c66edbaac3f0e7d6c8b753c5fa2fbd","dbf963496e3cef891778fa497cfdafd4","511b1e441b88674648f89c3b3b44a82d","074675d453a82eb972112cb2d8596a7e","e19de14c3cffd61937c8533fc9b40fee","82893ee5d54d8ef4583d78b30a7a4961","6769750a18197b91e43a4494c7a62e32","eb0faf66ae458993b87a7f50bf732fb8","488974a3681ac94be3ab64c04f7ef0ad","cf52f713919633d1230f16d736275369","dfd4362da444b94524652e6d20ca9a04","7e8ffe3c89fc691f9ce8412114c658db","e1caf7dba70c06726eb1aabb86932f8d","1f847ac7c379299be89b0f4d8f4dab04","b92b220ca6c47e4d0cf0aae68ee6991b","87400ea888926ad3d912098742e7568a","5015c9e9c514c645cc53c3d7ffdabdc6","cc299dd5d731221a52d7ae6549f280c1","c6dd65341c32d718128e814aa70cb40f","c5dcb677e24030c7b38cad548fe5d406","db5bac0aa4dd4d46c0f2f604c6004831","fef0e1ba82c4a161c2507dd272fb091b","b51d14bb236c32ad748a437558f6e13c","4caeff9df4f166646ce2a6acb243e2a1"),I$("3b5ea359b8cb7f4884b9bbd1a7b9931a",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p,h,_){var m=i.C(),v=m.pro;return v._init=function(i){return this.__playerConfig=t._$merge({},i),s.init(this.__playerConfig),this.__playerConfig.parent.innerHTML=e,this.__playerConfig.rootNode=n._$getChildren(this.__playerConfig.parent)[0],this._doConfig(i,function(){if(this.__componentContainer=new a,this.__componentList=o.get(this.__playerConfig),t._$forIn(this.__componentList,function(e,t){e.componentContainer=this.__componentContainer,this.__componentContainer.registerComponent(new e(this.__playerConfig,this))}._$bind(this)),this._isReady=!0,this.__componentContainer.notifyObservers(new u(l.VIEW_READY)),this._readyCallBacks){for(var e=0;e<this._readyCallBacks.length;e++)this._readyCallBacks[e]();delete this._readyCallBacks}}._$bind(this)),this},v.ready=function(e){this._isReady?e&&e():(this._readyCallBacks=this._readyCallBacks||[],this._readyCallBacks.push(e))},v._doConfig=function(e,t){d._$isMobileAll()?this.__playerConfig.beforePlay=!1:this.__playerConfig.beforePlay=!0,c.supportAutoPlay(e,function(e){this.__playerConfig.autoStart&&(e?this.__playerConfig.isPreload=!1:(this.__playerConfig.autoStart=!1,this.__playerConfig.isPreload=!0)),("live"==this.__playerConfig.mode||d._$isMobileAll())&&(this.__playerConfig.isPreload=!1),this.__playerConfig.useNative&&(this.__playerConfig.autoStart=!0),t()}._$bind(this))},v.destory=function(){t._$forEach(this.__componentList,function(e,t){this.__componentContainer.removeComponent(e.NAME)}._$bind(this)),this.__playerConfig.parent.removeChild(this.__playerConfig.rootNode)},m.extend=function(e){o.add(e)},m.createComponent=function(e){var t=i.C();return t.NAME=e,t.extend(r),t},m}),"0abdeb2a02a17f94629c5b65cade0438","84c66edbaac3f0e7d6c8b753c5fa2fbd","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0997d8c9f1e7b615be7f959fd3049c3","511b1e441b88674648f89c3b3b44a82d","08659953bdb120af198d88e143740fd1","bc2dfd1af9aa106c101c02f9beffe78b","12f2410d79ec3fdd20eb6591308492de","4caeff9df4f166646ce2a6acb243e2a1","3fc446ecd379af19391f9ef27f1b4d95","4d14fe09a1f8c33087e0788a0b080a10","dbf963496e3cef891778fa497cfdafd4"),I$("e10c0ade9c1d999eefaaa8cd37825bb0",(function(e,t,n,i,r,o,a){o._$$Html5VideoPlayer=t._$klass();var s=o._$$Html5VideoPlayer._$extend(i._$$EventTarget);return s.__init=function(){this.__super()},s.__reset=function(e){this.__super(e),this.__options=e,this.__videoOptions=e.data,this.__genH5Player()},s.__genH5Player=function(){this.__playerUI=new r({parent:this.__options.parent,isLocal:Boolean(this.__videoOptions.isLocal),mode:this.__videoOptions.mode,host:this.__videoOptions.host,useNative:this.__videoOptions.useNative,autoStart:this.__videoOptions.autoStart,defaultQuality:this.__videoOptions.defaultQuality,rate:this.__videoOptions.rate,mute:this.__videoOptions.mute,volume:this.__videoOptions.volume,isPreload:this.__videoOptions.preload,showPauseAd:this.__videoOptions.showPauseAd,showCdnSwitch:!1,cdnSwitch:this.__videoOptions.cdnSwitch,lineSwitch:this.__videoOptions.lineSwitch,notAllowFullScreen:this.__videoOptions.notAllowFullScreen,x5Fullscreen:!!this.__videoOptions.x5Fullscreen,waterMark:this.__videoOptions.waterMark,waterMarkContent:this.__videoOptions.waterMarkContent,openAutoPlayNextTip:this.__videoOptions.openAutoPlayNextTip,onStartLoad:this.__onStartLoad._$bind(this),onMeta:this.__onMeta._$bind(this),onError:this.__onError._$bind(this),onSeek:this.__onSeek._$bind(this),onPlay:this.__onPlay._$bind(this),onPause:this.__onPause._$bind(this),onBuffering:this.__onBuffering._$bind(this),onPlayClick:this.__onPlayClick._$bind(this),onPauseClick:this.__onPauseClick._$bind(this),onPlayEnd:this.__onPlayEndHandle._$bind(this),onChangeRate:this.__onChangeRate._$bind(this),onChangeVolume:this.__onChangeVolume._$bind(this),onMute:this.__onChangeMute._$bind(this),onSelectResolution:this.__onSelectResolution._$bind(this),onSelectCaption:this.__onSelectCaption._$bind(this),onChangeCDN:this.__onSelectCDN._$bind(this),onAnchorPoint:this.__onAnchorHandle._$bind(this),onFullscreenChange:this.__onFullscreenChange._$bind(this),onTimeupdate:this.__onTimeupdate._$bind(this)}),this.__videoOptions.videoData&&(this.__videoOptions.videoData.cdnSwitch=this.__videoOptions.cdnSwitch,this.__videoOptions.videoData.lineSwitch=this.__videoOptions.lineSwitch,this.__playerUI.ready(function(){this.__playerUI.load(this.__videoOptions.videoData)}._$bind(this)))},s.__destroy=function(){this.__supDestroy(),this.__playerUI&&(this.__playerUI.destory(),this.__playerUI=null)},s._$stop=function(){this.__playerUI.ready(function(){this.__playerUI.stop()}._$bind(this))},s._$load=function(e){e&&this.__playerUI.ready(function(){this.__playerUI.load(e)}._$bind(this))},s._$pause=function(){this.__playerUI.ready(function(){this.__playerUI.pause()}._$bind(this))},s._$resume=function(){this.__playerUI.ready(function(){this.__playerUI.resume()}._$bind(this))},s._$getPosition=function(e){this.__playerUI.ready(function(){e&&e(this.__playerUI.getPosition(e))}._$bind(this))},s._$seek=function(e){this.__playerUI.ready(function(){this.__playerUI.seek(e)}._$bind(this))},s._$getState=function(e){this.__playerUI.ready(function(){e&&e(this.__playerUI.getState())}._$bind(this))},s._$getStateInfo=function(e){this.__playerUI.ready(function(){e&&e(this.__playerUI.getStateInfo())}._$bind(this))},s._$checkLiveReload=function(){},s._$exitFullScreen=function(){this.__playerUI.ready(function(){this.__playerUI.exitFullScreen()}._$bind(this))},s._$getLog=function(e){this.__playerUI.ready(function(){e&&e(this.__playerUI.getLog())}._$bind(this))},s._$metaFPS=function(){return this.__playerUI.metaFPS()},s._$currentFPS=function(){return this.__playerUI.currentFPS()},s._$currentKbps=function(){return this.__playerUI.currentKbps()},s._$checkLiveReload=function(){},s._$exitFullScreen=function(){return this.__playerUI.exitFullScreen()},s._$getLog=function(e){e&&e(this.__playerUI.getLog())},s._$isBlock=function(){return this.__playerUI.isBlock()},s._$metaFPS=function(){return this.__playerUI.metaFPS()},s._$currentFPS=function(){return this.__playerUI.currentFPS()},s._$currentKbps=function(){return this.__playerUI.currentKbps()},s.__onStartLoad=function(e){this._$dispatchEvent("onStartLoad",e)},s.__onMeta=function(e){this._$dispatchEvent("onMeta",e)},s.__onError=function(e){this._$dispatchEvent("onError",e)},s.__onPlayEndHandle=function(){this._$dispatchEvent("onPlayEnd")},s.__onAnchorHandle=function(e){this._$dispatchEvent("onAnchorPoint",e)},s.__onFullscreenChange=function(e){this._$dispatchEvent("onFullscreenChange",e)},s.__onTimeupdate=function(e){this._$dispatchEvent("onTimeupdate",e)},s.__onChangeVolume=function(e){setTimeout(function(){this._$dispatchEvent("onChangeVolume",e)}._$bind(this),0)},s.__onChangeRate=function(e){this._$dispatchEvent("onChangeRate",e)},s.__onChangeMute=function(e){setTimeout(function(){this._$dispatchEvent("onMute",e)}._$bind(this),0)},s.__onSeek=function(e){this._$dispatchEvent("onSeek",e)},s.__onSelectResolution=function(e){this._$dispatchEvent("onSelectResolution",e)},s.__onSelectCaption=function(e){this._$dispatchEvent("onSelectCaption",e)},s.__onSelectCDN=function(e){this._$dispatchEvent("onChangeCDN",e)},s.__onPlay=function(){this._$dispatchEvent("onPlay")},s.__onPause=function(){this._$dispatchEvent("onPause")},s.__onBuffering=function(){this._$dispatchEvent("onBuffering")},s.__onPlayClick=function(){this._$dispatchEvent("onPlayClick")},s.__onPauseClick=function(e){this._$dispatchEvent("onPauseClick",e)},o}),"84c66edbaac3f0e7d6c8b753c5fa2fbd","21695c9c68ca9b7b4b0b20b75db7c635","0648e0c0c5aea01ad6e22f1aaa3f76a3","538a7b5718a38aec5f3e055b957e51e1","3b5ea359b8cb7f4884b9bbd1a7b9931a"),I$("2ff0bdac31be155714d084e1116f8edb",(function(e,t,n,i,r){var o=function(e,t){return e<<t|e>>>32-t},a=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},s=function(e,t,n,i){return e<20?t&n|~t&i:e<40?t^n^i:e<60?t&n|t&i|n&i:t^n^i},c=function(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514},u=function(){var e=function(e){return e%32},t=function(e){return 24-e%32};return function(n,i){for(var r=[],o=i?e:t,a=0,s=8*n.length;a<s;a+=8)r[a>>5]|=(255&n.charCodeAt(a/8))<<o(a);return r}}(),l=function(){var e="0123456789abcdef",t=function(e){return e%4},n=function(e){return 3-e%4};return function(i,r){for(var o=[],a=r?t:n,s=0,c=4*i.length;s<c;s++)o.push(e.charAt(i[s>>2]>>8*a(s)+4&15)+e.charAt(i[s>>2]>>8*a(s)&15));return o.join("")}}(),d=function(){var e=function(e){return e%32},t=function(e){return 24-e%32};return function(n,i){for(var r=[],o=i?e:t,a=0,s=32*n.length;a<s;a+=8)r.push(String.fromCharCode(n[a>>5]>>>o(a)&255));return r.join("")}}(),f=function(){var e=function(e){return e%4},t=function(e){return 3-e%4};return function(n,i){for(var r,o=[],a=i?e:t,s=0;s<4*n.length;s+=3){r=(n[s>>2]>>8*a(s)&255)<<16|(n[s+1>>2]>>8*a(s+1)&255)<<8|n[s+2>>2]>>8*a(s+2)&255;for(var c=0;c<4;c++)o.push(8*s+6*c>32*n.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>6*(3-c)&63))}return o.join("")}}(),p=function(e,t,n,i,r,s){return a(o(a(a(t,e),a(i,s)),r),n)},h=function(e,t,n,i,r,o,a){return p(t&n|~t&i,e,t,r,o,a)},_=function(e,t,n,i,r,o,a){return p(t&i|n&~i,e,t,r,o,a)},m=function(e,t,n,i,r,o,a){return p(t^n^i,e,t,r,o,a)},v=function(e,t,n,i,r,o,a){return p(n^(t|~i),e,t,r,o,a)},b=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n,i,r,o,s=1732584193,c=-271733879,u=-1732584194,l=271733878,d=0,f=e.length;d<f;d+=16)n=s,i=c,r=u,o=l,s=h(s,c,u,l,e[d+0],7,-680876936),l=h(l,s,c,u,e[d+1],12,-389564586),u=h(u,l,s,c,e[d+2],17,606105819),c=h(c,u,l,s,e[d+3],22,-1044525330),s=h(s,c,u,l,e[d+4],7,-176418897),l=h(l,s,c,u,e[d+5],12,1200080426),u=h(u,l,s,c,e[d+6],17,-1473231341),c=h(c,u,l,s,e[d+7],22,-45705983),s=h(s,c,u,l,e[d+8],7,1770035416),l=h(l,s,c,u,e[d+9],12,-1958414417),u=h(u,l,s,c,e[d+10],17,-42063),c=h(c,u,l,s,e[d+11],22,-1990404162),s=h(s,c,u,l,e[d+12],7,1804603682),l=h(l,s,c,u,e[d+13],12,-40341101),u=h(u,l,s,c,e[d+14],17,-1502002290),c=h(c,u,l,s,e[d+15],22,1236535329),s=_(s,c,u,l,e[d+1],5,-165796510),l=_(l,s,c,u,e[d+6],9,-1069501632),u=_(u,l,s,c,e[d+11],14,643717713),c=_(c,u,l,s,e[d+0],20,-373897302),s=_(s,c,u,l,e[d+5],5,-701558691),l=_(l,s,c,u,e[d+10],9,38016083),u=_(u,l,s,c,e[d+15],14,-660478335),c=_(c,u,l,s,e[d+4],20,-405537848),s=_(s,c,u,l,e[d+9],5,568446438),l=_(l,s,c,u,e[d+14],9,-1019803690),u=_(u,l,s,c,e[d+3],14,-187363961),c=_(c,u,l,s,e[d+8],20,1163531501),s=_(s,c,u,l,e[d+13],5,-1444681467),l=_(l,s,c,u,e[d+2],9,-51403784),u=_(u,l,s,c,e[d+7],14,1735328473),c=_(c,u,l,s,e[d+12],20,-1926607734),s=m(s,c,u,l,e[d+5],4,-378558),l=m(l,s,c,u,e[d+8],11,-2022574463),u=m(u,l,s,c,e[d+11],16,1839030562),c=m(c,u,l,s,e[d+14],23,-35309556),s=m(s,c,u,l,e[d+1],4,-1530992060),l=m(l,s,c,u,e[d+4],11,1272893353),u=m(u,l,s,c,e[d+7],16,-155497632),c=m(c,u,l,s,e[d+10],23,-1094730640),s=m(s,c,u,l,e[d+13],4,681279174),l=m(l,s,c,u,e[d+0],11,-358537222),u=m(u,l,s,c,e[d+3],16,-722521979),c=m(c,u,l,s,e[d+6],23,76029189),s=m(s,c,u,l,e[d+9],4,-640364487),l=m(l,s,c,u,e[d+12],11,-421815835),u=m(u,l,s,c,e[d+15],16,530742520),c=m(c,u,l,s,e[d+2],23,-995338651),s=v(s,c,u,l,e[d+0],6,-198630844),l=v(l,s,c,u,e[d+7],10,1126891415),u=v(u,l,s,c,e[d+14],15,-1416354905),c=v(c,u,l,s,e[d+5],21,-57434055),s=v(s,c,u,l,e[d+12],6,1700485571),l=v(l,s,c,u,e[d+3],10,-1894986606),u=v(u,l,s,c,e[d+10],15,-1051523),c=v(c,u,l,s,e[d+1],21,-2054922799),s=v(s,c,u,l,e[d+8],6,1873313359),l=v(l,s,c,u,e[d+15],10,-30611744),u=v(u,l,s,c,e[d+6],15,-1560198380),c=v(c,u,l,s,e[d+13],21,1309151649),s=v(s,c,u,l,e[d+4],6,-145523070),l=v(l,s,c,u,e[d+11],10,-1120210379),u=v(u,l,s,c,e[d+2],15,718787259),c=v(c,u,l,s,e[d+9],21,-343485551),s=a(s,n),c=a(c,i),u=a(u,r),l=a(l,o);return[s,c,u,l]},g=function(e,t){var n=u(e,!0);n.length>16&&(n=b(n,8*e.length));for(var i=Array(16),r=Array(16),o=0;o<16;o++)i[o]=909522486^n[o],r[o]=1549556828^n[o];var a=b(i.concat(u(t,!0)),512+8*t.length);return b(r.concat(a),640)},y=function(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,i,r,u,l,d=Array(80),f=1732584193,p=-271733879,h=-1732584194,_=271733878,m=-1009589776,v=0,b=e.length;v<b;v+=16){n=f,i=p,r=h,u=_,l=m;for(var g=0;g<80;g++){d[g]=g<16?e[v+g]:o(d[g-3]^d[g-8]^d[g-14]^d[g-16],1);var y=a(a(o(f,5),s(g,p,h,_)),a(a(m,d[g]),c(g)));m=_,_=h,h=o(p,30),p=f,f=y}f=a(f,n),p=a(p,i),h=a(h,r),_=a(_,u),m=a(m,l)}return[f,p,h,_,m]},E=function(e,t){var n=u(e);n.length>16&&(n=y(n,8*e.length));for(var i=Array(16),r=Array(16),o=0;o<16;o++)i[o]=909522486^n[o],r[o]=1549556828^n[o];var a=y(i.concat(u(t)),512+8*t.length);return y(r.concat(a),672)};return t._$hmacsha12hex=function(e,t){return l(E(e,t))},t._$hmacsha12b64=function(e,t){return f(E(e,t))},t._$hmacsha12str=function(e,t){return d(E(e,t))},t._$hmacmd52hex=function(e,t){return l(g(e,t),!0)},t._$hmacmd52b64=function(e,t){return f(g(e,t),!0)},t._$hmacmd52str=function(e,t){return d(g(e,t),!0)},t._$sha12hex=function(e){return l(y(u(e),8*e.length))},t._$sha12b64=function(e){return f(y(u(e),8*e.length))},t._$sha12str=function(e){return d(y(u(e),8*e.length))},t._$md52hex=function(e){return l(b(u(e,!0),8*e.length),!0)},t._$md52b64=function(e){return f(b(u(e,!0),8*e.length),!0)},t._$md52str=function(e){return d(b(u(e,!0),8*e.length),!0)},t._$str2hex=function(e,t){return l(u(e,!t),!t)},e.copy(e.P("nej.u"),t),t}),"4ba3beecac53c63f6abbc5d32a9eb5c9"),I$("bb52120455b50340a59adfba013e0d5a",(function(){var e,t=window,n=t.crypto||t.msCrypto;if(n&&n.getRandomValues){var i=new Uint8Array(16);e=function(){return n.getRandomValues(i),i}}if(!e){var r=new Array(16);e=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}return e})),I$("ff96ff9ad69bb731771f2a44a0462eaf",(function(){for(var e=[],t=0;t<256;++t)e[t]=(t+256).toString(16).substr(1);return function(t,n){var i=n||0,r=e;return r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]}})),I$("5e1aae51374c7bfc5eab1c8532570b98",(function(e,t,n,i,r,o,a){var s={},c=function(){return this}();return s._$getWebUser=function(){var e=c.webUser||"";return function(){return e}}(),s._$isUserOwner=function(e,t){return!!e&&e==s._$getWebUser().id||!!t&&t==s._$getWebUser().loginId},s._$uuid=function(e,i,r){var o=i&&r||0;"string"==typeof e&&(i="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||t)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,i)for(var s=0;s<16;++s)i[o+s]=a[s];return i||n(a)},s._$getUuidFromCookie=function(e){var t=i._$cookie("uuid");return e=e||{},t||(t=s._$uuid(),i._$cookie("uuid",{path:"/",domain:"."+location.hostname,value:t,expires:e.expireTime||30})),t},s._$autoSelf=function(){return"TO_B"==i._$cookie("LOGIN_CHANNEL")},s._$autoFirstLogin=function(){return"TRUE"==i._$cookie("FIRST_LOGIN")&&(i._$cookie("FIRST_LOGIN",{expires:-1}),!0)},s}),"bb8dded43dcd62a8a3ad620018ec311f","bb52120455b50340a59adfba013e0d5a","ff96ff9ad69bb731771f2a44a0462eaf","4b580f44bb46eed3bdca9ef584876649","029230f12d85f681c73aa5dfa7b15d14","dbf963496e3cef891778fa497cfdafd4","359df7a607d3d9edad6eae4ba16084ed"),I$("b674ca63418f62d8772f78bac4c0adb4",(function(e,t,n,i,r,o,a,s,c){s._$$LogReport=t._$klass();var u=s._$$LogReport._$extend(i._$$EventTarget);return u.__init=function(){this.__super()},u.__reset=function(){this.__super(),this._statObjStart={create_time:(new Date).getTime().toString(),device_id:this._genDeviceID(),manufacturer:navigator.userAgent,platform:"web",sdk_version:"eduPlayer v0.0.26",session_id:this._genSessionId()},this._statTimes=0,this._currentMovie=null,this._blockNumArr=[],this._printTimeArr=[],this._vfpsArr=[],this._pvfpsArr=[],this._kbpsArr=[],this._errorCode=null,this._errorMessage=null},u.setPlayer=function(e,t){this._player=t,this._isLive="live"==e.mode,this._initEvent()},u.__destroy=function(){this.__super(),this._clearSecTimer()},u._initEvent=function(){this._player._$addEvent("onStartLoad",this._onStartLoad._$bind(this)),this._player._$addEvent("onError",this._onError._$bind(this)),this._player._$addEvent("onPlayEnd",this._onEnd._$bind(this)),this._player._$addEvent("onPlay",this._onPlay._$bind(this)),this._player._$addEvent("onPause",this._onPause._$bind(this))},u._genDeviceID=function(){var e,t=new Date,n=document.cookie.match(i),i=new RegExp("(^| )eduplayer_device_id=([^;]*)(;|$)");return n?e=n[2]:(e=(new Date).getTime().toString()+Math.round(1e10*Math.random()).toString(),t.setTime(t.getTime()+31536e6),document.cookie="eduplayer_device_id="+e+";path=/;expires="+t.toGMTString()),e},u._genSessionId=function(){return this._sessionId||(this._sessionId=(new Date).getTime().toString()+Math.round(1e10*Math.random()).toString()),this._sessionId},u._choosePostLog=function(){this._isLive&&this._postLiveLogToSPY()},u._postLiveLogToSPY=function(){if(this._currentMovie){var e={create_time:this._statObjStart.create_time,device_id:this._statObjStart.device_id,manufacturer:this._statObjStart.manufacturer,platform:this._statObjStart.platform,sdk_version:this._statObjStart.sdk_version,session_id:this._statObjStart.session_id,pull_url:this._currentMovie.url,isp:"",cdn_type:""};e.print_time=this._printTimeArr.join(","),e.real_block_num=this._blockNumArr.join(","),e.real_v_fps=this._vfpsArr.join(","),e.real_p_v_fps=this._pvfpsArr.join(","),e.real_v_kbps=this._kbpsArr.join(",");var t={type:"json",data:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"},cookie:!1,onload:function(e){}._$bind(this),onerror:function(){}};r._$request("//sdkstats.live.126.net/sdkstats/report/type=4",t)}},u._setSecTimer=function(){this._secTimer||(this._secTimer=setInterval(this._getDataSec._$bind(this),1e3))},u._clearSecTimer=function(){this._secTimer&&(clearInterval(this._secTimer),this._secTimer=null)},u._getDataSec=function(){if(this._printTimeArr.push((new Date).getTime()),this._player._$isBlock)try{this._blockNumArr.push(this._player._$isBlock()?1:0)}catch(e){this._blockNumArr.push(0)}else this._blockNumArr.push(0);if(this._player._$metaFPS)try{this._vfpsArr.push(Math.round(this._player._$metaFPS()))}catch(e){this._vfpsArr.push(0)}else this._vfpsArr.push(0);if(this._player._$currentFPS)try{this._pvfpsArr.push(Math.round(this._player._$currentFPS()))}catch(e){this._pvfpsArr.push(0)}else this._pvfpsArr.push(0);if(this._player._$currentKbps)try{this._kbpsArr.push(Math.round(this._player._$currentKbps()))}catch(e){this._kbpsArr.push(0)}else this._kbpsArr.push(0);this._statTimes++,60==this._statTimes&&(this._statTimes=0,this._choosePostLog(),this._printTimeArr=[],this._blockNumArr=[],this._vfpsArr=[],this._pvfpsArr=[],this._kbpsArr=[])},u._onStartLoad=function(e){(!this._currentMovie||this._currentMovie&&e.url!=this._currentMovie.url)&&(this._clearSecTimer(),this._currentMovie=e,this._blockNumArr=[],this._printTimeArr=[],this._vfpsArr=[],this._pvfpsArr=[],this._kbpsArr=[],this._statTimes=0)},u._onPlay=function(e){this._setSecTimer()},u._onPause=function(e){this._clearSecTimer()},u._onEnd=function(e){this._clearSecTimer()},u._onError=function(t){this._clearSecTimer(),e._$isObject(t)?(this._errorCode=t.errorType||t.errorCode||t.code,this._errorMessage=t.errorMessage||t.errMsg||t.message):(this._errorCode=t,this._errorMessage=null),this._choosePostLog()},s}),"84c66edbaac3f0e7d6c8b753c5fa2fbd","21695c9c68ca9b7b4b0b20b75db7c635","0648e0c0c5aea01ad6e22f1aaa3f76a3","538a7b5718a38aec5f3e055b957e51e1","f1cb28abde9911cf82d810c70c54b84c","2ff0bdac31be155714d084e1116f8edb","5e1aae51374c7bfc5eab1c8532570b98"),I$("c4cddf1c73985215b085dc113956b9f5",(function(e,t,n,i,r,o,a,s,c,u,l,d,f,p,h,_,m,v,b){return n.$extends({name:"ux-video-player",css:t,template:e,bem:"&",config:function(){var e={host:location.protocol+"//"+location.host,useH5:!0,useNative:!1,isLocal:!1,mode:"playback",preload:!0,showPauseAd:!1,innerSite:!0,autoStart:!1,volume:.8,mute:!1,showCdnSwitch:!0,notAllowFullScreen:!1,openAutoPlayNextTip:void 0,videoPlayerSwfRemoteUrl:null,videoPlayerUISwfRemotePath:null,x5Fullscreen:!1,waterMark:!1,waterMarkContent:"",videoData:null,isWap:h._$isMobileAll(),showTip:!1,tipMsg:""};this._fetchVideoErrorCount=0,e=this._mergeLocalConfig(e),i.extend(e,r.get("component-video-player")||{},!0),i.extend(this.data,e),this.supr()},_mergeLocalConfig:function(e){var t=this._readLocalConfig();return void 0!==t.volume&&(e.volume=t.volume),void 0!==t.mute&&(e.mute=t.mute),void 0!==t.cdnSwitch&&(e.cdnSwitch=t.cdnSwitch),void 0!==t.rate&&(e.rate=t.rate),e.volume&&!e.mute||(e.volume=0,e.mute=!0),e},init:function(){this.supr(),"playback"!=this.data.mode&&(this.data.mode="playback"),this._initLog(),this.data.volume=this._formatNumberParam(this.data.volume),this._dealOldPros(),this._fetchVideoData()},destroy:function(){this.__playerUI&&this.__playerUI._$recycle(),this._logReport&&this._logReport._$recycle(),this.supr()},_fetchVideoData:function(){if(this.data.videoData.videoId&&this.data.videoData.signature){var e={onload:function(e){var t;0==e.code?(this.data.videoData=o._$merge({},e.result,this.data.videoData||{}),this._genPlayer()):-2==e.code?(tips=b.KEY_VIDEO_PAGE_EXPIRED+'<a class="j-reload">'+b.KEY_VIDEO_RELOAD+" [code:-1]",this._onError("signature_expired"),this._showTip(tips)):(t=b.KEY_VIDEO_VIDEO_FAILD+" [code:-2]",this._onError("invalid_error"),this._showTip(t))}._$bind(this),onerror:function(e){this._retryFetchVideo()}._$bind(this),method:"get",type:"json",sync:this.data.isWap,cookie:!0,data:{videoId:this.data.videoData.videoId,signature:this.data.videoData.signature,clientType:this.data.isWap?3:1}};v._$request("//vod.study.163.com/eds/api/v1/vod/video",e)}else this._genPlayer()},_retryFetchVideo:function(){this._fetchVideoErrorCount>=3?(this._onError("get_video_net_work_error"),this._showTip(b.KEY_VIDEO_VIDEO_FAILD+" [code:-3]")):(this._fetchVideoErrorCount++,this._fetchVideoData())},_showTip:function(e){this.data.showTip=!0,this.data.tipMsg=e,this.$update();var t=a._$getByClassName(this.$refs.playerNode,"j-reload")[0];t&&s._$addEvent(t,"click",(function(){window.location.reload()}))},_readLocalConfig:function(){this.data.cookieDomain&&this._clearOldCookie();var e=c._$cookie("videoVolume"),t=c._$cookie("hasVolume"),n=c._$cookie("cdnName"),i=1*(c._$cookie("videoResolutionType")||1),r=1*(c._$cookie("videoRate")||1);return{volume:e=""==e?void 0:Number(e),mute:void 0!==(t=""==t?void 0:t)&&"false"==t,cdnSwitch:n=""==n?void 0:n,defaultQuality:i=isNaN(i)?void 0:i,rate:r=isNaN(r)?void 0:r}},_clearOldCookie:function(){c._$cookie("videoVolume",{domain:location.host,expires:-1}),c._$cookie("hasVolume",{domain:location.host,expires:-1}),c._$cookie("videoResolutionType",{domain:location.host,expires:-1}),c._$cookie("videoRate",{domain:location.host,expires:-1})},_shouldGenH5Player:function(){if(!this.data.videoData)throw this._showTip(b.KEY_VIDEO_VIDEO_FAILD+" [code:-4]"),this._onError("no_videodata"),new Error("no_videodata");if(!this.data.videoData.videos)throw this._showTip(b.KEY_VIDEO_VIDEO_FAILD+" [code:-5]"),this._onError("no_videos"),new Error("no_videos");var e=this.data.videoData.videos;if(!e.length)throw this._showTip(b.KEY_VIDEO_VIDEO_FAILD+" [code:-6]"),this._onError("no_videos"),new Error("no_videos");var t,n,i={},r=f.supportVideo()&&this.data.useH5,o=f.supportHLS(),a=f.supportFlv();t=["mp4","hls","flv"];for(var s=0;s<t.length;s++)for(var c=0;c<e.length;c++)e[c].format==t[s]&&(i[t[s]]=i[t[s]]||[],i[t[s]].push(e[c]));if(i.mp4&&i.mp4.length?(this.data.videoData.videos=i.mp4,n=r):i.hls&&i.hls.length?(this.data.videoData.videos=i.hls,n=r&&o):i.flv&&i.flv.length&&(this.data.videoData.videos=i.flv,n=r&&a&&"live"==this.data.mode),this.data.videoData.videos)return this.data.videoData.videos.sort((function(e,t){return t.quality-e.quality})),n;throw this._showTip(b.KEY_VIDEO_NOT_SUPPORT+" [code:-7]"),this._onError("no_player_can_use"),new Error("no_player_can_use")},_dealOldPros:function(e){function t(e,t,n,i){t&&(e.videos=e.videos||[],e.videos.push({quality:n,videoUrl:t,format:i,encrypt:e.isEncrypt,e:e.isEncrypt,videoDecryptData:e.videoDecryptData,clientEncryptKeyVersion:e.clientEncryptKeyVersion,k:e.videoDecryptData,v:e.clientEncryptKeyVersion}))}this.data.videoData=this.data.videoData||{};var n=this.data.videoData.flvCaption||this.data.videoData.mp4Caption;n&&(this.data.videoData.srtCaptions=n,delete this.data.videoData.flvCaption,delete this.data.videoData.mp4Caption),this.data.videoData.videos||(t(this.data.videoData,this.data.videoData.flvSdUrl,p.VIDEO_QUALITY.SD,"flv"),t(this.data.videoData,this.data.videoData.flvHdUrl,p.VIDEO_QUALITY.HD,"flv"),t(this.data.videoData,this.data.videoData.flvShdUrl,p.VIDEO_QUALITY.SHD,"flv"),t(this.data.videoData,this.data.videoData.mp4SdUrl,p.VIDEO_QUALITY.SD,"mp4"),t(this.data.videoData,this.data.videoData.mp4HdUrl,p.VIDEO_QUALITY.HD,"mp4"),t(this.data.videoData,this.data.videoData.mp4ShdUrl,p.VIDEO_QUALITY.SHD,"mp4"),t(this.data.videoData,this.data.videoData.m3u8SdUrl,p.VIDEO_QUALITY.HD,"hls"),t(this.data.videoData,this.data.videoData.m3u8HdUrl,p.VIDEO_QUALITY.SD,"hls"),t(this.data.videoData,this.data.videoData.m3u8ShdUrl,p.VIDEO_QUALITY.SHD,"hls"))},_genPlayer:function(){try{var e=this._shouldGenH5Player()}catch(e){return}var t=e?"h5":"flash";if(this.data.videoData.start=this._formatNumberParam(this.data.videoData.start),this.__playerUI&&this.__curPlayerType&&this.__curPlayerType==t)this.__playerUI._$load(this.data.videoData);else{if(this.__curPlayerType=t,setTimeout(function(){this.$emit("onPlayerType",t),this.$emit("get_video_data",this.data.videoData)}._$bind(this),0),this.__playerUI&&this.__playerUI._$recycle(),e)this.__playerUI=l._$$Html5VideoPlayer._$allocate({parent:this.$refs.playerNode,data:this.data});else{if(!_._$checkFlash())return void this._showNotSupportFlash();this.__playerUI=u._$$FlashVideoPlayer._$allocate({parent:this.$refs.playerNode,data:this._changeUrlProtocolForFlash(this.data)})}this._initPlayerEvent(),this._logReport.setPlayer(this.data,this.__playerUI)}},_changeUrlProtocolForFlash:function(e){if(this.data.showCdnSwitch){if(e.videoData.videos)for(t=0;t<e.videoData.videos.length;t++)e.videoData.videos[t].videoUrl=e.videoData.videos[t].videoUrl.replace(/^https/,"http")}else if(e.videoData.videos)for(var t=0;t<e.videoData.videos.length;t++)e.videoData.videos[t].videoUrl=e.videoData.videos[t].videoUrl.replace(/^(http:|https:)/,window.location.protocol);return e},_formatNumberParam:function(e){if(!e)return 0;var t=Number(e);return isNaN(t)||t<0?0:t},_showNotSupportFlash:function(){this._showTip('未安装flash，点击<a target="_blank" href="https://get.adobe.com/flashplayer/">这里</a>安装。如果已经安装，请检查flash是否被浏览器拦截')},_initPlayerEvent:function(){this.__playerUI._$addEvent("onStartLoad",this._onStartLoad._$bind(this)),this.__playerUI._$addEvent("onMeta",this._onMeta._$bind(this)),this.__playerUI._$addEvent("onError",this._onPlayerError._$bind(this)),this.__playerUI._$addEvent("onPlayEnd",this._onPlayEndHandle._$bind(this)),this.__playerUI._$addEvent("onPlay",this._onPlay._$bind(this)),this.__playerUI._$addEvent("onPause",this._onPause._$bind(this)),this.__playerUI._$addEvent("onBuffering",this._onBuffering._$bind(this)),this.__playerUI._$addEvent("onPlayClick",this._onPlayClick._$bind(this)),this.__playerUI._$addEvent("onPauseClick",this._onPauseClick._$bind(this)),this.__playerUI._$addEvent("onSeek",this._onSeek._$bind(this)),this.__playerUI._$addEvent("onSelectResolution",this._onSelectResolution._$bind(this)),this.__playerUI._$addEvent("onAnchorPoint",this._onAnchorHandle._$bind(this)),this.__playerUI._$addEvent("onChangeCDN",this._onSelectCDN._$bind(this)),this.__playerUI._$addEvent("onSelectCaption",this._onSelectCaption._$bind(this)),this.__playerUI._$addEvent("onChangeVolume",this._onChangeVolume._$bind(this)),this.__playerUI._$addEvent("onChangeRate",this._onChangeRate._$bind(this)),this.__playerUI._$addEvent("onMute",this._onChangeMute._$bind(this)),this.__playerUI._$addEvent("onLiveStreamClosed",this._onLiveStreamClosed._$bind(this)),this.__playerUI._$addEvent("onFullscreenChange",this._onFullscreenChange._$bind(this)),this.__playerUI._$addEvent("onTimeupdate",this._onTimeupdate._$bind(this))},_initLog:function(){this._logReport=d._$$LogReport._$allocate()},getPlayerType:function(){return this.__curPlayerType},load:function(e){e&&(this.data.videoData=e,this._dealOldPros(),this._fetchVideoData())},stop:function(){this.__playerUI._$stop()},pause:function(){this.__playerUI._$pause()},resume:function(){this.__playerUI._$resume()},getPosition:function(e){this.__playerUI._$getPosition(e)},seek:function(e){this.__playerUI._$seek(this._formatNumberParam(e))},getState:function(e){this.__playerUI._$getState(e)},getStateInfo:function(e){this.__playerUI._$getStateInfo(e)},getLog:function(e){this.__playerUI._$getLog(function(t){var n=[];n.push("player type:"+(this._shouldGenH5Player()?"h5":"flash")),n.push("platform:"+(this.data.isWap?"wap":"web")),n.push("userAgent:"+navigator.userAgent),n.push("createTime:"+(new Date).getTime().toString()),t=n.join("\n")+"\n"+t,e&&e(t)}._$bind(this))},exitFullScreen:function(){return this.__playerUI._$exitFullScreen()},checkLiveReload:function(){this.__playerUI._$checkLiveReload()},_onStartLoad:function(e){(e=e||{}).videoId=this.data.videoData.videoId,e.signature=this.data.videoData.signature,e.caption=this.data.videoData.srtCaptions,this.$emit("onStartLoad",e)},_onMeta:function(e){this.$emit("onMeta",e)},_onPlayerError:function(e){this.$emit("onError",e)},_onError:function(e){this.$emit("onError",e)},_onPlayEndHandle:function(){this.$emit("onPlayEnd")},_onAnchorHandle:function(e){this.$emit("onAnchorPoint",e)},_onChangeVolume:function(e){c._$cookie("videoVolume",{path:"/",value:e+"",domain:this.data.cookieDomain||document.domain,expires:365}),this.$emit("onChangeVolume",{volume:e});var t=0==Number(e);this._onChangeMute(t)},_onChangeRate:function(e){c._$cookie("videoRate",{path:"/",domain:this.data.cookieDomain||document.domain,value:e+"",expires:365}),this.$emit("onChangeRate",{rate:e})},_onChangeMute:function(e){c._$cookie("hasVolume",{path:"/",value:!e+"",domain:this.data.cookieDomain||document.domain,expires:365}),this.$emit("onMute",{mute:e})},_onSeek:function(e){this.$emit("onSeek",e)},_onSelectResolution:function(e){c._$cookie("videoResolutionType",{path:"/",domain:this.data.cookieDomain||document.domain,value:e.newData.quailty||e.newData.quality,expires:365}),this.$emit("onSelectResolution",e)},_onSelectCaption:function(e){this.$emit("onSelectCaption",e)},_onSelectCDN:function(e){c._$cookie("cdnName",{path:"/",domain:this.data.cookieDomain||document.domain,value:e.newData.isp}),this.$emit("onChangeCDN",e)},_onPlay:function(){this.$emit("onPlay")},_onPause:function(){this.$emit("onPause")},_onBuffering:function(){this.$emit("onBuffering")},_onPlayClick:function(){this.$emit("onPlayClick")},_onPauseClick:function(e){this.$emit("onPauseClick",e)},_onLiveStreamClosed:function(){this.$emit("onLiveStreamClosed")},_onFullscreenChange:function(e){this.$emit("onFullscreenChange",e)},_onTimeupdate:function(e){this.$emit("onTimeupdate",e)}})}),"d11f8a28377d859950888fd1388cd748","10729f9217257b071836a9557f270c22","64e62dd7bec81f4c2601aa032bccb27e","36363d532750f767f7937a82c4c774f4","000e81f744cfd9926f418cd7d7226a6a","84c66edbaac3f0e7d6c8b753c5fa2fbd","0648e0c0c5aea01ad6e22f1aaa3f76a3","c0c334bf3ca5fbd97535793ddce3d534","4b580f44bb46eed3bdca9ef584876649","a09d745581790875b6b98c640df2afc1","e10c0ade9c1d999eefaaa8cd37825bb0","b674ca63418f62d8772f78bac4c0adb4","4caeff9df4f166646ce2a6acb243e2a1","0fbc02cbf83291e1c03681700cf06139","dbf963496e3cef891778fa497cfdafd4","3ac8598f9d817532ad5386d2dcf9e551","029230f12d85f681c73aa5dfa7b15d14","f1cb28abde9911cf82d810c70c54b84c","b4082aa2f7c42f066d0566ed301a5924"),I$("c2425d0df94baf4e91ad63663b9432cd",(function(e,t){var n={create:function(t){return new e({data:t}).$inject(t.parent)}};window.EduPlayer=window.EduPlayer||n}),"c4cddf1c73985215b085dc113956b9f5")},624562:(e,t,n)=>{var i=n(708468),r=n(904072),o=n(963764);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(969826),n(491038),n(369070),n(974916),n(978783),n(115306),n(864765),n(932564),e.exports=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=e.find("option").length,l=25*i.min([u,7]);t=t.replace("#","");var d=function(){return r(".multi-select .ui-multiselect-checkboxes .ui-corner-all").each((function(){var e;o.isDefined(r(this).attr("title"))?(e=r(this).attr("title"),r(this).removeAttr("title")):e=r(this).text();var t=r(this).children("span");return t.attr("title",e),t.tipsy({ellipsis:!0,gravity:r.fn.tipsy.autoBounds(37,"sw"),opacity:1,html:!0})}))},f=function(){var e=r("#".concat(t," + :button.multi-select[title]")).width(),n=0;r(".multi-select .ui-multiselect-checkboxes .ui-corner-all span").each((function(){n=this.offsetWidth>n?this.offsetWidth:n})),r(".ui-multiselect-menu.multi-select").css("width","".concat(n+45,"px")),r(".ui-multiselect-menu.multi-select").css("min-width","".concat(e,"px")),r(".ui-multiselect-menu .ui-multiselect-header .ui-multiselect-filter input").css("width","100%")},p=function(){var e=r("#".concat(t," + button.multi-select")),n=e.outerHeight(),i=e.siblings(".ui-multiselect-menu"),o=e.offset(),a=Array.from(i).find((function(e){return"block"===r(e).css("display")}));r(a).offset(s(s({},o),{},{top:o.top+n}))},h=e.multiselect({header:!!a&&"",appendTo:e.parent(),multiple:n,noneSelectedText:e.data("title"),selectedText:function(e,t,n){return 1===e?r(n[0]).next().text():e===t?r("#selected-text-all").text():r("#selected-text").text().replace("#",e)},classes:"multi-select",buttonWidth:"auto",selectedList:1,height:l,open:function(){c?f():d(),p()},beforeclose:function(){var e=r("#".concat(t," + :button.multi-select[title]")),n=e.attr("title"),i=r("#".concat(t," + :button.multi-select[title] .button-label"));return e.removeAttr("title"),i.attr("title",n),i.tipsy({ellipsis:!0,gravity:r.fn.tipsy.autoBounds(37,"sw"),opacity:1,html:!0})},click:function(){var t=e.scope(),n=t.disbaleSearch||"true"===e.attr("disableSearch");t.$emit("multiSelect.changed"),"function"!=typeof t.search||n||setTimeout((function(){return t.$apply((function(){return t.search()}))}),0)}});a&&h.multiselectfilter({label:"",placeholder:r("#filter-placeholder").text()})}},864604:e=>{e.exports=function(){return{restrict:"A",link:function(e,n){return n.off("change keyup keydown paste",t).on("change keyup keydown paste",t)}}};var t=function(){return this.style.height="auto",this.style.height=this.scrollHeight+"px"}},267038:(e,t,n)=>{n(892222);var i=n(437232).default;e.exports=function(){return{restrict:"E",scope:{src:"=src"},template:'<svg viewBox="'.concat(i.viewBox,'" ng-if="!src" class="avatar-svg">\n      <use xlink:href="#').concat(i.id,'" />\n    </svg>\n    <img ng-src="[[ src ]]" ng-if="src">')}}},985396:(e,t,n)=>{var i=n(708468),r=n(904072);e.exports=["$timeout",function(e){return{restrict:"A",scope:{actualHeight:"="},link:function(t,n,o){return t.actualHeight=0,e((function(){return i.each(n.children(),(function(e){return t.actualHeight+=r(e).height()}))}))}}}]},80320:(e,t,n)=>{var i=n(904072),r=n(708468);n(682772),n(454678),e.exports=["$rootScope",function(e){return{restrict:"A",link:function(t,n,o){var a=function(){return(parseFloat(o.maxLines)||2)*function(){var e,t=n.css("line-height");if(-1===t.indexOf("px")){var i=parseFloat(n.css("font-size"));e=parseFloat(t)*i}else e=parseFloat(t);return e}()+(parseFloat(n.css("padding-top"))||0)+(parseFloat(n.css("padding-bottom"))||0)+(parseFloat(n.css("border-top"))||0)+(parseFloat(n.css("border-bottom"))||0)},s=t.dotdotdotToggleCollapseI18n||e.dotdotdotToggleCollapseI18n,c=t.dotdotdotToggleExpandI18n||e.dotdotdotToggleExpandI18n,u=i(r.template('<a class="dotdotdot-toggle dotdotdot-toggle-expand" href="javascript:void(0)"><%= text %></a>')({text:c})),l=i(r.template('<a class="dotdotdot-toggle dotdotdot-toggle-collapse" href="javascript:void(0)"><%= text %></a>')({text:s})),d=function(){if(!o.noExpand)return u.detach(),l.detach(),n.trigger("destroy"),n[0].scrollHeight>a()?(n.append(u),n.dotdotdot({ellipsis:"",height:a(),wrap:"letter",after:"a.dotdotdot-toggle"})):void 0;n.dotdotdot({height:a(),wrap:"letter"})};return u.click((function(e){e.stopPropagation(),n.trigger("destroy"),u.detach(),n.append(l)})),l.click((function(e){e.stopPropagation(),d()})),t.$watch(o.ngBind||o.ngBindHtml,d)}}}]},704873:(e,t,n)=>{var i=n(904072);t.revealModal=["$parse","revealModalParams",function(e,t){return{restrict:"A",link:function(n,r,o){return r.on("click",(function(r){if(o.disabled)return r.stopPropagation(),r.preventDefault();var a=e(o.params)(n);return t[o.revealModal]=a,i("#"+o.revealModal).foundation("reveal","open"),n.$apply()}))}}}],t.resetable=function(){return{restrict:"A",link:function(e,t,n){var i="opened"===n.resetOn?"opened":"closed";return t.on("".concat(i,".fndtn.reveal"),(function(){if(e.reset)return e.reset()}))}}};var r=function(e){var t=i("body>.reveal-modal.open:last-of-type");if(t.attr("close-on")&&"esc"===t.attr("close-on")&&27===e.keyCode)return t.foundation("reveal","close")};t.reveal=["$document","$timeout",function(e,t){return{restrict:"A",scope:!0,link:function(n,o,a){n.hasOwnProperty("popupState")||(n.popupState={}),e.on("opened.fndtn.reveal","#".concat(a.id),(function(e){e.currentTarget===e.target&&(n.popupState.popupOpened=!0,t((function(){return n.$apply()})))})),e.on("closed.fndtn.reveal","#".concat(a.id),(function(e){e.currentTarget===e.target&&(n.popupState.popupOpened=!1,t((function(){return n.$apply()})))})),o.foundation({reveal:{close_on_esc:!1}}),i("body").off("keyup",r).on("keyup",r)}}}],t.closePopup=function(){return{restrict:"A",link:function(e,t,n){return t.on("click",(function(){return i("#"+n.closePopup).foundation("reveal","close"),!1}))}}},t.closePlayerPopup=function(){return{restrict:"A",link:function(e,t,n){return t.on("click",(function(){return i("#"+n.closePlayerPopup).foundation("reveal","close"),i(".lesson-player video").each((function(e,t){return t.pause(),t.getElementsByTagName("source")[0].src="",t.load()}))}))}}}},746794:(e,t,n)=>{n(969826),e.exports=["$timeout",function(e){return{restrict:"A",scope:{sliderErrors:"=?",sliderValidation:"&",sliderVerification:"&"},link:function(t,n,i){n.foundation(),n.foundation("slider","set_value",0);var r="#".concat(i.sliderControl),o=n.find(r);e((function(){var e=n.find("div[data-slider]");return e.on("change.fndtn.slider",(function(){var t=e.attr("data-slider");return o.val(t),o.trigger("change")}))}));var a=o.controller("ngModel");return t.$watch((function(){return a.$modelValue}),(function(e){if(t.sliderValidation({sliderModelValue:e})&&(t.sliderErrors&&(t.sliderErrors.sliderModelError=t.sliderVerification({sliderModelValue:e})),!isNaN(e)))return n.foundation("slider","set_value",e)}))}}}]},892958:(e,t,n)=>{var i=n(704609),r=!1;e.exports=function(){return{restrict:"A",link:function(e,t,n){t.addClass("mathjax-process"),r||(i(),r=!0)}}}},726356:(e,t,n)=>{var i=n(904072),r=n(708468);n(969826),n(226699),n(224812),n(132023);var o=n(624562);e.exports=["$parse",function(e){return{restrict:"A",link:function(t,n,a){var s=t.$eval(a.ngModel),c=n.find("option");0===c.length&&a.hasOwnProperty("selectOptionsContainerId")&&(c=i("#".concat(a.selectOptionsContainerId)).find("option"),n.append(c)),s&&r.each(c,(function(e){if(s.includes(e.value)||e.value===s)return i(e).prop("selected",!0)}));var u=a.id,l=!a.multipleDisabled,d=!a.noFilter,f=!!a.responsive;if(o(n,u,l,d,f),a.multiSelectOpen){var p=e(a.multiSelectOpen);return n.bind("multiselectopen",(function(e,n){return t.$apply((function(){return p(t,{$event:e,$ui:n})}))}))}}}}]},926082:(e,t,n)=>{var i=n(904072);n(974916),n(115306),n(864765),e.exports=["$timeout",function(e){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function(t,n,r,o){var a,s=!r.noFilter,c=null!==(a=r.selectAll)&&void 0!==a&&a;n.multipleSelect({filter:s,minimumCountSelected:1,filterPlaceholder:i("#filter-placeholder").text(),selectAll:c,data:[],formatCountSelected:function(e,t){return i("#selected-text").text().replace("#",e)},formatAllSelected:function(){return i("#selected-text-all").text()},formatNoMatchesFound:function(){return""},onClick:function(){o.$viewValue=n.multipleSelect("getSelects"),o.$commitViewValue();var t=n.scope();t.ngModel=n.multipleSelect("getSelects"),t.$emit("multiSelect.changed"),"function"!=typeof t.search||t.disbaleSearch||e((function(){return t.$apply((function(){return t.search()}))}),0)}})}}}]},716858:(e,t,n)=>{var i=n(963764),r=n(904072);n(891058);t.p=["$document","$timeout","$window",function(e,t,n){return{restrict:"A",link:function(o,a,s){var c={reposition:!0};i.extend(c,o.$eval(s.onModalStateChange));var u=[];return e.on("open.fndtn.reveal","[data-reveal]",(function(e){var t=r(e.target);return r(".popup-content",t).css("margin-top","")})),e.on("opened.fndtn.reveal","[data-reveal]",(function(e){var i=r(e.target);return t((function(){var e=r(".popup-content",i);if(!(i.attr("no-scroll")||i.hasClass("confirmation-popup")||(u.push(e),c.reposition&&function(e){var t="file-previewer"===e.attr("id");return!t||t&&e.scope().canGuestPreview}(i)&&function(e,t){if(e.height()>t.innerHeight)return e.css("margin-top",85);var n=parseInt((t.innerHeight-e.height())/2);e.css("margin-top",n)}(e,n),u.length>1)))return r("body").css("overflowY","hidden")}))})),e.on("close.fndtn.reveal","[data-reveal]",(function(e){if(!(r(e.target).attr("no-scroll")||(u.pop(),u.length>0)))return r("body").css("overflowY","")}))}}}]},450171:(e,t,n)=>{var i=n(904072);n(224812),t.w4=function(){return{restrict:"A",link:function(e,t,n){return t.attr("placeholder",e.$eval(n.ngPlaceholder))}}},t.jC=function(){return{restrict:"A",link:function(e,t,n){return t.attr("placeholder",n.wgPlaceholder),i(t).placeholder(n.wgPlaceholder)}}},t.he=function(){return{restrict:"A",link:function(e,t,n){return t.bind("focus",(function(){t.attr("placeholder",n.focusPlaceholder)})),t.bind("blur",(function(){t.attr("placeholder","")})),t}}}},845032:(e,t,n)=>{(0,n(353779).Z)(n(425303)),e.exports=function(){return{restrict:"E",scope:{name:"@name"},template:'<svg class="svg-icon">\n      <use xlink:href="" data-ng-href="[[\'#\' + name]]" />\n    </svg>'}}},529149:(e,t,n)=>{var i=n(958297);e.exports=["$timeout","$interval",function(e,t){return{restrict:"A",scope:{swfLoad:"&"},link:function(e,n,r){var o=function(e,n){var i,r=null;return i=t((function(){if(void 0!==e.ref.PercentLoaded&&e.ref.PercentLoaded())return 100===e.ref.PercentLoaded()||e.ref.PercentLoaded()===r?(t.cancel(i),i=null,n({evt:e})):r=e.ref.PercentLoaded()}),400)};return i.embedSWF(r.swfUrl,r.id,r.swfWidth||817,r.swfHeight||470,"9.0.0","/static/swf/expressInstall.swf",!1,{allowScriptAccess:"never",allowNetworking:"internal"},!1,(function(t){if(e.swfLoad&&"function"==typeof e.swfLoad)return t.success&&t.ref?o(t,e.swfLoad):e.swfLoad({evt:t})}))}}}]},956212:(e,t,n)=>{var i=n(904072);n(932564),e.exports=function(){return{restrict:"A",link:function(e,t,n,r){var o="true"===n.inside?t.children(".dropdown-list"):t.next(".dropdown-list"),a=0,s=!1;t.click((function(e){return e.stopPropagation(),o.toggleClass("hide")})),t.on("mouseenter",(function(){return o.removeClass("hide"),t.removeClass("hovered")})),t.on("mouseleave",(function(){return t.removeClass("hovered"),a=setTimeout((function(){if(!s)return o.addClass("hide")}),20)})),o.click((function(e){return e.stopPropagation(),o.addClass("hide")}));var c=0;return o.on("mouseenter",(function(){return t.addClass("hovered"),clearTimeout(a),clearTimeout(c),s=!0})),o.on("mouseleave",(function(){return t.removeClass("hovered"),s=!1,c=setTimeout((function(){if(!s)return o.addClass("hide")}),10)})),i("body").click((function(){return o.addClass("hide")}))}}}},908760:(e,t,n)=>{n(932564),e.exports=function(){return{restrict:"A",link:function(e,t,n,i){var r="true"===n.inside?t.children(".dropdown-list"):t.next(".dropdown-list"),o=0,a=!1;t.click((function(e){return e.stopPropagation(),r.toggleClass("hide")})),t.on("mouseenter",(function(){return r.removeClass("hide"),t.removeClass("hovered")})),t.on("mouseleave",(function(){return t.removeClass("hovered"),o=setTimeout((function(){if(!a)return r.addClass("hide")}),20)}));var s=0;r.on("mouseenter",(function(){return t.addClass("hovered"),clearTimeout(o),clearTimeout(s),a=!0})),r.on("mouseleave",(function(){return t.removeClass("hovered"),a=!1,s=setTimeout((function(){if(!a)return r.addClass("hide")}),10)}))}}}},752104:(e,t,n)=>{n(891058),e.exports=function(){return function(e){(!e||e<0)&&(e=0);var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60);return e=e-3600*t-60*n,t<10&&(t="0"+t),n<10&&(n="0"+n),(e=parseInt(e,10))<10&&(e="0"+e),"00"!==t?t+":"+n+":"+e:n+":"+e}}},353779:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(489554),n(66992),n(241539),n(974916),n(804723),n(454747),n(333948);const i=function(e){var t={};return e.keys().forEach((function(n){var i=e(n);return t[n.match(/[\w-]+/)[0]]=i.default||i})),t}},85780:e=>{e.exports={Mode:{classmode:"classmode",normal:"normal"},Channel:{wide_screen:"wide_screen",app:"app",web:"web",h5:"h5"},Action:{start:"start",cancel:"cancel",join:"join",end:"end",create:"create",give_score:"give_score",open:"open",save_to_lib:"save_to_lib",zip:"zip"},RaceAnswerAction:{begin:"begin",confirm:"confirm",go_to_select_student:"go_to_select_student",give_score:"give_score"},SelectStudentAction:{random_select:"random_select",give_score:"give_score"},FeedbackAction:{begin:"begin",update:"update",add_item:"add_item"},ForumAction:{create_topic:"create_topic",view_topic:"view_topic",reply:"reply",like:"like",give_score:"give_score",export:"export",view_stats:"view_stats"},CourseWareAction:{download:"download",open:"open",close:"close",view:"view",answer:"answer"},HomeworkAction:{submit:"submit",remind:"remind",recommend:"recommend",marked_submitted:"marked_submitted",marked_unsubmitted:"marked_unsubmitted",notify_make_up:"notify_make_up",set_same_score:"set_same_score",update_final_score:"update_final_score",mark:"mark"},ExamAction:{submit:"submit",view_stats:"view_stats",retake:"retake"},InteractionAction:{add_subject:"add_subject"},ScoreAction:{add_score_item:"add_score_item",view:"view",score_setting:"score_setting",update_final_score:"update_final_score",publish_score:"publish_score"},TeachingActionModule:{score:"score",stats:"stats",group_set:"group_set"},StatsAction:{view:"view",export:"export"},GroupSetAction:{create_group_set:"create_group_set",create_group:"create_group"},RollcallAction:{update_student_rollcall_status:"update_student_rollcall_status"},QuestionnaireAction:{submit:"submit"}}},780640:(e,t,n)=>{var i=n(904072),r=n(708468),o=n(904072);n(226699),n(583710),n(968309),n(891058),n(974916),n(132023),n(115306);var a=n(85780),s="True"===i("#dashboardTracking").val(),c=i("#orgId").val(),u=i("#userId").attr("value"),l=i("#courseId").val(),d="True"===i("#enrollmentIsInstructor").val(),f="True"===i("#enrollmentIsInstructorAssistant").val(),p=i("#enrollmentRole").val();p||(p=d?"instructor":f?"instructor-assistant":"student");var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(window.globalData||window.statisticsSettings){var t=window.globalData?window.globalData:window.statisticsSettings;t.user&&(e.org_name=t.user.orgName,"None"!==t.user.orgCode&&(e.org_code=t.user.orgCode),e.user_no=t.user.userNo,e.user_name=t.user.name),t.course&&(e.course_code=t.course.courseCode,e.course_name=t.course.name,e.org_id!==e.course_org_id&&(e.org_id=t.course.orgId,e.org_name=t.course.orgName,"None"!==t.course.orgCode&&(e.org_code=t.course.orgCode))),t.dept&&(t.dept.id&&(e.dep_id=t.dept.id),e.dep_name=t.dept.name,e.dep_code=t.dept.code),t.isOpenUniversity&&e.enrollment_role&&e.enrollment_role.includes("instructor")&&(e.enrollment_role="instructor")}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={org_id:c,user_id:u,course_id:l,enrollment_role:p,is_teacher:d,activity_id:null,activity_type:null,activity_name:null,module:null,action:a.Action.start,ts:(new Date).getTime(),user_agent:navigator.userAgent,mode:a.Mode.classmode,channel:a.Channel.wide_screen,target_info:{}},n=i("#masterCourseId").val()||0;return t.course_id&&0!==parseInt(t.course_id)&&parseInt(t.course_id)!==parseInt(n)&&(t.master_course_id=parseInt(n)),(t=r.merge(t,e)).activity_type&&(t.activity_type=t.activity_type.replace(/-/,"_")),h(t),t},m={enums:a,track:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s){var t=_(e);if(t.course_id&&(t.activity_id||t.module)){var n="teaching-action";t.activity_type&&(n="learning-activity","research_activity"===t.activity_type&&(n="research-activity",t.activity_type=t.research_type));var i=statisticsSettings.server+"/api/"+n;return o.ajax({method:"POST",url:i,dataType:"json",processData:!1,data:JSON.stringify(t),contentType:"application/json; charset=utf-8"})}}},trackData:_,addExtraData:h};e.exports=m,window.statistics=m},19e4:(e,t,n)=>{var i=n(708468);t.formatValidated=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r.$parsers.push((function(e){var t=i.unescape(e);return t!=e&&(r.$setViewValue(t),r.$render()),t})),r.$formatters.push((function(e){return e?i.unescape(e):""}))}}}},881063:(e,t,n)=>{var i=n(708468);n(892222),n(969826),e.exports={getUrls:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],o=i.find(e.videos,{resolution:"QVGA"}),a=i.find(e.videos,{resolution:"VGA"}),s=i.find(e.videos,{resolution:"HD"});return n?(o&&(r[0]="/anonymous-api/shared-resources/".concat(n,"/preview?preview=true&resolution=qvga")),a&&(r[1]="/anonymous-api/shared-resources/".concat(n,"/preview?preview=true&resolution=vga")),s&&(r[2]="/anonymous-api/shared-resources/".concat(n,"/preview?preview=true&resolution=hd"))):(o&&(r[0]="/".concat(t,"/uploads/video/").concat(o.id,"?preview=true")),a&&(r[1]="/".concat(t,"/uploads/video/").concat(a.id,"?preview=true")),s&&(r[2]="/".concat(t,"/uploads/video/").concat(s.id,"?preview=true"))),r}}},139390:(e,t,n)=>{n(241539),n(788674);var i=n(887757);function r(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)}))}}n(535666);var a=function(){var e=o(i.mark((function e(t){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.CommandBars("PlayComponentToolbar");case 2:return e.sent.Visible=!1,e.next=6,t.CommandBars("FloatMenuCheckImage");case 6:e.sent.Visible=!1;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(e){e.ActivePresentation.SlideShowSettings.Run(),e.ActivePresentation.SlideShowWindow.IsFullScreen=!1},c=function(e){e.iframe.focus()},u=function(e){e.Sub.SlideShowEnd=function(){a(e),s(e)}},l=function(){var e=o(i.mark((function e(t,r){var o,l,d;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(91531).then(n.bind(n,391531));case 2:return o=e.sent,l=o.config({url:t,mount:r}),e.next=6,l.ready();case 6:this.wpsApp=l.Application,(d=l.iframe).style.height="100%",d.style.width="100%",c(l),a(this.wpsApp),s(this.wpsApp),u(this.wpsApp);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=o(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.wpsApp.ActivePresentation.SlideShowWindow.View.GotoNextClick();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=o(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.wpsApp.ActivePresentation.SlideShowWindow.View.GotoPreClick();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}();e.exports={autoFocus:c,enterPlayModule:s,sdkConfig:a,wpsPreviewInit:l,nextPage:d,prevPage:f,autoEnterFullScreen:u}},505613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CourseWatcher:()=>l});n(892222),n(126541),n(57327),n(969826),n(489554),n(821249),n(605212),n(224812),n(369070),n(454747);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$scope=n,this.course=t,this.modules=this.course.modules,this.chosen=!1,this.syllabuses=e.getAllModulesSyllabuses(this.modules),this.activities=this.getAllActivities(this.modules),this.initEvent()}var t,n,i;return t=e,i=[{key:"getAllModulesSyllabuses",value:function(e){var t=[];return e.forEach((function(e){t.push.apply(t,s(e.syllabuses))})),t}}],(n=[{key:"getAllActivities",value:function(e){var t=this,n=[];return e.forEach((function(e){n.push.apply(n,s(e.directActivities)),e.syllabuses.forEach((function(e){n.push.apply(n,s(e.activities))}))})),n.filter((function(e){return!t.$scope.isCheckDisabled(e)}))}},{key:"reloadActivities",value:function(e){var t=this;this.activities=this.getAllActivities(this.modules),this.addChosenListener(this.activities,this.activityChoseHandle.bind(this)),e.forEach((function(e){var n=t.getModule(e);n.chosen&&!n.isLoaded&&(t.setChosenBy(n.activities.filter((function(e){return!t.$scope.isCheckDisabled(e)})),{chosen:!0}),t.setChosenBy(n.syllabuses,{chosen:!0})),n.isLoaded=!0}))}},{key:"addChosenListener",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"chosen";e.forEach((function(e){try{var r=e.chosen;Object.defineProperty(e,i,{get:function(){return r},set:function(i){"object"===a(i)?r=i.chosen:(r=i,t({item:e,chosen:i})),n.$scope.syncExamSubjectsLibraryDisableCalc()}})}catch(e){}}))}},{key:"initModulesLoadStatus",value:function(){this.modules.forEach((function(e){return e.isLoaded=!1}))}},{key:"initEvent",value:function(){this.addChosenListener([this],this.allChosenHandle.bind(this)),this.addChosenListener(this.modules,this.moduleChosenHandle.bind(this)),this.addChosenListener(this.syllabuses,this.syllabusChosenHandle.bind(this)),this.addChosenListener(this.activities,this.activityChoseHandle.bind(this))}},{key:"allChosenHandle",value:function(e){var t=e.chosen;this.setChosenBy(this.modules,{chosen:t}),this.setChosenBy(this.syllabuses,{chosen:t}),this.setChosenBy(this.activities,{chosen:t})}},{key:"moduleChosenHandle",value:function(e){var t=e.chosen,n=e.item;this.setChosenBy(n.syllabuses,{chosen:t});var i=this.activities.filter((function(e){return e.module_id===n.id}));this.setChosenBy(i,{chosen:t}),this.chosen={chosen:this.checkAllChosen()}}},{key:"syllabusChosenHandle",value:function(e){var t=this,n=e.chosen,i=e.item,r=i.activities.filter((function(e){return!t.$scope.isCheckDisabled(e)}));this.setChosenBy(r,{chosen:n});var o=this.getModule(i.module_id);o.chosen={chosen:o.syllabuses.some((function(e){return e.chosen}))},this.chosen={chosen:this.checkAllChosen()}}},{key:"activityChoseHandle",value:function(e){var t=this,n=e.item;this.chosen={chosen:this.checkAllChosen()};var i=n.module_id,r=this.getModule(i);r.syllabuses.forEach((function(e){e.chosen={chosen:e.activities.some((function(e){return e.chosen}))}})),r.chosen={chosen:[].concat(s(r.syllabuses),s(r.directActivities.filter((function(e){return!t.$scope.isCheckDisabled(e)})))).some((function(e){return e.chosen}))}}},{key:"checkAllChosen",value:function(){return this.modules.every((function(e){return e.chosen}))&&this.syllabuses.every((function(e){return e.chosen}))&&this.activities.every((function(e){return e.chosen}))}},{key:"setChosenBy",value:function(e,t){e.forEach((function(e){return e.chosen=t}))}},{key:"getModule",value:function(e){return this.modules.find((function(t){return t.id===e}))}},{key:"setAllChosen",value:function(e){this.chosen=e}},{key:"collectChosenModules",value:function(){var e=this;return this.$scope._course.collectChosenModules().map((function(t){var n,i=e.getModule(t.module_id);return r(r({},t),{},{is_loaded:null!==(n=i.isLoaded)&&void 0!==n&&n})}))}}])&&u(t.prototype,n),i&&u(t,i),e}()},299365:(e,t,n)=>{var i=n(904072),r=n(963764),o=n(708468);n(892222),n(969826),n(489554),n(66992),n(569600),n(821249),n(605212),n(968309),n(241539),n(324603),n(974916),n(339714),n(115306),n(323123),n(454747),n(333948);var a=n(180736);e.exports=["$rootScope","$scope","$http","$timeout","$window","toastr","treeViewSearch",function(e,t,n,s,c,u,l){var d=i("#courseId").val(),f=a(t),p=function(){return t.data={emails:"",org_emails:"",role:"student",org_invite_type:"search",org_id:"",department_id:""},t.user={hide:!0,team_teaching:[]},t.inviteResponse={emails_not_exist:[],emails:"",org_emails:"",invite_type:""},t.orgInviteResponse={emails_not_exist:[],emails:""},t.orgAddError={missingOrg:!1,missingDepartment:!1,missingUser:!1},t.allowInviteStudent?t.data.role="student":t.allowInviteAssistant?t.data.role="instructor_assistant":t.data.role="instructor"};p(),t.ui={resetable:!1,accessCodeCopied:!1,accessUrlCopied:!1},t.access_code="",t.access_url="";var h=function(e){return f.hide(),t.accessCode=e.access_code,t.accessUrl=_(t.accessCode)};t.resetAccessCodeAndUrl=function(){return f.show(),n.put("/api/course/".concat(d,"/access_code")).success(h).error((function(){return f.hide()}))},t.fallbackToManuallyCopy=function(e){return window.prompt(t.copyFallbackText,e)},t.copiedCode=function(){return s((function(){return u.success(t.copiedSuccessfullyText)}))},t.copiedUrl=function(){return s((function(){return u.success(t.copiedSuccessfullyText)}))};var _=function(e){return"".concat(c.location.protocol,"//").concat(c.location.host,"/course/join/").concat(e)};e.$watch("invitingCourseUsers",(function(e){if(e&&""===t.access_code){return n.get("/api/course/".concat(d,"/access_code")).success((function(e){return t.ui.resetable=e.resetable,e.access_code?h(e):e.resetable?t.resetAccessCodeAndUrl():void 0})).error((function(){}))}})),t.getJoinResult=function(e){return e.join(",")};var m=function(t){return f.hide(),u.success(t.message),i("#course-invite-users-popup").foundation("reveal","close"),p(),e.$broadcast("invitationSend")},v=function(e,i,r){return r||(r=""),r=r.replace(/\s+/g,""),f.show(),n.post("/api/course/".concat(d,"/invites"),{emails:r.split(","),invite_type:e}).success(m).error((function(e){return f.hide(),t[i]=e.errors}))};t.sendInvite=function(e){return v(e,"inviteResponse",t.data.emails)},t.sendOrgInvite=function(){return v("team_teaching","orgInviteResponse",t.data.org_emails)},t.clear=function(){return p()},t.initTeamTeachingOrgs=function(){return f.show(),n.get("/api/toggle-opened-orgs?toggle=org_team_teaching").success((function(e){return f.hide(),t.orgs=e.orgs})).error((function(){return f.hide(),t.orgs=[]}))},t.course_invite_department_single_select_tree={keyword:""},t.searchTreeView=function(e){return"course_invite_department_single_select_tree"===e&&l.searchDepartmentTree(e,t,[])},t.initOrgDepartments=function(e){if(e){return f.show(),n.get("/api/orgs/".concat(e,"/departments")).success((function(e){return f.hide(),t.originalDepartments=e.departments,t.departments=r.copy(e.departments)})).error((function(){return f.hide(),t.departments=[],t.originalDepartments=[]}))}};var b=function(e){if(e&&t.user.keywords){var n=new RegExp("(".concat(t.user.keywords,")"),"gim");return e.replace(n,'<span class="search-keyword">$1</span>')}return e||""},g=function(e){if(f.hide(),(null!=e.users?e.users.length:void 0)>=0)return t.user.results=e.users,o.forEach(t.user.results,(function(e){return e.highlightedName=b(e.name),e.highlightedUserNo=b(e.user_no)})),t.user.hide=!1};t.searchUser=function(){if(!t.user.keywords||(t.orgAddError={missingOrg:!t.data.org_id,missingDepartment:""===t.data.department_id},t.orgAddError.missingOrg||t.orgAddError.missingDepartment))return t.user.hide=!0;f.show();var e={keywords:t.user.keywords,exclude_student_role:!0,org_id:t.data.org_id?t.data.org_id:void 0,department_id:t.data.org_id&&t.data.department_id?t.data.department_id:void 0};return n.get("/api/user/search",{params:e}).success(g).error((function(){return f.hide(),t.user.hide=!0}))},t.updateSearchUser=function(){if(!t.user.hide)return t.searchUser()},t.searchUserReset=function(){return t.user.hide=!0,t.user.keywords=""},t.addTeamTeaching=function(e){return t.user.team_teaching.push(e),t.user.hide=!0,null!=t.errors?delete t.errors.team_teaching:void 0},t.isAdded=function(e){return o.find(t.user.team_teaching,{id:e.id})},t.rmTeamTeaching=function(e){return o.remove(t.user.team_teaching,e)};return t.addOrgTeamTeachings=function(){if(t.orgAddError={missingOrg:!t.data.org_id,missingDepartment:""===t.data.department_id,missingUser:0===t.user.team_teaching.length},o.some(o.values(t.orgAddError)))return null;var r={user_ids:o.map(t.user.team_teaching,(function(e){return e.id}))};return f.show(),n.post("/api/courses/".concat(d,"/team-teaching"),r).success((function(t){return f.hide(),u.success(t.message),i("#course-invite-users-popup").foundation("reveal","close"),p(),e.$broadcast("enrollmentsAdded")})).error((function(e){return f.hide(),u.error(e.message)}))}}]},186021:(e,t,n)=>{var i=n(904072);n(892222),n(569600),n(324603),n(974916),n(339714),n(804723);var r=n(180736);e.exports=["$scope","$http","$window",function(e,t,n){var o,a=r(e),s=new RegExp("^[0-9A-Z]{7,}$");e.error=null,e.accessCode="",i(document).on("opened.fndtn.reveal","#user-join-course-popup",(function(){return i("#accessCode").focus()})),e.join=function(){if(c()){return a.show(),t.get("/api/course/access-code/".concat(e.accessCode,"/validate")).success((function(){return a.hide(),e.error=null,e.onRedirecting=!0,n.location.href=o(e.accessCode)})).error((function(t){return a.hide(),e.error=t.message}))}},e.onAccessCodeChange=function(){return e.error=null},e.reset=function(){return e.$apply((function(){return e.error=null,e.accessCode=""}))};var c=function(){var t=e.accessCode.match(s);return e.error=t?null:e.validationError,t};return o=function(e){return"".concat(n.location.protocol,"//").concat(n.location.host,"/course/join/").concat(e)}}]},62174:(e,t,n)=>{var i=n(708468);n(892222),n(821249),e.exports=["$http","toastr",function(e,t){return{initExamsWithPage:function(n,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.noop,s="/api/courses/".concat(n,"/exam-list");return e.get(s,{params:r}).success(t.decorateSuccess(o)).error(t.decorateError(a))},saveExam:function(n,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.noop,s="/api/courses/".concat(n,"/exams");return e.post(s,r).success(t.decorateSuccess(o)).error(t.decorateError(a))},editExam:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop,a="/api/exams/".concat(n.id);return e.put(a,n).success(t.decorateSuccess(r)).error(t.decorateError(o))},deleteExam:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop;return e.delete("/api/exams/".concat(n)).success(t.decorateSuccess(r)).error(t.decorateError(o))},deleteExams:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop,a=i.map(n,"id");return e.delete("/api/exams/batch_delete",{data:{exam_ids:a}}).success(t.decorateSuccess(r)).error(t.decorateError(o))},checkExamQualification:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.noop;return e.get("/api/exam/".concat(t,"/check-exam-qualification?no-intercept=true"),{params:{check_status:n}}).success(r).error(o)},addExamineeAction:function(t,n,i,r){var o={exam:t,examinee:n,submission_id:i,type:r};return e.post("/api/exams/".concat(t,"/examinees/").concat(n,"/actions"),o)}}}]},499289:(e,t,n)=>{var i=n(708468),r=n(963764),o=n(904072);n(382526),n(141817),n(892222),n(57327),n(969826),n(226699),n(569600),n(821249),n(702707),n(968309),n(209653),n(454678),n(891058),n(974916),n(132023),n(804723);var a=n(881063);e.exports=["ExamSubject","$http","toastr",function(e,t,n){var s=function(e){var t=e.url;return{name:e.name,size:e.size,deleted:!1,description:e.description,submit_closed_time:e.submit_closed_time,status:"ready",source:e.source,type:e.type,video_urls:[t+"/360p.mp4",t+"/480p.mp4",t+"/720p.mp4"]}},c=function(t,n,o,a,s){t.timestamp=_(),t.subjectTypes=u(),"SHTVU"===t.upload.source?(t.ui.isLongerThanHour=!1,t.ui.duration=null):(t.ui.isLongerThanHour=f(t.upload)>=3600,t.ui.duration=f(t.upload)),t.allow_forward_seeking=s,n.subjects_timestamp=n.subjects_timestamp||{},t.subjectsTimestamp=n.subjects_timestamp,t.updateTimestampList&&t.updateTimestampList(),t.repoSubjects=o,t.subjects=i.map(r.copy(o),(function(t){return e.createSubjectBySavedSubject(t,a)})),t.subjectsForCurrentTime=[],t.ui.isVideoPaused=!0,t.ui.intToChar=y,t.ui.calcOptionWidth=E,t.ui.getCorrectOptions=m,t.getSubjectIndex=function(e,t){return t+1},t.closeForReplay=function(){var e=v(t)-.4;e<0&&(e=0),b(t,e),t.subjectsForCurrentTime=[],t.errors={}}},u=function(){return{mapping:[{value:1,name:"single_selection"},{value:2,name:"multiple_selection"},{value:3,name:"true_or_false"}],getName:function(e){return i.find(this.mapping,{value:parseFloat(e)}).name},getValue:function(e){if(e)return i.find(this.mapping,{name:e}).value}}},l=function(e){if(e&&e.length>=1){var i=e[0];return i.third_part_referrer_id?t.get("/api/uploads/".concat(i.id,"?preview=true")).success((function(e){return i.video_urls=e.video_urls,i.duration=e.duration})).error(n.decorateError((function(){}))):i.videos&&i.videos.length>0&&(i.video_urls=a.getUrls(i)),i}return null},d=function(e){var t=e.match(/^(\d{2})([0-5]\d)([0-5]\d)$/);return t?3600*parseInt(t[1])+60*parseInt(t[2])+parseInt(t[3]):null},f=function(e){return!e||e.deleted?0:e.third_part_referrer_id||e.source&&"mbz_import"!==e.source?e.duration||0:e.videos[0].duration},p=function(e,t,n,i){o(".vjs-control-bar .vjs-progress-control .timestamp-point").remove();var r=o(".vjs-control-bar .vjs-progress-control"),a=f(e);return function(){var e=[];for(var s in t){var c=d(s);if(c>=0&&c<=a){var u=Math.round(c/a*1e4)/100,l=o("<div class='timestamp-point' style='left:calc(".concat(u,"% - 8px);'><i class='icon icon-time-point'></i></div>"));i&&(l=o(i(u))),r.append(l),n?e.push(l.click(n(c))):e.push(void 0)}else e.push(void 0)}return e}()},h=function(e){var t=i.parseInt(e)||0;return t>9?"".concat(t):"0".concat(t)},_=function(){return{hour:0,minute:0,second:0,asKey:function(){return"".concat(h(this.hour)).concat(h(this.minute)).concat(h(this.second))},parseTime:function(e){this.second=Math.floor(e%3600%60),this.minute=Math.floor(e%3600/60),this.hour=Math.floor(e/3600)}}},m=function(e){var t=i.filter(e.options,(function(e){return e.isCorrect||e.is_answer}));return i.map(t,(function(e){return I.intToChar(e.sort)})).sort().join(" ")},v=function(e){return e.useNewPlayer?e.player.currentTime:e.player.currentTime()},b=function(e,t){return e.useNewPlayer?e.player.currentTime=t:e.player.currentTime(t)},g=function(e,t,n,r,o){var a=null,s=null;e.player=t;var c=function(){var t=v(e);e.timestamp.parseTime(t);var n=e.timestamp.asKey();e.subjectsTimestamp[n]&&(n!==s||t<.4)&&(s=n,e.player.pause())},u=function(){return n((function(){var t,n=v(e);if(e.timestamp.parseTime(n),s=e.timestamp.asKey(),n>.1)return t=e.subjectsTimestamp[s]||[],e.subjectsForCurrentTime=i.map(t,(function(t){return i.find(e.subjects,{id:t})})),o()}))};e.updateCurrentTimestamp=u;var l=function(){a&&(r.cancel(a),a=null),e.ui.isVideoPaused=!0,u()};t.requestFullscreen=function(){};t.on("play",(function(){e.ui.isVideoPaused=!1,u(),a||(a=r(c,250))})),t.on("ended",l),t.on("pause",l)},y=function(e){return String.fromCharCode(65+e%26)},E=function(e,t){return"vertical"!==t&&e&&0!==e.length?"".concat(Math.max(25,100/e.length),"%"):"auto"},A=-1,w=0,C=1,$=2,x=function(e,t,n){var r,o,a;return"multiple_selection"===n.type?r=function(e,t,n){var r=e.settings.point_rule,o=i.intersection(t,n).length,a=i.difference(t,n).length,s=e.point,c=0;"correct_count"===r?0===a&&(c=o===n.length?s:s/n.length*o):"all_correct"===r?c=i.isEqual(t,n)?s:0:"more_than_correct"===r&&(c=o>=e.settings.point_rule_minimum_count&&0===a?s:0);return 0===t.length?A:0===c?w:c>0&&c<s?$:C}(n,e,t):(a=t,r=0===(o=e).length?A:i.isEqual(o,a)?C:w),r},S=function(e){return i(e.subjectsForCurrentTime).filter((function(e){return!e.hasValidAnswer})).map((function(e){var t,n=i(e.options).filter({is_answer:!0}).map("id").value();return t="multiple_selection"===e.type?i(e.options).filter({checked:!0}).map("id").value():e.answeredOption?[Number(e.answeredOption)]:[],e.answerState=x(t,n,e),i.map(e.options,(function(e){return e.isChosen=t.includes(e.id)}))}))},I={initForInteraction:function(e,t,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(e.ui=e.ui||{},e.activity=t,t.interaction_activity_attributes&&t.interaction_activity_attributes.video_quiz)return e.videoQuiz=t.interaction_activity_attributes.video_quiz,e.videoQuizId=e.videoQuiz.id,e.ui.isOrgTransferArrears=t.is_transfer_arrears,e.ui.videoDescription=t.data.description,t.data.other_resource?e.upload=s(t.data.other_resource):e.upload=l(t.interaction_activity_attributes.video_quiz.uploads),c(e,e.videoQuiz,n,i,r)},initForVideoQuiz:function(e,t,n,i){return e.ui=e.ui||{},e.videoQuiz=t,e.upload=l(t.uploads),e.upload.video_src_type=t.video_src_type,e.ui.isOrgTransferArrears=t.is_transfer_arrears,e.ui.videoDescription=e.upload.name,c(e,t,n,i,!0)},initForPreview:function(e,t,n,i,r){t.ui=t.ui||{},t.ui.shouldShowAnswerAtTheCurrentTime=!1,e.inPreview=!0;var o=n.defer();t.answeredTimePoints=[];var a=function(){var e;return t.ui.shouldShowAnswerAtTheCurrentTime=(e=t.timestamp.asKey(),t.answeredTimePoints.includes(e))},s=function(e){return"<div class='timestamp-point' style='left:calc(".concat(e,"% - 4px);'><i class='font-time-point'></i></div>")};t.playerInitiated=function(e){return g(t,e,i,r,a),o.resolve(e)},t.submit=function(){return t.answeredTimePoints.push(t.timestamp.asKey()),t.ui.shouldShowAnswerAtTheCurrentTime=!0,S(t)},t.continue=function(){return t.player.play()};var c=function(e){return function(n){b(t,e),n.stopPropagation(),t.player.pause()}};return o.promise.then((function(){return p(t.upload,t.subjectsTimestamp,c,s)}))},updateControlProgressPoints:p,timestampAsDuration:d,getSubjectAnswerState:x,getCorrectOptions:m,Timestamp:_,initiatePlayer:g,intToChar:y,calcOptionWidth:E,showAnswerExplanationWithInstructor:S};return I}]},33614:(e,t,n)=>{var i=n(708468),r=n(963764),o=n(730381),a=n(904072),s=n(993776);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(892222),n(57327),n(969826),n(489554),n(491038),n(226699),n(821249),n(702707),n(140561),n(556977),n(974916),n(132023),n(978783),n(115306),n(454747);var f=n(409669),p=n(505613).CourseWatcher;e.exports=["$http","activityApi","$q","Course","toastr","commonApi",function(e,t,n,l,d,h){var _={},m={},v={},b={},g=null,y=null,E=null,A=null,w=null,C=null,$=null,x=null,S=null,I=null,k={},N={},T=null,D=null,M=null,O=null,P=null,R=null,V=null,L=null,F={},B=null,U=function(e,t,n){var o=i.sortBy(n,"sort"),a=r.copy(o[e]);o.splice(e,1),o.splice(t,0,a);var s=1;return i.each(o,(function(e){return e.sort=s,s++})),o},j=function(){return _={},m=null},H=function(e,t){return function(){var n,r=[],o=u(t.modules);try{for(o.s();!(n=o.n()).done;){var a,s=n.value,c=u(s.directActivities);try{for(c.s();!(a=c.n()).done;){var l=a.value;l.prerequisites&&l.prerequisites.length>0&&i.remove(l.prerequisites,(function(t){return t.activity_id===e.id&&t.activity_type===e.type}))}}catch(e){c.e(e)}finally{c.f()}r.push(s.syllabuses.map((function(t){return function(){var n,r=[],o=u(t.activities);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.prerequisites&&a.prerequisites.length>0?r.push(i.remove(a.prerequisites,(function(t){return t.activity_id===e.id&&t.activity_type===e.type}))):r.push(void 0)}}catch(e){o.e(e)}finally{o.f()}return r}()})))}}catch(e){o.e(e)}finally{o.f()}return r}()},z={course:{},_course:null,getFormativeTaskScore:function(e){return L||(L=f.get("/api/course/".concat(e,"/formative-task-scores"))),L},getFormativeTaskModule:function(e){return R||(R=f.get("/api/courses/".concat(e,"/formative-task-modules"))),R},getFinalTaskModule:function(e){return V||(V=f.get("/api/courses/".concat(e,"/final-task-modules"))),V},fillActivitiesInModuleAndSyllabus:function(e,t){return i.map(t,(function(t){t.readType="learning_activity";var n,r=!1,o=u(e.course.activities);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.id===t.id&&a.type===t.type&&(r=!0)}}catch(e){o.e(e)}finally{o.f()}if(!r){var s=e.getModule(t.module_id);if(e.course.activities.push(t),!s)return;if(s.activities.push(t),!t.syllabus_id)return void s.directActivities.push(t);var c=i.find(s.syllabuses,{id:t.syllabus_id});if(c)return c.activities.push(t)}}))},fillExamsInModuleAndSyllabus:function(e,t,n){var r=e.getSyllabuses();return i.each(t,(function(t){var o,a=!1;t.type="exam",t.readType="exam_activity",t.has_make_up=(o=t.make_up_record)&&o.is_processing&&!o.has_submitted;var s,c=u(e.course.activities);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.id===t.id&&l.type===t.type&&(a=!0)}}catch(e){c.e(e)}finally{c.f()}if(!a){var d;if(e.course.activities.push(t),"module"===t.referrer_type&&!n)return t.module_id=t.referrer_id,(d=i.find(e.course.modules,{id:t.referrer_id})).activities.push(t),d.directActivities.push(t);if("syllabus"===t.referrer_type){var f=i.find(r,{id:t.referrer_id});if(f)return d=e.getModule(f.module_id),t.module_id=d.id,t.syllabus_id=f.id,f.activities.push(t),d.activities.push(t)}}}))},fillLiveRecordsInModule:function(e,t){return i.map(t,(function(t){t.type="live_record";var n,i=!1,r=u(e.course.activities);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.id===t.id&&o.type===t.type&&(i=!0)}}catch(e){r.e(e)}finally{r.f()}if(!i){var a=e.getModule(t.module_id);if(e.course.activities.push(t),!a)return;return a.activities.push(t),a.directActivities.push(t)}}))},fillInClassInteractionsInModule:function(e,t){var n={select_student:"选人",race_answer:"抢答"};return i.each(t,(function(t){if(t.unique_key="".concat(t.type,"-").concat(t.id),!i.find(e.course.activities,{id:t.id,type:t.type})&&t.module_id){var r=e.getModule(t.module_id);if(e.course.activities.push(t),!r)return;return r.activities=r.activities||[],r.directActivities=r.directActivities||[],t.sort=i.max(r.activities,"sort")+1,t.title=n[t.type],r.activities.push(t),r.directActivities.push(t)}}))},fillRollCallInModule:function(e,t){var n={number_rollcall:"数字点名",qr_rollcall:"二维码点名"};return i.each(t,(function(t){if(t.type="".concat(t.source,"_rollcall"),t.unique_key="".concat(t.type,"-").concat(t.id),t.inclass_type="".concat(t.source,"-rollcall"),!i.find(e.course.activities,{id:t.id,type:t.type})){var r=e.getModule(t.module_id);if(e.course.activities.push(t),!r)return;return r.activities=r.activities||[],r.directActivities=r.directActivities||[],t.sort=i.max(r.activities,"sort")+1,t.title=n[t.type],"waiting"!==t.status&&(t.start_time=t.rollcall_time),r.activities.push(t),r.directActivities.push(t)}}))},fillClassroomsInModuleAndSyllabus:function(e,t,n){var r=e.getSyllabuses();return i.each(t,(function(t){t.readType="classroom_activity";var o,a=!1,s=u(e.course.activities);try{for(s.s();!(o=s.n()).done;){var c=o.value;c.id===t.id&&c.type===t.type&&(a=!0)}}catch(e){s.e(e)}finally{s.f()}if(!a){var l;if(e.course.activities.push(t),!t.module_id)return;if(t.syllabus_id){var d=i.find(r,{id:t.syllabus_id});if(d)return l=e.getModule(d.module_id),d.activities.push(t),l.activities.push(t)}else if(!n&&(l=i.find(e.course.modules,{id:t.module_id})))return l.directActivities.push(t),l.activities.push(t)}}))},initQuestionnaire:function(t){var i=N[t];if(i)return i.promise;N[t]=i=n.defer();return e.get("/api/questionnaires/".concat(t)).success((function(e){return i.resolve(e)})).error(d.decorateError((function(){return i.resolve([])}))),i.promise},initCourseAndModules:function(){if(w)return w.promise;w=n.defer();var e=z.initCourseInfo(),t=z.initModules(),i=z.initCourseTemplateSetting();return n.all([e,t,i]).then((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=c(e,3),n=t[0],i=t[1],r=t[2];return n.modules=i,n.templateSetting=r,z._course=new l(n),z._course.sortModules(),z._course.sortSyllabus(),w.resolve(n)})),w.promise},initCourseTimeTable:function(t){if(P)return P.promise;P=n.defer();return e.get("/api/courses/".concat(t,"/lesson-timetable")).success((function(e){return P.resolve(e.timetables)})).error(d.decorateError((function(){return P.resolve([])}))),P.promise},setTimeTableProperty:function(e,t){e.timetables=t,t.length>0&&(o.locale(a("html").attr("lang")),e.duration="".concat(o(t[0].start_time).format("YYYY.MM.DD")," ").concat(o(t[0].start_time).format("HH:mm"),"-").concat(o(t[0].end_time).format("HH:mm")),e.teachingClasses=e.course_attributes.teaching_class_name.replace(/,/g," / "),e.location=t[0].room.room_name)},initModules:function(){if(E)return E.promise;E=n.defer();var t=a("#courseId").val();return e.get("/api/courses/".concat(t,"/modules")).success((function(e){return E.resolve(e.modules)})).error(d.decorateError((function(){return E.resolve([])}))),E.promise},initCourseTemplateSetting:function(){if(A)return A.promise;if(A=n.defer(),"Student"===a("#userRole").val())A.resolve({});else{var t=a("#courseId").val();e.get("/api/course/".concat(t,"/template-setting")).success((function(e){return A.resolve(e)})).error(d.decorateError((function(){return A.resolve([])})))}return A.promise},initUserReadsRecords:function(t){var i=a("#courseId").val(),r=n.defer();return e.get("/api/course/".concat(i,"/users-reads?type=").concat(t)).success((function(e){return r.resolve(e)})),r.promise},initCourseInfo:function(){var e=a("#courseId").val();if(y)return y.promise;y=n.defer();return t.course(e,"id,name,start_date,end_date,course_code,subject_code,credit,is_child,is_master,has_instruction_team,course_attributes(student_count,teaching_class_name,data),academic_year,semester,public_scope,learning_mode,teaching_mode,score_published,students_count,compulsory,syllabus_enabled,imported_from,course_type,audit_status,display_name,classroom_schedule,second_name,department(id,code,name),grade(id,name),klass(id,name),instructors(id,user_no,email,avatar_big_url,avatar_small_url,name,portfolio_url),org(is_enterprise_or_organization,is_transfer_arrears)",(function(e){return z.course=e,e.activities=e.activities||[],y.resolve(e)}),(function(){return y=null})),y.promise},initCourse:function(e,i){if(g)return g.promise;g=n.defer();var r=function(e){return z.course=e,e.activities=e.activities||[],z._course=new l(e),z._course.sortModules(),z._course.sortSyllabus(),g.resolve(z.course)},o=a("#courseId").val(),s="id,name,sort,syllabuses(".concat("id,date,summary,syllabus_id,objective,comments,module_id",")"),c="id,name,department(code,name),grade(name),klass(name), instructors(id,avatar_big_url,name),modules(".concat(s,"), course_code,subject_code,course_attributes(student_count), public_scope,learning_mode,teaching_mode,score_published,syllabus_enabled,imported_from"),u=e||c;return i?t.anonymousCourse(o,u,r,(function(){})):t.course(o,u,r,(function(){return g=null})),g.promise},getActivitiesByModuleIds:function(e,n,i){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return t.getActivitiesByModuleIds(e,n,i,r)},getCourseSyllabuses:function(){return z._course.getSyllabuses()},initActivities:function(t){if(I)return I.promise;I=n.defer();return e.get("/api/courses/".concat(t,"/activities")).success((function(e){return I.resolve(e.activities)})).error(d.decorateError((function(){return I.resolve([])}))),I.promise},initActivitiesForActivityList:function(e,t){var n=this,r=this.initActivities(e.id);return r.then((function(r){return i.isEmpty(t)||(r=i.filter(r,(function(e){return!t.includes(e.type)}))),n.fillActivitiesInModuleAndSyllabus(e,r,!0)})),r},initExamsForActivityList:function(e){var i=this;if(C)return C.promise.then((function(t){return i.fillExamsInModuleAndSyllabus(e,t,!0)})),C.promise;return C=n.defer(),t.examInCourse(e.id,(function(t){return i.fillExamsInModuleAndSyllabus(e,t.exams),C.resolve(t.exams)})),C.promise},initLiveRecordsForActivityList:function(e){var i=this;if($)return $.promise.then((function(t){return i.fillLiveRecordsInModule(e,t)})),$.promise;return $=n.defer(),t.liveRecordInCourse(e.id,(function(t){return i.fillLiveRecordsInModule(e,t.live_records),$.resolve(t.live_records)})),$.promise},initInClassInteractionsForActivityList:function(e){x=n.defer();return t.inclassInteractionInCourse(e,(function(e){return x.resolve(e.interactions)}),(function(){return x.resolve([])})),x.promise},initRollCallsForActivityList:function(e){var i=n.defer();return t.baseRollcallInCourse(e,(function(e){return i.resolve(e.rollcalls)})),i.promise},initExamsForActivityListOnlyRequest:function(e){var i=n.defer();return t.examInCourse(e,(function(e){return i.resolve(e.exams)}),(function(){return i.resolve([])})),i.promise},initLiveRecordsForActivityListOnlyRequest:function(e){var i=n.defer();return t.liveRecordInCourse(e,(function(e){return i.resolve(e.live_records)}),(function(){return i.resolve([])})),i.promise},initClassroomsForActivityList:function(e){var i=this;if(S)return S.promise.then((function(t){return i.fillClassroomsInModuleAndSyllabus(e,t,!0)})),S.promise;return S=n.defer(),t.classroomInCourse(e.id,(function(t){return i.fillClassroomsInModuleAndSyllabus(e,t.classrooms),S.resolve(t.classrooms)})),S.promise},initClassroomsForActivityListOnlyRequest:function(e){var i=n.defer();return t.classroomInCourse(e,(function(e){return i.resolve(e.classrooms)}),(function(){return i.resolve([])})),i.promise},initCatalogActivityList:function(e){var i=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a)return a.promise.then((function(t){return i.fillActivitiesInModuleAndSyllabus(e,t.learning_activities),i.fillExamsInModuleAndSyllabus(e,t.exams,!0),i.fillClassroomsInModuleAndSyllabus(e,t.classrooms,!0)})),a.promise;var o=function(t){return i.fillActivitiesInModuleAndSyllabus(e,t.learning_activities),i.fillExamsInModuleAndSyllabus(e,t.exams),i.fillClassroomsInModuleAndSyllabus(e,t.classrooms),a.resolve(t)},a=n.defer();return r?t.catalogActivitiesInCourseForVisitor(e.id,o):t.catalogActivitiesInCourse(e.id,o),a.promise},initExams:function(e){var i=n.defer();return t.examInCourse(e,(function(e){return i.resolve(e.exams)}),(function(e){return i.reject(e)})),i.promise},initExamsSubmitted:function(e){var i=n.defer();return t.examsSubmitted(e,(function(e){return i.resolve(e.exam_ids)})),n.all([i.promise,this.initExamScores(e)])},initExamsSubmissions:function(e){var i=n.defer();return t.examSubmissions(e,(function(e){return i.resolve(e)})),i.promise},initExamScores:function(e){var i=n.defer();return t.examsScores(e,(function(e){return i.resolve(e.exam_scores)}),(function(e){return i.reject(e)})),i.promise},initClassroom:function(e){S=n.defer();return t.classroomInCourse(e,(function(e){return S.resolve(e.classrooms)}),(function(e){return S.reject(e)})),S.promise},initHomeworkWithPageInfo:function(e,i){if(_[i.page]&&!i.reloadPage)return _[i.page].promise;_[i.page]=n.defer();return t.homeworksInCourseWithPageInfo(e,i,(function(e){return _[i.page].resolve(e)}),(function(){return _[i.page].resolve(null)})),_[i.page].promise},initGroupHomeworks:function(e){if(m[e])return m[e].promise;m[e]=n.defer();return t.groupHomeworksInGroupSet(e,(function(t){return m[e].resolve(t.homework_activities)}),(function(){return m[e].resolve(null)})),m[e].promise},initGroupExams:function(e){if(v[e])return v[e].promise;v[e]=n.defer();return t.groupExamsInGroupSet(e,(function(t){return v[e].resolve(t.exams)}),(function(){return v[e].resolve(null)})),v[e].promise},getGroupSets:function(e,n,i){return t.groupSetsInCourse(e,n,i)},initClassroomScores:function(e){var i=n.defer();return t.classroomScores(e,(function(e){return i.resolve(e.classroom_scores)}),(function(e){return i.reject(e)})),i.promise},initForumActivity:function(e){var i=n.defer();return t.forumInCourse(e,(function(e){return i.resolve(e.forum_activities)}),(function(e){return i.reject(e)})),i.promise},initForumScores:function(e){var i=n.defer();return t.forumScores(e,(function(e){return i.resolve(e.forum_scores)}),(function(e){return i.reject(e)})),i.promise},initCourseVirtualExperimentActivity:function(e){var i=n.defer();return t.courseVirtualExperiments(e,(function(e){return i.resolve(e.virtual_experiments)}),(function(e){return i.reject(e)})),i.promise},initCourseVirtualExperimentScores:function(e){var i=n.defer();return t.courseVirtualExperimentsScores(e,(function(e){return i.resolve(e.virtual_experiments_scores)}),(function(e){return i.reject(e)})),i.promise},initWeblinkActivity:function(e){var i=n.defer();return t.weblinkInCourse(e,(function(e){return i.resolve(e.web_link_activities)}),(function(e){return i.reject(e)})),i.promise},initWeblinkScores:function(e){var i=n.defer();return t.weblinkScores(e,(function(e){return i.resolve(e.web_link_scores)}),(function(e){return i.reject(e)})),i.promise},initStudents:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r)return r.promise;var r=n.defer(),o=function(e){return r.resolve(e.students)};return t.getStudents(e,o,i),r.promise},initWeblinkStudentScore:function(e){var i=n.defer();return t.weblinkStudentScores(e,(function(e){return i.resolve(e.web_link_scores)}),(function(e){return i.reject(e)})),i.promise},initVirtualExperimentScores:function(e){var i=n.defer();return t.virtualExperimentScores(e,(function(e){return i.resolve(e.virtual_experiment_scores)}),(function(e){return i.reject(e)})),i.promise},autoSave:function(t,r,o){var a=n.defer();return e.put("/api/course/activities/".concat(o,"/web_link_score"),{student_id:t,score:r}).success((function(e){return a.resolve(e),d.success(e.message)})).error((function(e,t){return a.reject(),400===t?(i.each(e.errors.score,(function(e){return d.error(e)})),a.reject()):d.warning()})),a.promise},initQuestionnaireActivity:function(e){var i=n.defer();return t.questionnaireInCourse(e,(function(e){return i.resolve(e.questionnaires)}),(function(e){return i.reject(e)})),i.promise},initQuestionnaireScores:function(e){var i=n.defer();return t.questionnaireScores(e,(function(e){return i.resolve(e.questionnaire_scores)}),(function(e){return i.reject(e)})),i.promise},initInteractionActivity:function(e){var i=n.defer();return t.interactionInCourse(e,(function(e){return i.resolve(e.interactions)}),(function(e){return i.reject(e)})),i.promise},initInteractionScores:function(e){var i=n.defer();return t.interactionScores(e,(function(e){return i.resolve(e.interaction_scores)}),(function(e){return i.reject(e)})),i.promise},initActivitiesReadForUser:function(e){if(T)return T.promise;T=n.defer();return t.getActivitiesReadForUser(e,(function(e){return T.resolve(e.activity_reads)})),T.promise},loadHomeworkSubmissionStatuses:function(e){if(b[e])return b[e].promise;b[e]=n.defer();return t.getHomeworkSubmissionStatus(e,(function(t){return b[e].resolve(t)})),b[e].promise},loadHomeworkSubmissionsNum:function(e){var i=n.defer();return t.getHomeworkSubmissionsNum(e,(function(e){return i.resolve(e.homework_submission_nums)})),i.promise},saveActivity:function(e,n,i,r){var o=function(e){return"homework"===e.type&&j(),i(e)};return n.id?t.updateActivity(n,o,r):t.addActivity(e,n,o,r)},deleteHomework:function(e){return t.deleteActivity(e,{},(function(){return j()}),(function(){}))},batchDeleteHomeworks:function(e){return t.deleteActivities(e,{},(function(){return j()}),(function(){}))},removeActivityFromCourse:function(e,t,n){var r=function(t){return!!t&&(t.id===e&&!["exam","classroom"].includes(t.type))};if(i.map(t.modules,(function(e){return i.remove(e.activities,r),i.remove(e.directActivities,r),i.map(e.syllabuses,(function(e){return i.remove(e.activities,r)}))})),n&&n.keep_original){var o=i.find(t.activities,(function(t){return t.id===e&&!["exam","classroom"].includes(t.type)}));return delete o.module_id,delete o.syllabus_id}return i.remove(t.activities,r)},deleteActivityFromCourse:function(e,n,i,r,o){return t.deleteActivity(e,i,d.decorateSuccess((function(){return z.removeActivityFromCourse(e.id,n,i),H(e,n),r()})),d.decorateError(o))},deleteClassroom:function(t,n,r,o,a){return e.delete("/api/classrooms/".concat(t.id),{params:r}).success(d.decorateSuccess((function(){if(i.map(n.modules,(function(e){return i.remove(e.activities,{id:t.id,type:t.type}),i.remove(e.directActivities,{id:t.id,type:t.type}),i.map(e.syllabuses,(function(e){return i.remove(e.activities,{id:t.id,type:t.type})}))})),r&&r.keep_original){var e=i.find(n.activities,{id:t.id,type:t.type});delete e.module_id,delete e.syllabus_id}else i.remove(n.activities,{id:t.id,type:t.type});return o()}))).error(d.decorateError(a))},deleteExam:function(t,n,r,o,a){return e.delete("/api/exams/".concat(t.id),{params:r}).success(d.decorateSuccess((function(){if(i.map(n.modules,(function(e){return i.remove(e.activities,{id:t.id,type:"exam"}),i.remove(e.directActivities,{id:t.id,type:"exam"}),i.map(e.syllabuses,(function(e){return i.remove(e.activities,{id:t.id,type:"exam"})}))})),H(t,n),r&&r.keep_original){var e=i.find(n.activities,{id:t.id,type:"exam"});delete e.module_id,delete e.syllabus_id,e.referrer_type,e.referrer_id,n.id}else i.remove(n.activities,{id:t.id,type:"exam"});return o()}))).error(d.decorateError(a))},exchangeSyllabusActivities:function(e,n,i){if(n!==i){var o=U(n,i,e.activities);e.activities=r.copy(o);var a={id:e.id,activities:o};return t.updateSyllabusActivitiesSort(a,(function(){}),(function(){}))}},exchangeModuleActivities:function(e,n,i){if(n!==i){var o=U(n,i,e.directActivities);e.directActivities=r.copy(o);var a={id:e.id,activities:o};return t.updateModuleActivitiesSort(a,(function(){}),(function(){}))}},loadActivity:function(e){var i=n.defer();return t.getActivity(e,(function(e){return i.resolve(e)}),(function(){return i.resolve(null)})),i.promise},initActivitiesForStudentCompleteness:function(e){var i=n.defer();return t.getActivities(e,(function(e){return i.resolve(e.activities)}),(function(){return i.resolve([])})),i.promise},getActivitiesForStudentCompleteness:function(e){return D||(D=n.defer(),this.initActivitiesForStudentCompleteness(e).then((function(e){var t=r.copy(e);return i.each(t,(function(e){return e.readType="learning_activity"})),D.resolve(t)}))),D.promise},getExamsForStudentCompleteness:function(t){if(M)return M.promise;M=n.defer();return e.get("/api/courses/".concat(t,"/exams?fields=id,type,sort,completion_criterion&no-intercept=true")).success((function(e){return i.each(e.exams,(function(e){return e.readType="exam_activity"})),M.resolve(e.exams)})).error((function(){return M.resolve([])})),M.promise},getAllActivitiesForStudentCompleteness:function(t){if(O)return O.promise;O=n.defer();return e.get("/api/course/".concat(t,"/my-completeness")).success((function(e){return O.resolve(e)})).error((function(){return O.resolve({})})),O.promise},getInstrouctsEnrolment:function(t){var i=n.defer();return e.get("/api/courses/".concat(t,"/educators")).success((function(e){return i.resolve(e.enrollments)})),i.promise},logActivityRead:function(e,n,i,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return t.logActivityRead(e,n||{},i||function(){},r||function(){},o)},logExamActivityRead:function(e,n,i,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return t.logExamActivityRead(e,n||{},i||function(){},r||function(){},o)},getLeftScorePercentage:function(e){var i=n.defer();return t.getScorePercentages(e,(function(e){var t=new s(e.score_percentage_left);return i.resolve(new s(t.toFixed(1)))})),i.promise},getSubmissionNumber:function(e){var i=n.defer();return t.getSubmissionNumber(e,(function(e){return i.resolve(e.number)})),i.promise},hasReviewedInterScore:function(e){var i=n.defer();return t.hasReviewedInterScore(e,(function(e){return i.resolve(e.has_reviewed)})),i.promise},getHomeworkFirstSubmissionTime:function(e){var i=n.defer();return t.getHomeworkFirstSubmissionTime(e,(function(e){return i.resolve(e.first_submission_time)})),i.promise},isInterReviewStarted:function(e){var i=n.defer();return t.isInterReviewStarted(e,(function(e){return i.resolve(e.is_inter_review_started)})),i.promise},isIntraReviewStarted:function(e){var i=n.defer();return t.isIntraReviewStarted(e,(function(e){return i.resolve(e.is_intra_review_started)})),i.promise},isHomeworkExpired:function(e){var i=n.defer();return t.isHomeworkExpired(e,(function(e){return i.resolve(e.is_expired)})),i.promise},getCompletionCriteriaForType:function(e,n,i,r){return k[e]?k[e].promise:t.getCompletionCriteriaForType(e,n,i,r)},getActivityCompletionCriteria:function(e,n,i,r){return t.getActivityCompletionCriteria(e,n,i,r)},getActivityPrerequisites:function(e,n,i){return t.getActivityPrerequisites(e,n,i)},removeAllDependants:function(e,n){return t.removeAllDependants(e,n,(function(){}))},deleteActivityPrerequisite:function(e,n,i){return t.deleteActivityPrerequisite(e,n,i)},getUnavailablePrerequisites:function(e,n,i){return t.getUnavailablePrerequisites(e,n,i)},getActivityHasDependents:function(e,n,i){return t.getActivityHasDependents(e,n,i)},getActivitiesHaveDependents:function(e,n,i){return t.getActivitiesHaveDependents(e,n,i)},getActivityObeWeight:function(e,n,i,r,o){return t.getActivityObeWeight(e,n,i,r,o)},checkUserIsCoreTeamLeader:function(e){return t.isCoreTeamLeader(e)},getActivityUploadsLicenseInfo:function(e,n,i){return t.getActivityUploadsLicenseInfo(e,n,i)},getNotLoadedModuleId:function(e){var t=[];return e.forEach((function(e){F[e]||t.push(e)})),t},setLoadedModuleId:function(e){e.forEach((function(e){return F[e]=!0}))},getCourseWatcher:function(e,t){return B||(B=new p(e,t)),B}};return z}]},9075:(e,t,n)=>{var i=n(904072),r=n(708468),o=n(963764);n(126541),n(821249),n(968309),n(241539),n(788674),n(117727),e.exports=["service","toastr","$scope",function(e,t,n){var a=this;return a.successMsg="同步成功",a.currentJob=null,a.jobs=[],a.haveRunningJob=!0,a.selectedUsers=[],a.isTransferable=c,a.confirm=function(){c()&&a.confirmPopup.foundation("reveal","open")},a.createJob=function(){var n={users:r.map(a.selectedUsers,(function(e){return{user_no:e.user_no,name:e.name}}))};e.createJob(n).then((function(e){a.selectedUsers=[],a.confirmPopup.foundation("reveal","close"),a.jobs.unshift(e),a.haveJobRunning=!0})).catch((function(){t.warning()}))},a.view=function(t){a.currentJob=o.copy(t),a.jobDetailPopup.foundation("reveal","open"),n.loading=!0,e.getProcesses(a.currentJob).then((function(e){a.currentJob.processes=e})).finally((function(){n.loading=!1}))},a.confirmPopup=i("#confirm-transfer-resources-popup"),a.jobDetailPopup=i("#job-detail-popup"),e.startPolling(s,(function(){t.warning()})),a;function s(e){a.jobs=e;var n=a.haveJobRunning;a.haveJobRunning=!r.every(e,{status:"finished"}),!1===a.haveJobRunning&&!0===n&&t.success(a.successMsg)}function c(){return!a.haveJobRunning&&a.selectedUsers.length>0}}]},442247:(e,t,n)=>{var i=n(708468);n(892222),e.exports=["$http","toastr","commonApi",function(e,t,n){return{course:n.course,departments:n.departments,grades:n.grades,classes:n.classes,instructors:n.instructors,users:n.users,changeEnrollmentRole:n.changeEnrollmentRole,deleteEnrollment:n.deleteEnrollment,editBulletin:n.editBulletin,classifications:n.resourceClassifications,getCourseCaptureSettingPlugin:n.getCourseCaptureSettingPlugin,updateOutline:function(n,i,r){return e.put("/api/course/".concat(n.id,"/outline"),n).success(t.decorateSuccess(i)).error(t.decorateError(r))},notifyOutlineEditing:function(n,i,r){return e.post("/api/outline/notify",{course_ids:n}).success(t.decorateSuccess(i)).error(t.decorateError(r))},searchCourses:function(n,r,o,a,s){return i.isEmpty(o.fields)&&(o.fields="id,name,academic_year,compulsory,course_code,semester,subject_code,department(id,name),course_attributes(student_count,audience_type,education_type,teaching_class_name),public_scope,status,grade(id,name),klass(id,name),instructors(id,name),course_outline,imported_from,course_type,allow_clone"),e.post("/api/courses?page=".concat(n,"&page_size=").concat(r,"&include_children_tenant"),o).success(a).error(t.decorateError(s))},searchResources:function(n,i,r,o,a){return e.get("/api/shared-resources/management",{params:{page:n,page_size:i,conditions:r}}).success(o).error(t.decorateError(a))},getVideoResourceGroups:function(n,i,r,o,a){return e.get("/api/shared-resources/stat/video-resources",{params:{page:n,page_size:i,conditions:r}}).success(o).error(t.decorateError(a))},exportResources:function(n,i,r){return e.get("/api/shared-resources/stat",{params:{conditions:n},responseType:"arraybuffer"}).success(i).error(t.decorateError(r))},exportVideoResources:function(n,i,r){return e.get("/api/shared-resources/stat/video-resources/export",{params:{conditions:n},responseType:"arraybuffer"}).success(i).error(t.decorateError(r))},exportCourses:function(n,i,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"xlsx";return e({url:"/api/stat/courses/export/to/".concat(o),method:"POST",responseType:"arraybuffer",data:n}).success(i).error(t.decorateError(r))},exportRollcallStat:function(n,i,r){return e.get("/api/stat/courses/rollcall/export",{params:{conditions:n},responseType:"arraybuffer"}).success(i).error(t.decorateError(r))},exportRollcallStatByClass:function(n,i,r){return e.get("/api/stat/courses/rollcall/export-by-class",{params:{conditions:n},responseType:"arraybuffer"}).success(i).error(t.decorateError(r))},exportHomeworkCorrect:function(n,i,r){return e.get("/api/stat/courses/homework-correct/export",{params:{conditions:n},responseType:"arraybuffer"}).success(i).error(t.decorateError(r))},addCourse:function(n,i,r){return e.post("/api/course",n).success(t.decorateSuccess(i)).error(t.decorateError(r))},updateCourse:function(n,i,r){return e.put("/api/courses/".concat(n.id),n).success(t.decorateSuccess(i)).error(t.decorateError(r))},deleteCourse:function(n,i,r){return e.delete("/api/course/".concat(n)).success(t.decorateSuccess(i)).error(t.decorateError(r))},updateCoursePublishStatus:function(n,i,r,o){return e.put("/api/courses/".concat(n,"/publish"),{published:i}).success(t.decorateSuccess(r)).error(t.decorateError(o))},getCourseCanUnPublished:function(t,n,i){return e.get("/api/courses/".concat(t,"/can-unpublished")).success(n).error(i)},restoreCourse:function(n,i,r){return e.put("/api/courses/".concat(n,"/restore")).success(t.decorateSuccess(i)).error(t.decorateError(r))},batchUpdateCourseSettings:function(n,i,r){return e.put("/api/courses/settings",n).success(t.decorateSuccess(i)).error(t.decorateError(r))},addEnrollments:function(n,i,r,o){return e.post("/api/courses/".concat(n,"/enrollments"),i).success(r).error(t.decorateError(o))},getMembers:function(n,i,r){return e.get("/api/courses/".concat(n,"/members")).success(i).error(t.decorateError(r))},getCertifications:function(n,i){return e.get("/api/certifications").success(n).error(t.decorateError(i))},academicYears:n.academicYears,semesters:n.semesters,getBulletins:n.getBulletins,addBulletin:n.addBulletin,deleteBulletin:n.deleteBulletin,mySemesters:n.mySemesters,mySemestersAll:n.mySemestersAll,getCcLicenseGroups:n.getCcLicenseGroups,changeEnrollmentsRole:function(n,i,r,o){return e.put("/api/course/enrollments",{enrollment_ids:n,role:i}).success(r).error(t.decorateError(o))},deleteEnrollments:function(n,i,r){return e({url:"/api/course/enrollments",data:{enrollment_ids:n},method:"DELETE"}).success(i).error(t.decorateError(r))},getStatInfoForCourseInstructors:function(t,n,i){return e.get("/api/stat/courses/".concat(t,"/instructors")).success(n).error(i)},getStatInfoForCourseStudents:function(n,i,r){return e.get("/api/stat/courses/".concat(n,"/students")).success(i).error(t.decorateError(r))},getDepartmentCourses:function(n,i,r){return e.get("/api/departments/".concat(n,"/courses")).success(t.decorateSuccess(i)).error(t.decorateError(r))},importCourses:function(t,n,i){return e.post("/api/data-import/courses",t).success(n).error(i)},importEditCourses:function(t,n,i){return e.post("/api/data-import/edit-courses",t).success(n).error(i)},importCoursesEnrollments:function(t,n,i){return e.post("/api/data-import/enrollments",t).success(n).error(i)},importEnrollments:function(t,n,i){return e.post("/api/data-import/enrollments/".concat(t.courseId),t).success(n).error(i)},markBulletinAsRead:n.markBulletinAsRead,createPartnerAssociation:function(n,i,r,o){return e.post("/api/courses/".concat(n,"/associated-partner-info"),i).success(t.decorateSuccess(r)).error(t.decorateSuccess(o))},getPartnerAssociation:function(t,n,i){return e.get("/api/courses/".concat(t,"/associated-partner-info")).success(n).error(i)},updatePartnerAssociation:function(n,i,r,o){return e.put("/api/courses/".concat(n,"/associated-partner-info"),i).success(t.decorateSuccess(r)).error(t.decorateSuccess(o))},getPartnerTypes:function(t,n,i){return e.get("/api/orgs/".concat(t,"/associated-partner-types")).success(n).error(i)},recalculateCertificationScoreOfCourses:function(n,i,r){return e.put("/api/user/course-certification/scores",{course_ids:n}).success(t.decorateSuccess(i)).error(t.decorateError(r))}}}]},79980:(e,t,n)=>{var i=n(904072),r=n(708468),o=n(963764),a=n(293789);n(892222),n(34553),n(489554),n(226699),n(815218),n(454747);var s=n(289895),c=n(180736);e.exports=["$rootScope","$scope","$http","toastr","$timeout","$interval",function(e,t,n,u,l,d){t.ui={showForm:!1};var f=s(),p=c(t),h=function(){return t.note={content:"",target_type:t.target_type,anchor:null,course_id:t.course_id,activity_id:t.activity_id,target_id:t.target_id},delete t.errors},_=function(){return l((function(){return i(".note-form .note-content").focus(),100}))};t.showAddNoteForm=function(){return t.note.anchor=0,"video"===t.note.target_type?t.note.anchor=Math.floor(t.player.theCurrentTime()):"document"===t.note.target_type&&(t.note.anchor=i("#file-previewer-with-note #pdf-viewer")[0].contentWindow.PDFViewerApplication.pdfViewer.currentPageNumber),t.ui.showForm=!0,_()},t.hideAddNoteForm=function(){return h(),t.ui.showForm=!1},t.formatAnchor=function(e){if(!e)return"";var t=e.anchor;return"video"===e.target_type?(f.parseTime(t),f.asKey()):t},t.seekToAnchor=function(e){var n=e.anchor;return"video"===e.target_type?t.player.theCurrentTime(n):"document"===e.target_type?i("#file-previewer-with-note #pdf-viewer")[0].contentWindow.PDFViewerApplication.pdfViewer.currentPageNumber=n:void 0},t.save=function(){var i;p.show();var o=function(e,n){return 400===n&&(t.errors=e.errors),p.hide()};return t.note.id?(i=function(n){n.order=n.updated_at?n.updated_at:n.created_at;var i=r.findIndex(t.notes,(function(e){return e.id===t.note.id}));return t.notes[i]=n,t.hideAddNoteForm(),p.hide(),e.hasEdited=!0},n.put("/api/notes/".concat(t.note.id),t.note).success(i).error(u.decorateError(o))):(i=function(n){return n.order=n.updated_at?n.updated_at:n.created_at,t.notes.push(n),t.hideAddNoteForm(),p.hide(),e.hasEdited=!0},n.post("/api/notes",t.note).success(i).error(u.decorateError(o)))},t.editNote=function(e){return t.note=o.copy(e),t.ui.showForm=!0,_()},t.deleteNote=function(i){return n.delete("/api/notes/".concat(i)).success((function(){return r.remove(t.notes,(function(e){return e.id===i})),t.hideAddNoteForm(),e.hasEdited=!0})).error(u.decorateError((function(){})))};t.uploadCanAddNote=function(e){if(e)return["image","video"].includes(e.type)||"document"===e.type&&!e.isTextFile};if(t.$on("previewFile",(function(e,n,r,o){if(t.fileAddNote){if(!t.uploadCanAddNote(n))return"function"==typeof t.hideNoteBox?t.hideNoteBox():void 0;if(t.initData(r,n),o)return l((function(){var e;if("document"===o.target_type){var n=i("#file-previewer-with-note #pdf-viewer")[0];return e=d((function(){if(a.guard(a.guard(a.guard(null!=n?n.contentWindow:void 0,(function(e){return e.PDFViewerApplication})),(function(e){return e.pdfViewer})),(function(e){return e.getPageView(o.anchor-1)})))return t.seekToAnchor(o),d.cancel(e)}),100)}if("video"===o.target_type)return e=d((function(){if(4===("function"==typeof(n=t.player).readyState?n.readyState():n.readyState))return t.seekToAnchor(o),t.player.play(),d.cancel(e);var n}),100)}),1e3)}})),t.fullScreenMode&&!t.fileAddNote&&(i(window).resize((function(){return t.isShowingNoteBox?i(".video-player .video-js").width(i(".video-player").width()-290):i(".video-player .video-js").width(i(".video-player").width())})),t.$on("$destroy",(function(){return i(window).off("resize"),null}))),t.initData=function(e,i){return e||(e=t.activity),t.course_id=e.course_id,t.activity_id=e.id,e&&!i?(t.target_id=e.uploads[0].id,t.target_type=e.uploads[0].type):(t.target_id=i.id,t.target_type=i.type),n.get("/api/notes?course_id=".concat(t.course_id,"&activity_id=").concat(t.activity_id,"&target_id=").concat(t.target_id)).success((function(e){return t.notes=r.forEach(e.notes,(function(e){return e.order=e.updated_at?e.updated_at:e.created_at}))})).error(u.decorateError((function(){}))),h()},t.upload)return t.initData(t.activity,t.upload)}]},289895:(e,t,n)=>{var i=n(708468);n(892222),e.exports=function(){var e=function(e){var t=i.parseInt(e)||0;return t>9?"".concat(t):"0".concat(t)};return{hour:0,minute:0,second:0,asKey:function(){return 0===this.hour?"".concat(e(this.minute),":").concat(e(this.second)):"".concat(e(this.hour),":").concat(e(this.minute),":").concat(e(this.second))},parseTime:function(e){this.second=Math.floor(e%3600%60),this.minute=Math.floor(e%3600/60),this.hour=Math.floor(e/3600)}}}},166555:(e,t,n)=>{var i=n(904072),r=n(708468);n(892222),n(226699),n(682772),n(974916),n(132023),n(115306),n(229254),e.exports=["$scope","$rootScope","$timeout","$window",function(e,t,n,o){return e.notificationText=function(t,n){var i=e.notificationTypesAndText[t];if(!i)return"";var r=i[n];return r||""},e.getActivityIcon=function(e){return(e||"").replace(/_/g,"-")},e.openActivity=function(t){e.canOpenActivity(t)&&(o.location.href=t.url)},e.canOpenActivity=function(t){return!t.is_locked||(e.lockedActivity=t,i("#prerequisites-confirmation-popup").foundation("reveal","open"),!1)},e.linkToActivity=function(t){if(!e.canOpenActivity(t))return!1;var n=t.course_id,i=t.activity_type,r=t.activity_id;switch(i){case"material":case"online_video":case"page":case"scorm":case"welink":case"tencent_meeting":case"dingtalk_meeting":case"classin":case"zoom":case"web_link":case"lesson":case"slide":case"homework":case"forum":case"chinamcloud_live":case"virtual_experiment":case"microsoft_teams_meeting":return o.location.href="/course/".concat(n,"/learning-activity#/").concat(r);case"exam":return o.location.href="/course/".concat(n,"/learning-activity#/exam/").concat(r);case"questionnaire":return o.location.href="/course/".concat(n,"/learning-activity/full-screen#/questionnaire/").concat(r);case"classroom":return o.location.href="/course/".concat(n,"/learning-activity#/classroom/").concat(r);case"lecture_live":return o.location.href="/course/".concat(n,"/live-activities#/").concat(r,"/detail");default:return""}},e.linkToBulletin=function(e){return"org"===e.type?"/bulletin-list/?type=org&bulletin_id=".concat(e.bulletin_id):"/bulletin-list/?type=course"},e.linkToHomeworkActivity=function(e){return"/course/".concat(e.course_id,"/learning-activity#/").concat(e.homework_id)},e.linkToAuditActivity=function(e){return"/course/".concat(e.course_id,"/learning-activity#/").concat(e.activity_id)},e.linkToQuestionnaireActivity=function(e){return"/course/".concat(e.course_id,"/learning-activity#/questionnaire/").concat(e.questionnaire_id)},e.linkToTopic=function(e){return e.group_id?"/course/".concat(e.course_id,"/group-set#/topics/").concat(e.topic_id,"?groupId=").concat(e.group_id):"/course/".concat(e.course_id,"/forum?show_sidebar=false#/topics/").concat(e.topic_id)},e.linkToExamSubmissionInfo=function(e){return"/course/".concat(e.course_id,"/learning-activity#exam/").concat(e.activity_id,"/score-list")},e.linkToExam=function(t){e.canOpenActivity(t)&&(o.location.href="/course/".concat(t.course_id,"/learning-activity#/exam/").concat(t.exam_id))},e.linkToForumActivity=function(e){return"/course/".concat(e.course_id,"/learning-activity#/").concat(e.activity_id)},e.linkToTeachingUnit=function(e){return"/course/".concat(e.course_id,"/content")},e.linkToResearchMeeting=function(e){return"/course/".concat(e.course_id,"/teaching-team#/meeting/").concat(e.meeting_id)},e.linkToResearchForum=function(e){return"/course/".concat(e.course_id,"/teaching-team#/forum/").concat(e.forum_id)},e.linkToLearningProgressAlert=function(e){return"/management/learning-statistics/learning-progress#/".concat(e.course_id,"/alert-list")},e.linkToLearningWarning=function(e){return"/course/".concat(e.course_id,"/warning")},e.view=function(t){return i("#instrucor-warning-info-popup").foundation("reveal","open"),e.warningInfo=t},e.teachingUnitName=function(t){return t.teaching_unit_type&&"teaching_class"===t.teaching_unit_type?e.teachingUnitNames.teaching_class:e.teachingUnitNames.course},e.teachingUnitRoleName=function(t){return e.teachingUnitRoleNames[t.teaching_unit_role]},e.linkToTrackedUserResource=function(e){return"/shared-resource/user/".concat(e.tracked_user_id,"/track-user-resource")},e.linkToFollowerInfo=function(e){return"/shared-resource/user/".concat(e.follower_id,"/track-user-resource")},e.linkToResourceGroup=function(e){return"/user/resource-groups#/".concat(e.group_id,"/members")},e.link=function(t){return["shared_resource_audit_agree","shared_resource_audit_reject","shared_resource_reported","shared_resource_off_the_shelf","campus_subject_lib_audit_agree","campus_subject_lib_audit_reject","campus_subject_lib_off_the_shelf"].indexOf(t.type)>-1?"":["course_outline_edit","course_outline_closing_edit","course_completeness_alert","course_obe_unassociated_alert"].includes(t.type)?"/course/".concat(t.payload.course_id,"/outline"):r.includes(["submission_submitted","homework_ended","homework_expiring","homework_opened_for_submission","homework_opening_for_submission","homework_is_recommended","homework_is_recommended_group","has_recommend_homework","has_recommend_homework_group","recommend_homework_removed","inter_score_ended","inter_score_expiring","inter_score_homework_submission","homework_score_updated","course_homework_remind","course_homework_make_up","course_homework_resubmit","course_homework_review_remind"],t.type)?e.linkToHomeworkActivity(t.payload):"homework_submitted"===t.type?"".concat(e.linkToHomeworkActivity(t.payload),"?&view=scores"):r.includes(["activity_opening","activity_expiring","activity_opened","exam_submission"],t.type)?e.linkToActivity(t.payload):"course_opening"===t.type||"course_started"===t.type?"/course/".concat(t.payload.course_id,"/content"):r.includes(["bulletin_created","bulletin_updated"],t.type)?e.linkToBulletin(t.payload):r.includes(["reply_created","topic_replies","topic_secondary_replies","topic_like","topic_create"],t.type)?e.linkToTopic(t.payload):"user_join_course"===t.type||"user_exit_course"===t.type?"/course/".concat(t.payload.course_id,"/enrollments"):r.includes(["score_publish_closing","score_setting_changed","score_publish_reject"],t.type)?"/course/".concat(t.payload.course_id,"/score"):r.includes(["recent_plan_expire","plan_expired","recent_storage_run_out","storage_run_out","recent_transfer_run_out","transfer_run_out"],t.type)?"/management/plan":"instructor_submit_course_public_audit"===t.type?"/management/course/audit":"course_public_audit_response"===t.type?"/course/".concat(t.payload.course_id,"/content"):"org_plan_request"===t.type?"/wg-admin/request":"org_plan_response"===t.type?"/management/plan":["course_estimate_reply","course_estimate"].includes(t.type)?"/course/".concat(t.payload.course_id):"exam_submission_info"===t.type?e.linkToExamSubmissionInfo(t.payload):r.includes(["exam_opened","exam_expiring","exam_ended","exam_submit_started","exam_score_updated","exam_make_up"],t.type)?e.linkToExam(t.payload):r.includes(["discussion_create","discussion_score_updated"],t.type)?e.linkToForumActivity(t.payload):"new_resource_share_to_follower"===t.type?e.linkToTrackedUserResource(t.payload):"tracked_user_is_tracked"===t.type?e.linkToFollowerInfo(t.payload):"user_join_resource_group"===t.type?e.linkToResourceGroup(t.payload):"/user/index"},e.confirmInvite=function(e){return t.invitePayload=e,n((function(){return i("#invite-confirm").foundation("reveal","open")}))},e.weeklyDayTranslateForEnglish={一:"Mon",二:"Tue",三:"Wed",四:"Thu",五:"Fri",六:"Sat",日:"Sun"}}]},148510:(e,t,n)=>{"use strict";n.r(t);var i=n(963764),r=n.n(i),o=n(370538),a=n(370618),s=n(473441),c=n(231078);a.S1({ignoreErrors:["top.GLOBALS","UnhandledRejection","ChunkLoadError","ResizeObserver loop limit exceeded","window.loadApps is not a function"],denyUrls:[/^chrome:\/\//i,/^chrome-extension:\/\//i,/^file:\/\//i],release:"1.46-dev",dsn:window.CONFIGS&&window.CONFIGS.sentryClientKey,tracesSampleRate:.2,integrations:[new s.j({angular:r()}),new c.w({Vue:o.default,attachProps:!0})]})},25536:(e,t,n)=>{function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(369070),e.exports=["$q",function(e){return function(){"use strict";function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.blob=e,this.reader=new FileReader}var n,r,o;return n=t,(r=[{key:"read",value:function(){var t=this;return this.deferred||(this.deferred=e.defer(),this.reader.onload=function(e){return t.deferred.resolve(e.target.result)},this.reader.readAsArrayBuffer(this.blob)),this.deferred.promise}}])&&i(n.prototype,r),o&&i(n,o),t}()}]},155360:(e,t,n)=>{var i=n(963764);n(968309),n(230293),n(647301),e.exports=i.module("uploadModule",["ngFileUpload"]).factory("jobQueue",n(694771)).factory("uploadBlob",n(25536)).factory("uploadClass",n(150858)).factory("storageUploader",n(185514)).factory("uploadService",n(657886)).name},694771:(e,t,n)=>{var i=n(708468);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(969826),n(369070),e.exports=["$timeout",function(e){return new(function(){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;r(this,t),this.concurrentJobNumber=e,this.queue=[],this.id=1}var n,a,s;return n=t,(a=[{key:"execute",value:function(){var e=this;return function(){for(var t=[],n=0,r=i.min([e.queue.length,e.concurrentJobNumber]),o=0<=r;o?n<r:n>r;o?n++:n--){var a=e.queue[n];if("ready"===a.status){a.status="processing";var s=a.run();t.push(s.then((function(){return e.successCallback(a),e.jobDoneCallback(a)}),(function(){return e.errorCallback(a),e.jobDoneCallback(a)})))}else t.push(void 0)}return t}()}},{key:"push",value:function(e){return e.jobId=this.id,e.status="ready",this.queue.push(e),this.id+=1,this.execute()}},{key:"removeFromQueue",value:function(e){return i.remove(this.queue,(function(t){return t.jobId===e}))}},{key:"jobDoneCallback",value:function(t){var n=this;return e((function(){return n.removeFromQueue(t.jobId),n.execute()}))}},{key:"removeJob",value:function(e){var t=i.find(this.queue,(function(t){return t.jobId===e.jobId}));return"processing"===e.status?t.delete():this.removeFromQueue(e.jobId)}},{key:"isDone",value:function(){return 0===this.queue.length}},{key:"bindCallback",value:function(e,t){return this.successCallback=e,this.errorCallback=t}}])&&o(n.prototype,a),s&&o(n,s),t}())}]},150858:(e,t,n)=>{var i=n(963764),r=n(708468);function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(892222),n(747042),n(603843),n(583710),n(968309),n(369070),n(891058),e.exports=["$rootScope","$http","$q","$timeout","Upload","uploadBlob",function(e,t,n,a,u,l){var d=function(t){return function(n){t.progress=parseInt(100*n.loaded/n.total);var i=(Date.now()-t.startTime)/1e3;return t.speed=i?n.loaded/i:0,a((function(){return e.$apply()}))}};return function(){"use strict";function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4194304;s(this,f),this.name=e.name,this.size=e.size,this.file=e,this.finished=!1,this.failed=!1,this.failedWithAMessage=!1,this.progress=0,this.isThirdPartResource=!1,this.blockSize=t,this.uploadedBlockCtxs=[],this.uptoken=null,this.isChunkMode=!0,this.allow_download=!0}var p,h,_;return p=f,(h=[{key:"updateUploadWithServerData",value:function(e){if(this.id=e.id,this.created_at=e.created_at,this.uploadUrl=e.upload_url,this.status=e.status,this.type=e.type,e.name&&(this.name=e.name),this.storageType=e.storage_type,this.transcoder=e.transcoder,e.is_cc_video&&(this.isCCVideo=e.is_cc_video),e.cc_info)return this.CCInfo=e.cc_info}},{key:"abort",value:function(){return this.aborted=!0,this.abortRequest()}},{key:"abortRequest",value:function(){if(this.isChunkMode){if(this.blockRequest)return this.blockRequest.abort.resolve()}else if(this.uploadRequest)return this.uploadRequest.abort()}},{key:"resume",value:function(){return this.aborted=!1,this.uploadToServer()}},{key:"delete",value:function(){return this.abort(),this.deleteUploadProgressLog()}},{key:"run",value:function(){return this.uploadToServer()}},{key:"getStorageKey",value:function(){return"".concat(this.name,"_").concat(this.type,"_").concat(this.size,"_").concat(this.file.lastModified)}},{key:"getBlocks",value:function(){for(var e=[],t=0,n=Math.floor((this.file.size+this.blockSize-1)/this.blockSize),i=0<=n;i?t<n:t>n;i?t++:t--){var r=t*this.blockSize,o=this.file.slice(r,r+this.blockSize);e.push(new l(o))}return e}},{key:"getBlob",value:function(e){return this.file.slice(e,e+this.blockSize)}},{key:"uploadToServer",value:function(){var e=this;this.deferredUploadJob||(this.deferredUploadJob=n.defer()),this.startTime||(this.startTime=Date.now());var i=function(t){return e.doSuccessfulUpload(t),e.deferredUploadJob.resolve(e)},r=function(){return e.doFailedUpload(),e.deferredUploadJob.reject(e)};return this.isCCVideo?this.uploadToBokeCC().then(i,r):"QINIU"===this.storageType?this.updateToken().then((function(){return e.uploadToQiniuServer().then(i,r)})):this.uploadToLocalServer().then((function(n){"S3"==e.storageType&&"WRPC"==e.transcoder&&t.post("/internal-api/upload/callback/".concat(e.id),{file_key:e.id}),i(n)}),r),this.deferredUploadJob.promise}},{key:"uploadToLocalServer",value:function(){return this.isChunkMode=!1,window.FileAPI&&window.FileAPI.upload?this.uploadToLocalServerFromIE9():this.uploadToLocalServerFromHtml5()}},{key:"uploadToQiniuServer",value:function(){var e=this,t=function(){return e.isChunkMode?e.makeFile().then((function(t){return e.deleteUploadProgressLog(),r.resolve(t)}),(function(e){return r.reject(e)})):r.resolve()},i=function(e){return r.reject(e)},r=n.defer();if(window.FileAPI&&window.FileAPI.upload)this.uploadToQiniuServerFromIE9().then(t,i);else{this.blobs=this.getBlocks();var o=this.loadUploadProgressLog();o&&(Date.now()-o.timestamp>864e5?this.deleteUploadProgressLog():this.uploadedBlockCtxs=o.uploadedBlockCtxs),this.uploadToQiniuServerFromHtml5().then(t,i)}return r.promise}},{key:"makeFile",value:function(){var e,n={"Content-Type":"text/plain;charset=UTF-8",Authorization:"UpToken "+this.uptoken},i="",r=o(this.uploadedBlockCtxs);try{for(r.s();!(e=r.n()).done;)i=i+e.value+","}catch(e){r.e(e)}finally{r.f()}return i=i.slice(0,i.length-1),t.post("".concat(this.uploadUrl,"/mkfile/").concat(this.size),i,{headers:n})}},{key:"uploadFromIE9",value:function(e){var t=n.defer(),i={url:this.uploadUrl,files:{file:[this.file]},progress:d(this),complete:function(e){return e?t.reject(e):t.resolve()}};return e||(i.headers={Authorization:"UpToken "+this.uptoken},i.data={token:this.uptoken}),this.uploadRequest=FileAPI.upload(i),t.promise}},{key:"uploadToQiniuServerFromIE9",value:function(){return this.isChunkMode=!1,this.uploadFromIE9(!1)}},{key:"uploadToQiniuServerFromHtml5",value:function(e){var t=this,r=function(e){return t.uploadedBlockCtxs.push(e.data.ctx),t.saveUploadProgressLog(),t.uploadedBlockCtxs.length<t.blobs.length?t.uploadToQiniuServerFromHtml5(t.uploadedBlockCtxs.length):t.deferredBlobsJob.resolve(e)},o=function(e){return 401===e.status?t.refreshToken().then((function(){return t.uploadToQiniuServerFromHtml5(t.uploadedBlockCtxs.length)}),(function(e){return this.deferredBlobsJob.reject(e)})):0===e.status?t.deferredBlobsJob.reject({aborted:!0}):t.deferredBlobsJob.reject(e)},a=i.isDefined(e)?e:this.getFinishedIndex();return this.deferredBlobsJob||(this.deferredBlobsJob=n.defer()),this.blobs[a].read().then((function(e){return t.uploadBlockData(e).then(r,o)})),this.deferredBlobsJob.promise}},{key:"uploadToBokeCC",value:function(){var e=this,t=function(){return r.resolve(),e.notifyUploaded()},i=function(e){return r.reject(e)},r=n.defer();return window.FileAPI&&window.FileAPI.upload?alert("Please update your browser to IE10+"):this.uploadCCMeta().then((function(){return e.uploadToBokeCCFromH5().then(t,i)})),r.promise}},{key:"uploadCCMeta",value:function(){return t.get("".concat(this.CCInfo.metaurl,"?ccvid=").concat(this.CCInfo.videoid,"&uid=").concat(this.CCInfo.userid,"&filename=").concat(encodeURI(this.name),"&filesize=").concat(this.size,"&servicetype=").concat(this.CCInfo.servicetype))}},{key:"notifyUploaded",value:function(){return t.put("/api/uploads/".concat(this.id,"/uploaded"))}},{key:"uploadToBokeCCFromH5",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=function(t){return 0===t.result?e.uploadToBokeCCFromH5(t.received):e.deferredBlobsJob.resolve(t)},r=function(t){return-2===(null!=t?t.result:void 0)?e.uploadToBokeCCFromH5(t.received):e.deferredBlobsJob.reject(t)};return this.deferredBlobsJob||(this.deferredBlobsJob=n.defer()),this.uploadFileChunk2CC(t).then(i,r),this.deferredBlobsJob.promise}},{key:"uploadFileChunk2CC",value:function(e){var t=this,i=n.defer(),o=this.getBlob(e),a=Date.now(),s=function(e){return delete t.blockRequest,i.reject(e)};if(this.aborted)i.reject({aborted:this.aborted});else{this.setBlockRequest();var c=new FormData;c.append("file",o);var u=new XMLHttpRequest;u.open("POST",this.CCInfo.chunkurl+"?ccvid="+this.CCInfo.videoid),u.setRequestHeader("Content-Range","bytes "+e+"-"+(e-1+o.size)+"/"+this.size),u.upload.addEventListener("progress",(function(n){var i=(Date.now()-a)/1e3;return t.speed=i?n.loaded/i:0,t.progress=r.parseInt(100*(e+n.loaded)/t.size)}),!1),u.send(c),u.onload=function(){if(200===u.status){var e=JSON.parse(u.response);return(null!=e?e.result:void 0)>=0?(n=e,i.resolve(n),delete t.blockRequest):s(e)}var n;return s(u)}}return i.promise}},{key:"uploadToLocalServerFromIE9",value:function(){return this.uploadFromIE9(!0)}},{key:"uploadToLocalServerFromHtml5",value:function(){var e=n.defer();return"S3"===this.storageType&&"WRPC"==this.transcoder?this.uploadRequest=u.http({url:this.uploadUrl,data:this.file,method:"PUT",headers:{"Content-Type":this.file.type}}):this.uploadRequest=u.upload({url:this.uploadUrl,data:{file:this.file},method:"PUT"}),this.uploadRequest.then((function(t){return e.resolve(t)}),(function(t){return e.reject(t)}),d(this)),e.promise}},{key:"setBlockRequest",value:function(){return this.blockRequest={abort:n.defer()}}},{key:"getFinishedIndex",value:function(){return this.uploadedBlockCtxs.length}},{key:"saveUploadProgressLog",value:function(){var e={uploadedBlockCtxs:this.uploadedBlockCtxs,timestamp:Date.now()};return window.sessionStorage.setItem(this.getStorageKey(),JSON.stringify(e))}},{key:"loadUploadProgressLog",value:function(){var e=this.getStorageKey();if(e)return JSON.parse(window.sessionStorage.getItem(e))}},{key:"deleteUploadProgressLog",value:function(){return window.sessionStorage.removeItem(this.getStorageKey())}},{key:"uploadBlockData",value:function(e){var t=this,i=n.defer(),r=Date.now();return this.aborted?i.reject({aborted:this.aborted}):(this.setBlockRequest(),u.http({url:this.uploadUrl+"/mkblk/".concat(e.byteLength),data:e,headers:{Authorization:"UpToken "+this.uptoken,"Content-Type":"application/octet-stream"},timeout:this.blockRequest.abort.promise}).then((function(e){return i.resolve(e),delete t.blockRequest}),(function(e){return delete t.blockRequest,i.reject(e)}),(function(e){var n=e.loaded;return t.updateProgress(n),t.updateSpeed(r,n)}))),i.promise}},{key:"updateProgress",value:function(e){var t=100*(this.getUploadedSize()+e);return this.progress=r.parseInt(t/this.size)}},{key:"doSuccessfulUpload",value:function(t){return t&&t.data&&t.data.file_key&&(this.key=t.data.file_key),this.finished=!0,delete this.progress,delete this.speed,a((function(){return e.$apply()}))}},{key:"doFailedUpload",value:function(){return this.failed=!0,delete this.progress,delete this.speed,a((function(){return e.$apply()}))}},{key:"updateSpeed",value:function(e,t){var n=(Date.now()-e)/1e3;return this.speed=n?t/n:0}},{key:"getUploadedSize",value:function(){return this.blockSize*this.uploadedBlockCtxs.length}},{key:"updateToken",value:function(){var e=this,i=n.defer();return this.uptoken?i.resolve(this.uptoken):t.get("/api/uptoken?id=".concat(this.id)).success((function(t){return e.uptoken=t.uptoken,i.resolve(t)})).error((function(e){return i.reject(e)})),i.promise}},{key:"refreshToken",value:function(){return this.uptoken=null,this.updateToken()}}])&&c(p.prototype,h),_&&c(p,_),f}()}]},657886:(e,t,n)=>{var i=n(708468);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(126541),n(57327),n(605212),n(968309),n(369070),n(891058),n(324603),n(974916),n(339714),e.exports=["$rootScope","$http","$q","uploadClass","jobQueue",function(e,t,n,o,a){return e.uploads=[],new(function(){"use strict";function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.jobQueue=e,this.config={}}var s,c,u;return s=a,(c=[{key:"uploadFiles",value:function(t){var n=this,r=[];return i.each(t,(function(t){var i=new o(t);return r.push(i),n.updateServerData(i).then((function(t){return e.uploads.push(t),n.jobQueue.push(t)}),(function(e){return i.createFailed=!0,n.errorCallback(e)}))})),r}},{key:"updateConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.config.parentId=r,this.config.parentType=e,this.config.isScorm=t,this.config.embedMaterialType=i,this.config.isWmpkg=n}},{key:"bindCallback",value:function(e,t){return this.errorCallback=t,this.jobQueue.bindCallback(e,t)}},{key:"updateServerData",value:function(e){var i=e.file,r={name:i.name,size:i.size,parent_type:this.config.parentType,parent_id:this.config.parentId,is_scorm:this.config.isScorm,is_wmpkg:this.config.isWmpkg,embed_material_type:this.config.embedMaterialType},o=n.defer();return t.post("/api/uploads",r).success((function(t){return e.updateUploadWithServerData(t),o.resolve(e)})).error((function(e){return o.reject(e)})),o.promise}},{key:"checkFileFormat",value:function(e,t){return i.every(e,(function(e){return i.some(t,(function(t){return new RegExp(".".concat(t),"i").test(e.name)}))}))}},{key:"checkFileSize",value:function(e,t){return i.every(e,(function(e){return e.size>0&&e.size<=t}))}},{key:"checkFiles",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return 0===n.length?this.checkFileSize(e,t):this.checkFileSize(e,t)&&this.checkFileFormat(e,n)}},{key:"filterByFileSizeZero",value:function(e){return i.filter(e,(function(e){return 0==e.size}))}},{key:"filterByFileSize",value:function(e,t){return i.filter(e,(function(e){return e.size>0&&e.size<=t}))}},{key:"filterByFileFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===t.length?e:i.filter(e,(function(e){return i.some(t,(function(t){return new RegExp(".".concat(t),"i").test(e.name)}))}))}},{key:"deleteUploadingUpload",value:function(t){return this.jobQueue.removeJob(t),i.remove(e.uploads,(function(e){return e.id===t.id}))}},{key:"deleteUpload",value:function(e,n){return e.id?t.delete("/api/uploads/"+e.id).success(n):n()}},{key:"isUploading",value:function(){return!this.jobQueue.isDone()}},{key:"humanizeBytes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.round,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",r=!0,o=["Bytes","KB","MB","GB","TB"];if(/floor/.test(n)&&(n=Math.floor),0===e)return"0 "+o[0];if(e<0){if(!t)return"0 "+o[0];r=!1,e=-e}var a=parseInt(Math.floor(Math.log(e)/Math.log(1024))),s=(a=a>3?3:a)>2?n(10*e/Math.pow(1024,a),2)/10:n(1*e/Math.pow(1024,a),2),c=s+i+o[a];return r||(c="-"+c),c}},{key:"getUserCourseResourceFolder",value:function(e){return t.get("/api/user/course/".concat(e,"/resources/folder")).then((function(e){return e.data}))}}])&&r(s.prototype,c),u&&r(s,u),a}())(a)}]},581943:(e,t,n)=>{var i=n(904072),r=n(730381),o=n(708468),a=n(963764);n(382526),n(141817),n(892222),n(34553),n(489554),n(226699),n(140561),n(891058),n(974916),n(115306),n(323123),n(454747);var s=n(887757);function c(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){c(o,i,r,a,s,"next",e)}function s(e){c(o,i,r,a,s,"throw",e)}a(void 0)}))}}n(535666);var l=n(554174).deleteActivity,d=n(354220).ensureCanApplyCloudClassroom,f=n(180736);e.exports=["$scope","$rootScope","calendarApi","statHelper","toastr","$compile","$window",function(e,t,n,c,p,h,_){var m=f(e);i(document).on("closed.fndtn.reveal","[data-reveal]",(function(){if(e.showCalendar)return i("body").css("overflow","hidden")})),e.ui=e.ui||{},e.ui.inited=!1,e.eventSources=[[],[],[],[],[]],e.changeView=function(t){if(w(),e.ui.calendar.removeEventSources(),t&&(e.ui.currentView=t),"timetable"===e.ui.currentView)return I();if("event"===e.ui.currentView)return g();if("meeting"===e.ui.currentView)return y();if("instructionMeeting"===e.ui.currentView)E();else{if("cloudClassroom"!==e.ui.currentView)return e.isTimetableToggleOpen&&I(),E(),A(),y(),g();A()}},e.downloadBlob=function(e,t){if(!t.deleted)return c.track("calendar_event","download",{calendar_event_id:e.id,upload_id:t.id})},e.formatTime=function(e){return"".concat(r.utc(e).format("YYYY-MM-DD"),"T").concat(r.utc(e).format("HH:mm:ss"),"Z")},e.eventDrop=function(t){return e.$broadcast("bindEventDrop",t)},e.addEventToCalendar=function(t){if(["event","all"].includes(e.ui.currentView))return e.eventSources[1].push(v(t))},e.updateEventInCalendar=function(t){var n=o.findIndex(e.eventSources[1],(function(e){return e.id===t.id}));return e.eventSources[1][n]=v(t)},e.deleteEventFromCalendar=function(t){var n=o.findIndex(e.eventSources[1],(function(e){return e.id===t.id}));return e.eventSources[1].splice(n,1)};var v=function(e){return{id:e.id,title:e.title,allDay:e.all_day,start:e.start_time,end:e.end_time,backgroundColor:e.color,data:e,editable:e.editable,uploads:e.uploads,type:"event"}},b=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#5879B4",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"meeting";t.description=t.data.description,t.join_url=t.data.join_url,t.live_addr=t.data.live_config.live_addr,t.color=n,t.replay_address=t.data.replay_address,t.host_user_id=t.host_user.id,t.scope_org_ids=t.participant_ids?t.participant_ids.split(","):[],t.is_started=r.utc()>r(t.start_time),t.is_ended=r.utc()>r(t.end_time);var o="instructionMeeting"!==i,a={id:t.id,title:t.title,start:e.formatTime(t.start_time),end:e.formatTime(t.end_time),backgroundColor:n,description:t.description,data:t,editable:o,type:i,course:t.teaching_unit,course_id:t.course_id,room:t.room};return a},g=function(){return n.getEvents((function(t){if(["event","all"].includes(e.ui.currentView))return e.eventSources[1]=[],o.each(t.events,(function(t){return e.eventSources[1].push(v(t))}))}),(function(){}))},y=function(){return n.getCalendarMeeting((function(t){if(["meeting","all"].includes(e.ui.currentView))return e.eventSources[2]=[],o.each(t.calendar_meeting,(function(t){return e.eventSources[2].push(b(t))}))}),(function(){}))};window.addEventListener("live-meeting-popup:close",(function(){y()}));var E=function(){var t=u(s.mark((function t(){var i,r;return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getInstructionMeeting();case 2:i=t.sent,r=i.meetings,e.eventSources[3]=[],r.forEach((function(t){e.eventSources[3].push(b(t,"#7AB27C","instructionMeeting"))}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=u(s.mark((function t(){var i,r;return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getCloudClassroomActivity(e.start,e.end);case 2:i=t.sent,r=i.cloud_classrooms,e.eventSources[4]=[],r.forEach((function(t){e.eventSources[4].push(b(t,"#99DE9B","cloudClassroom"))}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.openMeeting=function(e){w(),"meeting"===e.type&&_.open(e.data.live_addr,"_blank")},e.viewPlayBack=function(e){w(),"meeting"===e.type&&_.open(e.data.live_addr,"_blank")},e.viewLiveReplay=function(e){w(),"meeting"===e.type&&_.open(e.data.replay_address[0],"_blank")},e.editCalendar=function(t){return w(),"timetable"===t.type?e.$broadcast("bindTimetableForEdit",t):"meeting"===t.type?e.$broadcast("bindMeetingForEdit",t):e.$broadcast("bindEventForEdit",t)},e.editCloudClassroom=function(){w()};e.deleteCalendar=function(t){return w(),"timetable"===t.type?x(t):"meeting"===t.type?$(t):"instructionMeeting"!==t.type?"cloudClassroom"===t.type?function(t){e.confirm=u(s.mark((function n(){var r,o,a,c;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=function(){p.success(),i("#calendar-confirmation-popup").foundation("reveal","close")},n.prev=1,n.next=4,l(t.id);case 4:r(),(o=e.eventSources[4].findIndex((function(e){return e.id===t.id})))>-1&&e.eventSources[4].splice(o,1),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),p.error(null===(a=n.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message);case 12:case"end":return n.stop()}}),n,null,[[1,9]])}))),e.ui=e.ui||{},e.ui.titleBind=i("#deleteMeetingTitle").val(),e.ui.messageBind=i("#deleteMeetingText").val(),i("#calendar-confirmation-popup").foundation("reveal","open")}(t):C(t):void 0};var w=function(){return WebuiPopovers.hideAll(),i(".webui-popover.webui-popover-calendar.webui-no-padding.in").hide()};e.closeCalendarDetailPopover=function(){return w()};var C=function(t){return e.confirm=function(){return n.deleteEvent(t,(function(){return p.success(),i("#calendar-confirmation-popup").foundation("reveal","close"),e.deleteEventFromCalendar(t)}))},i("#event-detail-popup").foundation("reveal","close"),e.ui=e.ui||{},e.ui.titleBind=i("#deleteEventTitle").val(),e.ui.messageBind=i("#deleteEventConfirmText").val(),i("#calendar-confirmation-popup").foundation("reveal","open"),null},$=function(e){return document.getElementById("live-meeting-popup").getVueInstance().showCancelMeetingPopup(e.id,e.title)};e.$on("meeting-deleted",(function(t){e.activity.audit_status="auditing"}));var x=function(t){return e.confirm=function(){var r={target_time:e.formatTime(t.start),update_scope:e.ui.update_scope};return m.show(),n.deleteTimetable(t.id,r,(function(t){return e.changeView(),p.success(t.message),m.hide(),i("#calendar-confirmation-popup").foundation("reveal","close")}),(function(){}))},i("#timetable-detail-popup").foundation("reveal","close"),e.ui=e.ui||{},e.ui.update_scope="current",e.ui.titleBind=i("#deleteTimetableTitle").val(),delete e.ui.messageBind,i("#calendar-confirmation-popup").foundation("reveal","open"),null},S=function(t,n,i){return{id:t.id,title:t.course_title,start:e.formatTime(n),end:e.formatTime(i),data:t,editable:t.editable,uploads:[],backgroundColor:t.color,type:"timetable"}},I=function(){return n.getTimetables((function(t){if(["timetable","all"].includes(e.ui.currentView))return e.eventSources[0]=[],o.each(t.timetables,(function(t){return function(t){var n,i=r.utc(t.start_time),a=r.utc(t.end_time);if(["week","custom"].includes(t.repeat_type)){n=r.utc(t.repeat_end_date);var s=t.repeat_frequency,c=t.repeat_weekly_days.split(",");return o.each(c,(function(r){var o=parseInt(r)-(i.day()||7);o=o<0?o+7*s:o;var c=i.clone().add(o,"days"),u=a.clone().add(o,"days");return function(){for(var r=[];c.isSame(i)||c.isBetween(i,n)||c.date()===n.date();)e.eventSources[0].push(S(t,c,u)),c.add(7*s,"days"),r.push(u.add(7*s,"days"));return r}()}))}return"day"===t.repeat_type?(n=r.utc(t.repeat_end_date),function(){for(var r=[];i.date()===n.date()||i.isBefore(n);)e.eventSources[0].push(S(t,i,a)),i.add(1,"days"),r.push(a.add(1,"days"));return r}()):e.eventSources[0].push(S(t,i,a))}(t)}))}),(function(){}))};e.vueParam={activity:void 0};var k=function(t){return e.currentCalendar=t,e.uploads=e.currentCalendar.uploads,e.activity=e.currentCalendar.data,e.activity.auditStatus=e.activity.audit_status,e.vueParam.activity=e.activity,e.currentCalendar.timeRange=function(t){var n=r(t.start),i=r(t.end),o="".concat(n.format("LL"),"（").concat(e.weekDayMap[n.day()],"）");if(t.allDay)return o;if(!i.isSame(n,"day")){var a="".concat(i.format("LL"),"（").concat(e.weekDayMap[i.day()],"）");return"".concat(o," ").concat(n.format("HH:mm")," -\n ").concat(a," ").concat(i.format("HH:mm"))}return"".concat(o," ").concat(n.format("HH:mm")," - ").concat(i.format("HH:mm"))}(t)},N=function(t){if(w(),"timetable"===t||void 0===t&&"timetable"===e.ui.currentView)return e.$broadcast("bindTimetableForNew");if("meeting"===t){var n=parseInt(_.$("#orgId").val(),10);return d(n).then((function(e){if(e.canCreate)document.getElementById("live-meeting-popup").getVueInstance().showCalendarMeetingPopup(0,!1);else if(e.message){p.error(e.message).css({backgroundColor:"rgb(227, 70, 88)"})}})).catch((function(e){console.log(e)}))}return e.$broadcast("bindEventForNew")};e.createNew=function(e){return N(e)};var T=function(){switch(t.lang){case"zh-CN":return"zh-cn";case"zh-TW":case"zh-MO":return"zh-tw";default:return"en"}},D=function(e){return i("#moreText").val().replace("{0}",e)};e.calendarOptions={locale:T(),timezone:"local",customButtons:{change:{richContent:h(a.element('<div class="types-filter">\n    <a href="javascript:void(0)" toggle-dropdown>\n        <span>[[ calendarViewMap[ui.currentView] ]]</span>\n        <i class="font font-down-arrow"></i>\n    </a>\n    <div class="dropdown-list hide">\n        <ul>\n            <li ng-if="isTimetableToggleOpen">\n                <a ng-click="changeView(\'timetable\')">\n                    <span ng-bind="calendarViewMap.timetable"></span>\n                </a>\n            </li>\n            <li>\n                <a ng-click="changeView(\'event\')">\n                    <span ng-bind="calendarViewMap.event"></span>\n                </a>\n            </li>\n            <li ng-if="isCloudClassroomToggleOpen">\n                <a ng-click="changeView(\'meeting\')">\n                    <span ng-bind="calendarViewMap.meeting"></span>\n                </a>\n            </li>\n            <li ng-if="isInstructionTeamToggleOpen">\n                <a ng-click="changeView(\'instructionMeeting\')">\n                    <span ng-bind="calendarViewMap.instructionMeeting"></span>\n                </a>\n            </li>\n            <li ng-if="isCloudClassroomToggleOpen">\n                <a ng-click="changeView(\'cloudClassroom\')">\n                    <span ng-bind="calendarViewMap.cloudClassroom"></span>\n                </a>\n            </li>\n            <li>\n                <a ng-click="changeView(\'all\')">\n                    <span ng-bind="calendarViewMap.all"></span>\n                </a>\n            </li>\n        </ul>\n    </div>\n</div>'))(e)},create:{richContent:h(a.element('<a class="button button-green create-button" href="javascript:void(0)" toggle-dropdown>\n    <i class="icon icon-add-white"></i><span class="create-text" ng-bind="i18nMessage.createText"></span>\n</a>\n<div class="dropdown-list hide calendar-add-dropdown-list">\n    <ul>\n        <li ng-if="isTimetableToggleOpen">\n            <a ng-click="createNew(\'timetable\')"><span ng-bind="calendarViewMap.timetable"></span></a>\n        </li>\n        <li>\n            <a ng-click="createNew(\'event\')"><span ng-bind="calendarViewMap.event"></span></a>\n        </li>\n        <li ng-if="!isStudent && isMasterOrg && isOpenUniversity">\n            <a ng-click="createNew(\'meeting\')"><span ng-bind="calendarViewMap.meeting"></span></a>\n        </li>\n    </ul>\n</div>'))(e),richText:'<i class="icon icon-add-white"></i>'.concat(i("#addText").val()),click:N}},header:{left:"change create",center:"prev title next",right:"today"},views:{month:{titleFormat:"YYYY.MM"}},firstDay:1,viewRender:function(t){var n;return e.start=t.start.format("YYYY-MM-DD HH:mm:ss"),e.end=t.end.format("YYYY-MM-DD HH:mm:ss"),e.ui.inited||(e.ui.inited=!0,e.ui.calendar=t.calendar,e.isTimetableToggleOpen?e.ui.currentView="timetable":e.ui.currentView=null!==(n=window.globalData)&&void 0!==n&&n.isOpenUniversity?"all":"event"),e.changeView()},eventLimit:!0,eventLimitText:D,eventTimeFormat:"HH:mm",eventClick:function(t){return(null!=e.currentCalendar?e.currentCalendar.start:void 0)===t.start&&i(this).attr("data-target")?i(this).webuiPopover("show"):(k(t),i(this).webuiPopover("destroy").webuiPopover({url:"#calendar-detail-popup",width:400,padding:!1,style:"calendar",arrow:!1,trigger:"manual"}).webuiPopover("show"))}}}]},393862:(e,t,n)=>{var i=n(963764),r=n(708468),o=n(904072),a=n(730381);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(892222),n(489554),n(491038),n(821249),n(583710),n(968309),n(241539),n(339714),n(978783),n(923157),n(454747);var l=n(180736),d=n(693604);e.exports=["$scope","calendarApi","$q","multiSelect",function(e,t,n,u){var f=l(e);e.errors={},e.ui={},e.uploads=[];var p=function(){return e.target_data={department_ids:[],role_ids:[],course_id:null,course_targets:[]},e.ui.showDepartmentTreeView=!1},h=function(){if(!e.ui.alerts&&e.ui.hasAlert)return t.getAlerts((function(t){return e.ui.alerts=t.alerts}))},_=function(){var r;if(!r){r=n.defer();t.getDepartments((function(e){return r.resolve(e.departments)}),(function(){return r.resolve([])}))}return r.promise.then((function(t){return e.ui.departments=i.copy(t),m(),e.ui.showDepartmentTreeView=!0}))},m=function(){if(e.target_data.department_ids.length>0){var t=function t(n){return r.contains(e.target_data.department_ids,n.id.toString())&&(n.selected=!0),n.departments.map((function(e){return t(e)}))};return function(){var n,i=[],r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e.ui.departments);try{for(r.s();!(n=r.n()).done;){var o=n.value;i.push(t(o))}}catch(e){r.e(e)}finally{r.f()}return i}()}},v=function(){return u.multiSelect("#role-select",e.target_data.role_ids,!0,!1)},b=function(){e.errors={};if(!e.ui.courses){var n=o("#userId").data("id");return t.getUserCourses(n,(function(t){return e.ui.courses=t.courses,r.each(e.ui.courses,(function(e){return e.course_code&&d.startsWith(e.course_code,"_uuid")?e.display_text=e.name:e.display_text="".concat(e.name," (").concat(e.course_code,")")}))}))}},g=function(i){if(i){var o=n.defer(),a=n.defer();return t.getGroups(i,(function(e){return o.resolve(e.groups)})),t.getStudents(i,(function(e){return a.resolve(e.students)})),n.all([o.promise,a.promise]).then((function(){var t=Array.from(arguments.length<=0?void 0:arguments[0]),n=s(t,2),i=n[0],o=n[1],a=[];return r.forEach(i,(function(e){return a.push({id:"g".concat(e.id),name:e.name})})),r.forEach(o,(function(e){return a.push({id:"s".concat(e.id),name:e.name})})),e.ui.courseTargets=a,u.multiSelect("#course-target-select",e.target_data.course_targets)}))}},y=function(){return e.event={title:"",all_day:!1,start_time:null,end_time:null,location:"",description:"",target_type:"self",target_data:{},alert_id:null,send_email_alert:!1,color:"blue",uploads:[]},e.uploads=[],function(){var t;(t=e.selectedDate?a.utc(e.selectedDate).local().hour(a().hour()).utc():a.utc()).add(1,"hour").startOf("hour");var n=t.clone().add(1,"hour");e.event.start_time=t.format(),e.event.end_time=n.format()}(),p(),e.ui.hasAlert=0,o("#event-popup").foundation("reveal","open")};return e.$on("bindEventForNew",(function(){return y()})),e.$on("bindEventForEdit",(function(t,n){return function(t){switch(e.event=i.copy(t.data),e.uploads=i.copy(t.uploads),e.event.all_day&&(e.event.end_time=a.utc(e.event.end_time).add(-1,"day").format()),p(),e.event.target_type){case"department":e.target_data.department_ids=r.map(e.event.target_data.department_ids,(function(e){return e.toString()})),_(),e.target_data.role_ids=r.map(e.event.target_data.role_ids,(function(e){return e.toString()})),v();break;case"course":b(),e.target_data.course_id=e.event.target_data.course_id;var n=[];r.forEach(e.event.target_data.group_ids,(function(e){return n.push("g".concat(e))})),r.forEach(e.event.target_data.user_ids,(function(e){return n.push("s".concat(e))})),e.target_data.course_targets=n,g(e.target_data.course_id)}return e.ui.hasAlert=e.event.alert_id?1:0,h(),o("#event-popup").foundation("reveal","open")}(n)})),e.$on("bindEventDrop",(function(n,r){var o=i.copy(r);o.start_time=a.utc(r.start_time).format(),o.end_time=a.utc(r.end_time).format();return t.updateEvent(o,(function(t){return e.updateEventInCalendar(t)}),(function(t){return e.errors=t.errors,e.updateEventInCalendar(r)}))})),e.changeAllDay=function(){var t=a.utc(e.event.start_time),n=a.utc(e.event.end_time);if(e.event.all_day)t.local().startOf("day").utc(),n.local().startOf("day").utc();else{var i=a().hour();t.local().hour(i).add(1,"hour").startOf("hour").utc(),n.local().hour(i).add(2,"hour").startOf("hour").utc()}return e.event.start_time=t.format(),e.event.end_time=n.format()},e.showTargetType=function(){return o(".target-type select option").length>1},e.changeTargetType=function(){switch(p(),e.event.target_type){case"department":return _(),v();case"course":return b()}},e.changeCourse=function(){return g(e.target_data.course_id)},e.changeHasAlert=function(){return e.event.alert_id=e.ui.hasAlert?100:null,h()},e.save=function(){var n;f.show();var s=function(t){return e.errors=t.errors,f.hide()},c=i.copy(e.event);switch(e.uploads&&(c.uploads=e.uploads.map((function(e){return e.id}))),c.all_day&&(c.end_time=a.utc(c.end_time).add(1,"day").format()),c.target_type){case"department":if(0===e.target_data.department_ids.length)return void s({errors:{event_target_data_department_multi_select_tree:[e.i18nMessage.dataRequired]}});c.target_data={department_ids:r.map(e.target_data.department_ids,(function(e){return+e})),role_ids:r.map(e.target_data.role_ids,(function(e){return+e}))};break;case"course":if(!e.target_data.course_id)return void s({errors:{target_data_course_id:[e.i18nMessage.dataRequired]}});var u=[],l=[];r.forEach(e.target_data.course_targets,(function(e){return d.startsWith(e,"s")?u.push(+e.substr(1)):d.startsWith(e,"g")?l.push(+e.substr(1)):void 0})),c.target_data={course_id:+e.target_data.course_id,user_ids:u,group_ids:l};break;default:c.target_data={}}return c.id?(n=function(t){return e.updateEventInCalendar(t),f.hide(),o("#event-popup").foundation("reveal","close")},t.updateEvent(c,n,s)):(n=function(t){return e.addEventToCalendar(t),f.hide(),o("#event-popup").foundation("reveal","close")},t.createEvent(c,n,s))},e.addFiles=function(t){return e.uploads=t.concat(e.uploads)},e.deleteFile=function(t){return r.remove(e.uploads,t)}}]},817382:(e,t,n)=>{var i=n(730381),r=n(904072),o=n(963764);n(892222),n(489554),n(226699),n(569600),n(294986),n(747042),n(968309),n(132023),n(454747);var a=n(180736);e.exports=["$scope","calendarApi","$q","multiSelect","toastr",function(e,t,n,s,c){var u=a(e);e.errors={},e.ui={},e.orgs=[];var l=function(){var n,o=r("#userId").data("id"),a=r("#currentUserPhone").val();return e.can_edit=!0,e.meeting={title:"",start_time:null,end_time:null,data:{description:""},scope_org_ids:[],host_user:e.userCurrentName+"("+window.globalData.user.userNo+")("+a+")",host_user_id:o},function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=function(t){if(e.orgs=t.orgs,n)return s.multiSelect("#orgs-select");var i="";e.orgs.forEach((function(t){e.meeting.scope_org_ids.includes(t.id+"")&&(i=i.concat(t.name).concat("; "))})),e.scope_orgs=i.slice(0,i.lastIndexOf(";"))};t.getOrgs(i)}(),(n=i.utc()).add(10,"minute").startOf("minute"),e.meeting.start_time=n.format(),r("#calendar-meeting-popup").foundation("reveal","open")};e.$on("bindMeetingForNew",(function(){return l()})),e.$on("bindMeetingForEdit",(function(e,t){return function(e){return document.getElementById("live-meeting-popup").getVueInstance().showCalendarMeetingPopup(e.id,!0)}(t)})),e.save=function(){var n;u.show();var i=function(t){return e.errors=t.errors,t.message&&c.error(t.message),u.hide()},a=o.copy(e.meeting);return 0===a.scope_org_ids.length&&e.orgs.forEach((function(e){return a.scope_org_ids.push(e.id)})),a.scope_org_ids=a.scope_org_ids.join(","),a.id?(n=function(t){return c.success(t.message),u.hide(),e.changeView("meeting"),r("#calendar-meeting-popup").foundation("reveal","close")},t.updateCalendarMeeting(a,n,i)):(n=function(t){return c.success(t.message),u.hide(),e.changeView("meeting"),r("#calendar-meeting-popup").foundation("reveal","close")},t.createCalendarMeeting(a,n,i))}}]},443746:e=>{e.exports=["calendarApi","$q",function(e,t){var n={},i=null,r=null;return{initUserCourses:function(i){if(n[i])return n[i].promise;return n[i]=t.defer(),e.getUserCourses(i,(function(e){return n[i].resolve(e.courses)}),(function(){return n[i].resolve([])})),n[i].promise},initTimetables:function(){if(i)return i.promise;return i=t.defer(),e.getTimetables((function(e){return i.resolve(e.timetables)}),(function(){return i.resolve([])})),i.promise},initEvents:function(){if(r)return r.promise;return r=t.defer(),e.getEvents((function(e){return r.resolve(e.events)}),(function(){return r.resolve([])})),r.promise},clearTimetableCache:function(){return i=null},clearEventCache:function(){return r=null}}}]},350686:(e,t,n)=>{var i=n(904072),r=n(708468),o=n(730381),a=n(963764);n(892222),n(969826),n(682772),n(569600),n(821249),n(702707),n(140561),n(968309),n(891058),n(974916),n(323123),n(923157);var s=n(180736),c=n(693604),u=n(905686);e.exports=["$scope","calendarApi","calendarRepository","toastr","$document",function(e,t,n,l,d){var f=s(e),p=i("#userId").data("id");e.weeklyDays=r.map(e.weekDayIso,(function(e,t){return{name:e,val:t}})),e.defaultColors=["#800000","#FFD000","#000000","#7BA8D4","#002654","#A8497A"],e.errors={},e.showWeeklyDaysError=!1;var h=function(t){return e.courses=t,r.each(e.courses,(function(e){return e.course_code&&c.startsWith(e.course_code,"_uuid")?e.display_text=e.name:e.display_text="".concat(e.name," (").concat(e.course_code,")")}))};e.$on("bindTimetableForNew",(function(){var t=o.utc();t.add(1,"hour").startOf("hour");var r=t.clone().add(2,"hour");return e.timetable={course_id:0,course_title:"",instructors_names:"",start_time:t.format(),end_time:r.format(),repeat_type:"no_repeat",repeat_frequency:1,repeat_weekly_days:[],repeat_end_date:null,location:"",description:"",color:e.defaultColors[0]},n.initUserCourses(p).then((function(e){return h(e),i("#timetable-popup").foundation("reveal","open")}))})),e.$on("bindTimetableForEdit",(function(t,o){return e.timetable=a.copy(o.data),e.timetable.start_time=e.formatTime(o.start),e.timetable.end_time=e.formatTime(o.end),e.timetable.repeat_weekly_days=e.timetable.repeat_weekly_days?e.timetable.repeat_weekly_days.split(","):[],e.oldTimetable=a.copy(e.timetable),e.timetable.update_scope="current",e.timetable.origin_repeat_type=e.timetable.repeat_type,e.timetable.update_target_time=e.formatTime(o.start),e.timetable.send_ntf=!1,n.initUserCourses(p).then((function(t){e.courses||h(t);var n=r.find(e.courses,{id:parseInt(e.timetable.course_id)});return e.timetable.course_end_date=null!=n?n.end_date:void 0,i("#timetable-popup").foundation("reveal","open"),e.$watch("timetable",(function(t,n){if(t&&n){var i=n.start_time!==t.start_time,r=n.end_time!==t.end_time,o=t.update_scope!==n.update_scope,a=t.repeat_type!==n.repeat_type,s=t.repeat_frequency!==n.repeat_frequency,c=t.repeat_weekly_days.sort().join("")!==n.repeat_weekly_days.sort().join("");return i||r||o||a||s||c?e.timetable.ntf_content=u.generateNtfContent(e.oldTimetable,t):void 0}}),!0)}))})),d.on("close.fndtn.reveal","#timetable-popup",(function(){return delete e.timetable})),e.changeCourse=function(){if(null!=e.errors&&delete e.errors.course_id,e.timetable.course_id){var t=r.find(e.courses,{id:parseInt(e.timetable.course_id)});return e.timetable.course_title=null!=t?t.display_text:void 0,e.timetable.course_end_date=null!=t?t.end_date:void 0,e.timetable.instructors_names=null!=t?t.instructors_names:void 0}},e.toggleSelectDay=function(t){var n=r.indexOf(e.timetable.repeat_weekly_days,t);return-1!==n?e.timetable.repeat_weekly_days.splice(n,1):e.timetable.repeat_weekly_days.push(t)},e.selectColor=function(t){return e.timetable.color=t};return e.save=function(){var n,r=function(t){return e.errors=t.errors,e.showWeeklyDaysError=Boolean(null!=e.errors?e.errors.repeat_weekly_days:void 0),f.hide()};f.show();var o=function(t){var n=a.copy(t);return n.send_ntf||delete n.ntf_content,"current"===e.timetable.update_scope&&(n.repeat_type="no_repeat"),"no_repeat"===n.repeat_type?(delete n.repeat_frequency,delete n.repeat_weekly_days,delete n.repeat_end_date):"day"===n.repeat_type?(delete n.repeat_frequency,delete n.repeat_weekly_days):"week"===n.repeat_type?(n.repeat_weekly_days=n.repeat_weekly_days.join(","),n.repeat_frequency=1):"custom"===n.repeat_type&&(n.repeat_weekly_days=n.repeat_weekly_days.join(",")),n}(e.timetable);return o.id?(n=function(t){return e.changeView(),l.success(t.message),f.hide(),i("#timetable-popup").foundation("reveal","close")},t.updateTimetable(o,n,r)):(n=function(t){return e.changeView(),l.success(t.message),f.hide(),i("#timetable-popup").foundation("reveal","close")},t.createTimetable(o,n,r))}}]},905686:(e,t,n)=>{var i=n(730381),r=n(708468);n(892222),n(569600),n(821249),n(702707),n(974916),n(323123);var o=function(e,t){var n,r=e.repeat_type,o=i(e.start_time).format("HH:mm"),a=i(e.end_time).format("HH:mm");if("current"===t||"no_repeat"===r){var c=i(e.start_time),u=c.month()+1,l=c.date();return"".concat(u,"月").concat(l,"日").concat(o,"-").concat(a)}if("day"===r)return"每天".concat(o,"-").concat(a);if("week"===r)return n=s(e.repeat_weekly_days),"每周".concat(n).concat(o,"-").concat(a);if("custom"===r){var d=e.repeat_frequency;return n=s(e.repeat_weekly_days),"每".concat(d,"周").concat(n).concat(o,"-").concat(a)}},a={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"},s=function(e){return e="string"==typeof e?e.split(","):e,r.map(e.sort(),(function(e){return"周"+a[e]})).join("、")};e.exports={generateNtfContent:function(e,t){var n=e.course_title,r=function(e){if("current_and_after"!==e.update_scope)return"";var t=i(e.update_target_time),n=t.month()+1,r=t.date();return"自".concat(n,"月").concat(r,"日起，")}(t),a=o(e,t.update_scope),s=o(t,t.update_scope);return"课程".concat(n,"，").concat(r,"上课时间由").concat(a,"调整至").concat(s,"，望周知。")}}},875966:(e,t,n)=>{var i=n(708468);n(892222),e.exports=["$http","toastr",function(e,t){return{getEvents:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.noop;return e.get("/api/calendar-events?no-intercept=true").success(n).error(t.decorateError(r))},createEvent:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop;return e.post("/api/calendar-events",n).success(r).error(t.decorateError(o))},updateEvent:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop;return e.put("/api/calendar-events/".concat(n.id),n).success(r).error(t.decorateError(o))},getOrgs:function(t){return e.get("/api/org").success(t)},deleteEvent:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop;return e.delete("/api/calendar-events/".concat(n.id)).success(r).error(t.decorateError(o))},getAlerts:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.noop;return e.get("/api/calendar-alerts?no-intercept=true").success(n).error(t.decorateError(r))},getDepartments:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.noop;return e.get("/api/departments?no-intercept=true").success(n).error(t.decorateError(r))},getUserCourses:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop,a="/api/calendar-events/users/".concat(n,"/courses?no-intercept=true");return e.get(a).success(r).error(t.decorateError(o))},getGroups:function(n,i){return e.get("/api/courses/".concat(n,"/groups?no-intercept=true")).success(i).error(t.decorateError())},getStudents:function(n,i){return e.get("/api/course/".concat(n,"/students?no-intercept=true")).success(i).error(t.decorateError())},getTimetables:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.noop;return e.get("/api/calendar-timetables?no-intercept=true").success(n).error(t.decorateError(r))},createTimetable:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop;return e.post("/api/calendar-timetables",t).success(n).error(r)},updateTimetable:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop;return e.put("/api/calendar-timetables/".concat(t.id),t).success(n).error(r)},deleteTimetable:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.noop;return e.put("/api/calendar-timetables/".concat(t,"/delete"),n).success(r).error(o)},createCalendarMeeting:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop;return e.post("/api/calendar-meeting",t).success(n).error(r)},getCalendarMeeting:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.noop;return e.get("/api/calendar-meeting").success(n).error(t.decorateError(r))},delCalendarMeeting:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop;return e.delete("/api/calendar-meeting/".concat(n)).success(r).error(t.decorateError(o))},updateCalendarMeeting:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop;return e.put("/api/calendar-meeting/".concat(n.id),n).success(r).error(t.decorateError(o))},getCalendarMeetingForManagement:function(t,n,r,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.noop;return e.post("/api/management/calendar-meeting?page=".concat(t,"&page_size=").concat(n),r).success(o).error(a)},getCalendarMeetingForManagementExcel:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop;return e({url:"/api/management/calendar-meeting/excel",method:"POST",responseType:"arraybuffer",data:n}).success(r).error(t.decorateError(o))},getCloudClassroomActivity:function(t,n){return e.get("/api/activity/cloud-classroom?start=".concat(t,"&end=").concat(n)).then((function(e){return e.data}))},getInstructionMeeting:function(){return e.get("/api/instruction-team/meeting").then((function(e){return e.data}))}}}]},933533:(e,t,n)=>{var i=n(904072),r=n(693604);e.exports=["$rootScope","$scope","$timeout","toastr","filesApi",function(e,t,n,o,a){var s;t.humanizeBytes=r.humanizeBytes,n((function(){return s()})),e.$on("refreshStorageBar",(function(){return s()}));return s=function(){return a.getStorageUsed((function(e){var r=e.storage_used,o=t.maxSize;return t.ui={usedPercent:function(){return e=r,t=o,(n=Math.round(e/t*100))>100?"100%":"".concat(n,"%");var e,t,n},unusedPercent:function(){return e=r,t=o,(n=Math.round((t-e)/t*100))<0?"0%":"".concat(n,"%");var e,t,n},backgroundColor:function(){return r/o<.8?"#2BD3D7":"#F14173"},usedRadius:function(){return function(e,t){if(Math.round(e/t*100)>=100)return"3px"}(r,o)},unusedRadius:function(){return function(e,t){if(Math.round(e/t*100)<=0)return"3px"}(r,o)}},n((function(){return function(e,n){return i(".storage-used-number").text(t.humanizeBytes(e,!1,"floor")),i(".storage-unused-number").text(t.humanizeBytes(n-e,!1,"floor"))}(r,o)}))}))}}]},397416:(e,t,n)=>{var i=n(708468);e.exports=["$http","toastr",function(e,t){return{getStorageUsed:function(n){return e.get("/api/user/storage-used").success(n).error(t.decorateError())},createLink:function(t){return e.post("/api/user/links",t)},editLink:function(t,n){return e.put("/api/user/links/".concat(t),n)},getUploadReferenceDetail:function(t,n,r,o,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i.noop;return e.get("/api/uploads/".concat(t,"/references"),{params:{page:n,page_size:r,conditions:o}}).success(a).error(s)}}}]},647802:(e,t,n)=>{function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(491038),n(279753),n(978783),e.exports=["$rootScope","$scope","videoQuizRepository","$q","$timeout","interactionHelper","$interval",function(e,t,n,r,o,a,s){var c,u;return c=n.initSubjects(t.videoQuizId),u=n.initVideoQuiz(t.videoQuizId),r.all([u,c]).then((function(){var n=Array.from(arguments.length<=0?void 0:arguments[0]),c=i(n,2),u=c[0],l=c[1];return a.initForVideoQuiz(t,u,l),a.initForPreview(e,t,r,o,s)}))}]},985592:e=>{e.exports=["$http","$q",function(e,t){var n={},i={};return{initVideoQuiz:function(i){if(n[i])return n[i].promise;n[i]=t.defer();return e.get("/api/video-quizzes/".concat(i)).success((function(e){return n[i].resolve(e)})).error((function(){return n[i].resolve()})),n[i].promise},initSubjects:function(n){if(i[n])return i[n].promise;i[n]=t.defer();return e.get("/api/video-quizzes/".concat(n,"/subjects")).success((function(e){return i[n].resolve(e.subjects)})).error((function(){return i[n].resolve([])})),i[n].promise}}}]},139587:(e,t,n)=>{n(241539),n(788674),document.addEventListener("DOMContentLoaded",(function(){document.querySelector("#vue-app")&&Promise.all([n.e(24337),n.e(20688),n.e(54083)]).then(n.bind(n,920688)).then((function(e){(0,e.createVueApp)()}))}))},512053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(369070);var i=n(370538),r=n(420629);const o={state:function(){return{isLoading:!0,courseId:null,courseName:null,currentUser:{id:null,userNo:null,role:null}}},actions:{setCourseInfo:function(e,t){(0,e.commit)("setCourseInfo",t)},setCurrentUser:function(e,t){(0,e.commit)("setCurrentUser",t)}},getters:{},mutations:{setCourseInfo:function(e,t){var n=t.courseId,i=t.courseName;e.courseId=n,e.courseName=i},setCurrentUser:function(e,t){var n=t.userId,i=t.userNo,r=t.userRole;e.currentUser.id=n,e.currentUser.userNo=i,e.currentUser.role=r}}};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.default.use(r.ZP);const u=new r.ZP.Store(s(s({},o),{},{strict:!1}))},869709:(e,t,n)=>{"use strict";n.r(t);n(968309),n(241539),n(788674),n(382526),n(141817),n(969826),n(226699),n(209653);var i=n(554174),r=n(708468);const o={name:"CompletionCriteriaInput",props:{courseId:{type:Number},type:{type:String},value:{type:[Object,String]},initCompletionCriterionKey:{type:String},initCompletionCriterionValue:{type:[Number,String]},disable:{type:Boolean},useNewI18n:{type:Boolean,default:!1}},data:function(){return{hasCompletionCriterion:0,completionCriteriaData:{completion_criteria:[]},selectedCompletionCriterion:{id:null,value:0}}},methods:{change:function(){this.$emit("input",this.completionCriterionValue);var e=this.completionCriterionValue.id;if(e){var t=this.filteredCompletionCriterionType.find((function(t){return t.id===e}));null!=t&&t.description&&this.$emit("completionCriterionForShowChange",t.description)}},setDefaultCompletionCriterion:function(){this.setCompletionCriterion(this.defaultCompletionCriterionType)},setCompletionCriterion:function(e){e.id!==this.noneCompletionCriterionType.id&&(this.hasCompletionCriterion=1,this.selectedCompletionCriterion.id=e.id)},setInitCompletionCriterion:function(){if(this.initCompletionCriterionKey){var e=r.find(this.completionCriteriaData.completion_criteria,{completion_criterion_type:this.initCompletionCriterionKey})||this.noneCompletionCriterionType;this.setCompletionCriterion(e),this.selectedCompletionCriterion.value=this.initCompletionCriterionValue}else this.setDefaultCompletionCriterion(),this.selectedCompletionCriterion.value=this.defaultCompletionCriterionType.value}},watch:{completionCriterionValue:{deep:!0,handler:function(e,t){e!==t&&this.change()}},"selectedCompletionCriterionType.id":function(){this.selectedCompletionCriterion.value=this.selectedCompletionCriterionType.value}},computed:{completionCriterionValue:function(){var e=this.hasCompletionCriterion?this.selectedCompletionCriterion:this.noneCompletionCriterionType;return e.activity_completion_criterion_type_id=e.id,e},noneCompletionCriterionType:function(){return r.find(this.completionCriteriaData.completion_criteria,{completion_criterion_type:"none"})||{id:0,value:0}},filteredCompletionCriterionType:function(){return r.reject(this.completionCriteriaData.completion_criteria,{completion_criterion_type:"none"})},defaultCompletionCriterionType:function(){return r.find(this.completionCriteriaData.completion_criteria,{is_default:!0})||{id:0,value:0}},selectedCompletionCriterionType:function(){return r.find(this.completionCriteriaData.completion_criteria,{id:this.completionCriterionValue.id})||{}},showCustomValueInput:function(){return["score"].includes(this.selectedCompletionCriterionType.completion_criterion_type)}},created:function(){var e=this;(0,i.getCompletionCriteria)(this.courseId,this.type,this.useNewI18n).then((function(t){e.completionCriteriaData=t.data})).then((function(){return e.setInitCompletionCriterion()}))},install:function(e){return e.component(this.name,this)}};var a=n(551900);const s=(0,a.Z)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("RadioGroup",{model:{value:e.hasCompletionCriterion,callback:function(t){e.hasCompletionCriterion=t},expression:"hasCompletionCriterion"}},[n("Radio",{attrs:{label:0,disabled:e.disable}},[e._v(e._s(e.$t("has_not")))]),e._v(" "),n("Radio",{attrs:{label:1,disabled:e.disable}},[e._v(e._s(e.$t("has")))])],1),e._v(" "),e.hasCompletionCriterion?n("Select",{staticStyle:{width:"200px"},attrs:{disabled:e.disable},model:{value:e.selectedCompletionCriterion.id,callback:function(t){e.$set(e.selectedCompletionCriterion,"id",t)},expression:"selectedCompletionCriterion.id"}},e._l(e.filteredCompletionCriterionType,(function(t){return n("Option",{key:t.id,attrs:{value:t.id}},[e._v("\n      "+e._s(t.description)+"\n    ")])})),1):e._e(),e._v(" "),e.showCustomValueInput?n("Input",{staticStyle:{width:"60px"},model:{value:e.selectedCompletionCriterion.value,callback:function(t){e.$set(e.selectedCompletionCriterion,"value",t)},expression:"selectedCompletionCriterion.value"}}):e._e(),e._v(" "),e.hasCompletionCriterion?n("div",[n("div",{staticClass:"row-tip selected"},[n("label",[e._v("\n        "+e._s(e.$t("completion_selected_description"))+"\n      ")])])]):n("div",[n("div",{staticClass:"row-tip unselected"},[n("label",[e._v("\n        "+e._s(e.$t("completion_unselected_description"))+"\n      ")])])])],1)}),[],!1,null,"9ff89256",null).exports;n(57327),n(369070);var c=n(969658),u=n.n(c);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={data:function(){return{}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,n(420629).rn)(["courseId"])),props:{value:{type:String,default:""},option:{type:Object,default:function(){return{}}}},name:"VueSimditor",mounted:function(){var e,t,n=this;this.courseId&&(this.option.courseId=this.courseId),null!==(e=window.featureToggles)&&void 0!==e&&e.vocabulary||(this.option.toolbar=this.option.toolbar.filter((function(e){return"entry"!==e}))),null!==(t=window.featureToggles)&&void 0!==t&&t.editorActivityRefer||(this.option.toolbar=this.option.toolbar.filter((function(e){return"activity"!==e})));var i=this;u()().create(this.$refs.simditor,this.option).then((function(e){e.setValue(n.value),e.on("valuechanged",(function(){i.$emit("input",e.getValue())}))}))},install:function(e){return e.component(this.name,this)}};const p=(0,a.Z)(f,(function(){var e=this.$createElement;return(this._self._c||e)("textarea",{ref:"simditor"})}),[],!1,null,null,null).exports;var h=n(866473),_=n.n(h),m=n(370538),v=n(285256),b=n(385565),g=n.n(b),y=(n(422592),n(230791),n(507710)),E=n(512053),A=n(708468);m.default.prototype.$store=E.Z,m.default.use(_()),m.default.use(v.Z),m.default.use(p),m.default.use(s),m.default.use(g()),m.default.component("student-feedback",n(347660).Z),n(90963),Promise.all([n.e(68645),n.e(95219),n.e(95325),n.e(9718),n.e(60395)]).then(n.bind(n,455485)).then((function(e){e.default.store=E.Z,e.default.i18n=y.Z,m.default.customElement(e.default.name,e.default)})),n.e(80612).then(n.bind(n,780612)).then((function(e){e.default.store=E.Z,e.default.i18n=y.Z,m.default.customElement(e.default.name,e.default)})),Promise.all([n.e(89869),n.e(3560),n.e(98215)]).then(n.bind(n,251726)).then((function(e){e.default.options.store=E.Z,e.default.options.i18n=y.Z,m.default.customElement(e.default.options.name,e.default.options)})),n.e(11657).then(n.bind(n,811657)).then((function(e){e.default.options.store=E.Z,e.default.options.i18n=y.Z,m.default.customElement(e.default.options.name,e.default.options)})),n.e(5556).then(n.bind(n,805556)).then((function(e){e.default.options.store=E.Z,e.default.options.i18n=y.Z,m.default.customElement(e.default.options.name,e.default.options)})),Promise.all([n.e(93035),n.e(24062)]).then(n.bind(n,41823)).then((function(e){e.default.store=E.Z,e.default.i18n=y.Z,m.default.customElement(e.default.name,e.default)})),n.e(88283).then(n.bind(n,488283)).then((function(e){var t=A.cloneDeep(e.default);t.store=E.Z,t.i18n=y.Z,m.default.customElement(t.name,t)})),n.e(59497).then(n.bind(n,459497)).then((function(e){e.default.store=E.Z,e.default.i18n=y.Z,m.default.customElement(e.default.name,e.default)})),n.e(64201).then(n.bind(n,164201)).then((function(e){var t=A.cloneDeep(e.default);t.store=E.Z,t.i18n=y.Z,m.default.customElement(t.name,t)})),n.e(98781).then(n.bind(n,498781)).then((function(e){var t=A.cloneDeep(e.default);t.store=E.Z,t.i18n=y.Z,m.default.customElement(t.name,t)}))},90963:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n(932564);var i=n(370538);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.default.extend({render:function(n){return n(e,{props:t,on:r})}}),a=new o({parent:n}).$mount();document.body.appendChild(a.$el);var s=a.$children[0];s.visible=!0;var c=s.$refs.modal;c.$on("on-cancel",(function(){setTimeout((function(){s.getComponentName&&"VocabularyForm"===s.getComponentName()&&a.$el.remove()}),300)}))}i.default.prototype.$Modal.show=r;const o=r},738619:(e,t,n)=>{"use strict";n.r(t);var i=n(370538),r=n(507710);i.default.prototype._i18n=r.Z,i.default.customElement("calendar-meeting-popup",n(183784).Z),i.default.component("audit-status",n(596579).Z)},541647:(e,t,n)=>{"use strict";n.r(t);n(968309),n(241539),n(788674);var i=n(370538),r=n(285256),o=n(507710),a=n(512053);i.default.prototype.$store=a.Z,i.default.use(r.Z),n.e(46791).then(n.bind(n,746791)).then((function(e){e.default.options.store=a.Z,e.default.options.i18n=o.Z,i.default.customElement(e.default.options.name,e.default.options)}))},667492:(e,t,n)=>{"use strict";n.r(t);var i=n(370538),r=n(507710),o=n(170803),a=n.n(o),s=(n(209653),n(241539),n(788674),n(887757)),c=n.n(s),u=(n(535666),n(409669)),l=n.n(u);function d(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}var f=new CustomEvent("__import-exam-subject-popup-visible",{detail:{show:!1}});const p={props:{show:{type:Boolean,default:!1},examId:{type:Number,required:!0}},data:function(){return{loading:!1}},methods:{visibleChange:function(e){f.detail.show=e,document.dispatchEvent(f)},close:function(){f.detail.show=!1,document.dispatchEvent(f)},importSubject:function(){var e,t=this;return(e=c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,l().post("/api/make-up-exams/".concat(t.examId,"/subjects/import"));case 4:window.location.reload(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),t.loading=!1;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){d(o,i,r,a,s,"next",e)}function s(e){d(o,i,r,a,s,"throw",e)}a(void 0)}))})()}}};const h=(0,n(551900).Z)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{"class-name":"vertical-center-modal",value:e.show,title:e.$t("importSubject.title"),width:480,"mask-closable":!1},on:{"on-visible-change":e.visibleChange}},[n("p",[e._v(e._s(e.$t("importSubject.confirm")))]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.importSubject}},[e._v(e._s(e.$t("importSubject.import")))]),e._v(" "),n("Button",{attrs:{type:"default"},on:{click:e.close}},[e._v(e._s(e.$t("importSubject.notImport")))])],1)])}),[],!1,null,"5f4d92c2",null).exports;i.default.prototype._i18n=r.Z,i.default.use(a()),i.default.customElement("import-exam-subject-popup",h),i.default.component("match-subject-info",n(785586).Z),i.default.component("number-input",n(603912).Z)},591062:(e,t,n)=>{"use strict";n.r(t);var i,r=n(575026),o=n.n(r);(null===(i=window.CONFIGS)||void 0===i?void 0:i.aegisId)&&new(o())({id:window.CONFIGS.aegisId,reportApiSpeed:!0,reportAssetSpeed:!0,spa:!1})},422592:(e,t,n)=>{"use strict";n(489554),n(974916),n(115306),n(923157),n(454747);var i=n(370538),r=n(48496);i.default.directive("ellipsis",{inserted:function(e,t,n){var i=e.getElementsByClassName("ivu-tooltip-rel")[0],r=i.firstElementChild||i;n&&n.componentInstance&&n.componentInstance.$refs&&n.componentInstance.$refs.popper&&e.parentElement&&r&&r.offsetWidth<=e.parentElement.offsetWidth?n.componentInstance.$refs.popper.style.visibility="hidden":n.componentInstance.$refs.popper.style.visibility="visiable"},componentUpdated:function(e,t,n){i.default.nextTick((function(){var t=e.getElementsByClassName("ivu-tooltip-rel")[0],i=t.firstElementChild||t;n&&n.componentInstance&&n.componentInstance.$refs&&n.componentInstance.$refs.popper&&e.parentElement&&i&&i.offsetWidth<=e.parentElement.offsetWidth?n.componentInstance.$refs.popper.style.visibility="hidden":n.componentInstance.$refs.popper.style.visibility="visible"}))}}),i.default.directive("auto-label-width",{inserted:function(e,t,n){i.default.nextTick((function(){var e,t,i=[];null===(e=n.componentInstance)||void 0===e||e.$children.forEach((function(e){var t=e.$el.getElementsByTagName("label")[0];t&&i.push(t.clientWidth)}));var o=r._.max(i);console.log(o),null===(t=n.componentInstance)||void 0===t||t.$children.forEach((function(e){var t=e.$el.getElementsByTagName("label")[0];t&&(t.style.width=o)}))}))},componentUpdated:function(e,t,n){i.default.nextTick((function(){var e,t,i=[];null===(e=n.componentInstance)||void 0===e||e.$children.forEach((function(e){var t=e.$el.getElementsByTagName("label")[0];t&&i.push(t.clientWidth)}));var o=r._.max(i);console.log(o),null===(t=n.componentInstance)||void 0===t||t.$children.forEach((function(e){var t=e.$el.getElementsByTagName("label")[0];t&&(t.style.width=o+"px")}))}))}}),i.default.directive("upload-font",(function(e,t,n){var i=(0,r.fileTypeByExtension)(t.value);e.classList.add("font"),e.classList.forEach((function(t){t.startsWith("font-file-")?e.classList.replace(t,"font-file-"+i):e.classList.add("font-file-"+i)}))}))},230791:(e,t,n)=>{"use strict";n(57327);var i=n(370538),r=n(48496),o=n(576201);i.default.filter("localDatetime",(function(e){return o.Z.toLocalDateTime(e)})),i.default.filter("localDateYMDHm",(function(e){return o.Z.formatDatetime(e,"YYYY-MM-DD HH:mm")})),i.default.filter("toYmd",(function(e){return o.Z.toYmd(e)})),i.default.filter("toHm",(function(e){return o.Z.toHm(e)})),i.default.filter("secondsToHms",(function(e){return o.Z.secondsToHms(e)})),i.default.filter("diffBySeconds",(function(e,t){return o.Z.diffBySeconds(e,t)})),i.default.filter("humanizeBytes",r.humanizeBytes)},532233:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deleteVote:()=>s,addVote:()=>c,addFeedback:()=>u,updateFeedback:()=>l,deleteFeedback:()=>d});n(382526),n(141817),n(932165),n(66992),n(241539),n(788674),n(978783),n(333948);var i=n(409669),r=n.n(i),o=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},a=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function s(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,r().delete("/api/feedbacks/"+e+"/votes")];case 1:return[2,t.sent().data]}}))}))}function c(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,r().post("/api/feedbacks/"+e+"/votes")];case 1:return[2,t.sent().data]}}))}))}function u(e,t){return o(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,r().post("/api/feedback-activities/"+e+"/feedbacks",{title:t})];case 1:return[2,n.sent().data]}}))}))}function l(e,t,n){return o(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,r().put("/api/feedback-activities/"+e+"/feedbacks/"+t,{title:n})];case 1:return[2,i.sent().data]}}))}))}function d(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,r().delete("/api/feedbacks/"+e)];case 1:return[2,t.sent().data]}}))}))}},401438:(e,t,n)=>{"use strict";n.d(t,{kS:()=>d,hI:()=>f,gJ:()=>p,cG:()=>h,jx:()=>_,Jn:()=>m,oc:()=>v,MR:()=>b,Hr:()=>g});n(382526),n(141817),n(932165),n(66992),n(319601),n(241539),n(788674),n(978783),n(333948);var i=n(409669),r=n.n(i),o=n(920976),a=n(356264),s=n(250507),c=function(){return(c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},u=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},l=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},d=function(e,t,n,i){return void 0===t&&(t={}),void 0===n&&(n=1),void 0===i&&(i=10),u(void 0,void 0,void 0,(function(){var u,d,f,p;return l(this,(function(l){switch(l.label){case 0:return u=(0,a.decamelizeKeys)({page:n,pageSize:i,conditions:t}),[4,r().get("/api/courses/"+e+"/research-meeting",{params:u})];case 1:return d=l.sent(),f=(0,a.camelizeKeys)(d.data.result),p=(0,o.d8)(s.lb,f.items,{excludeExtraneousValues:!0}),[2,c(c({},f),{items:p})]}}))}))},f=function(e,t,n){return void 0===t&&(t=1),void 0===n&&(n=10),u(void 0,void 0,void 0,(function(){var i,u,d,f;return l(this,(function(l){switch(l.label){case 0:return i=(0,a.decamelizeKeys)({page:t,pageSize:n,conditions:e}),[4,r().get("/api/online-teachings",{params:i})];case 1:return u=l.sent(),d=(0,a.camelizeKeys)(u.data.result),f=(0,o.d8)(s.pD,d.items,{excludeExtraneousValues:!0}),[2,c(c({},d),{items:f})]}}))}))};function p(e,t){return r().post("/api/courses/"+e+"/research-meeting",t)}function h(e,t){return r().post("/api/courses/"+e+"/dingtalk-research-meeting",t)}var _=function(e){return u(void 0,void 0,void 0,(function(){var t,n,i;return l(this,(function(c){switch(c.label){case 0:return[4,r().get("/api/courses/research-meeting/"+e)];case 1:return t=c.sent(),n=t.data.result,i=(0,a.camelizeKeys)(n),[2,(0,o.d8)(s.MA,i,{excludeExtraneousValues:!0})]}}))}))};function m(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,r().get("/api/courses/research-meeting/"+e+"/resources")];case 1:return[2,t.sent().data]}}))}))}function v(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){return[2,r().delete("/api/courses/research-meeting/"+e+"/resources/"+t)]}))}))}function b(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,r().put("/api/courses/research-meeting/"+e,t)];case 1:return[2,n.sent().data]}}))}))}function g(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),r().delete("/api/courses/research-meeting/"+e,{params:t,data:n})}},825925:(e,t,n)=>{"use strict";n.d(t,{ab:()=>g,bS:()=>v,Xl:()=>b});n(382526),n(141817),n(932165),n(66992),n(241539),n(788674),n(978783),n(333948);var i=n(409669),r=n.n(i),o=n(920976),a=n(356264),s=(n(978011),n(369070),n(438880),n(968304),n(413447));function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u,l=(u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=function(){function e(){}return d([(0,s.C)()],e.prototype,"roomCode",void 0),d([(0,s.C)()],e.prototype,"roomName",void 0),e}(),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),d([(0,s.C)()],t.prototype,"appId",void 0),t}(f),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t}(f),_=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},m=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function v(){return _(this,void 0,void 0,(function(){var e,t;return m(this,(function(n){switch(n.label){case 0:return[4,r().get("/api/lesson-rooms")];case 1:return e=n.sent(),t=(0,a.camelizeKeys)(e.data),[2,(0,o.d8)(p,t,{excludeExtraneousValues:!0})]}}))}))}var b=function(e){return _(void 0,void 0,void 0,(function(){var t,n;return m(this,(function(i){switch(i.label){case 0:return[4,r().get("/api/course/"+e+"/room-locations")];case 1:return t=i.sent(),n=(0,a.camelizeKeys)(t.data.rooms),[2,(0,o.d8)(h,n)]}}))}))},g=function(e,t,n,i,s){return _(void 0,void 0,void 0,(function(){var c,u;return m(this,(function(l){switch(l.label){case 0:return[4,r().get("/api/org/"+e+"/enable-room-locations",{params:{start_time:t,end_time:n,activity_id:i,activity_type:s}})];case 1:return c=l.sent(),u=(0,a.camelizeKeys)(c.data.rooms),[2,(0,o.d8)(h,u)]}}))}))}},361835:(e,t,n)=>{"use strict";n.d(t,{cS:()=>f,M0:()=>h,Fk:()=>_,Br:()=>g,p9:()=>y,M_:()=>E});n(382526),n(141817),n(932165),n(66992),n(978011),n(369070),n(438880),n(968304),n(241539),n(978783),n(333948);var i=n(413447),r=n(247251),o=n(526617),a=n(48496);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c,u=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},d=["none","auditing","agree","reject","updating","canceled"],f=function(){function e(){}return l([(0,i.C)()],e.prototype,"id",void 0),l([(0,i.C)()],e.prototype,"title",void 0),l([(0,i.C)()],e.prototype,"courseId",void 0),l([(0,i.C)()],e.prototype,"type",void 0),l([(0,i.C)()],e.prototype,"data",void 0),l([(0,i.C)(),(0,r.w)((function(e){var t=e.value;return a.TimeUtils.toLocalDate(t)}),{toClassOnly:!0})],e.prototype,"startTime",void 0),l([(0,i.C)(),(0,r.w)((function(e){var t=e.value;return a.TimeUtils.toLocalDate(t)}),{toClassOnly:!0})],e.prototype,"endTime",void 0),l([(0,i.C)()],e.prototype,"canReprocessReplay",void 0),l([(0,i.C)()],e.prototype,"completionCriterion",void 0),l([(0,i.C)()],e.prototype,"completionCriterionKey",void 0),l([(0,i.C)(),(0,r.w)((function(e){return function(e){return a.TimeUtils.isAfterByNow(e.startTime)?"notStarted":!e.endTime||a.TimeUtils.isAfterByNow(e.endTime)?"inProgress":"expired"}(e.obj)}))],e.prototype,"status",void 0),l([(0,i.C)(),(0,r.w)((function(e){var t=e.obj;return d[t.data.auditStatus]||"none"}))],e.prototype,"auditStatus",void 0),l([(0,i.C)()],e.prototype,"stage",void 0),l([(0,i.C)(),(0,r.w)((function(e){var t=e.value;return a.TimeUtils.toLocalDate(t)}),{toClassOnly:!0})],e.prototype,"createdAt",void 0),l([(0,i.C)()],e.prototype,"createdBy",void 0),l([(0,i.C)()],e.prototype,"meetingHostUser",void 0),l([(0,i.C)(),(0,r.w)((function(e){return e.value||0}))],e.prototype,"syllabusId",void 0),l([(0,i.C)(),(0,r.w)((function(e){return e.value||0}))],e.prototype,"moduleId",void 0),e}(),p=function(e){this.type=e},h=function(e){function t(){return e.call(this,"chinamcloud_live")||this}return u(t,e),t}(p),_=function(e){function t(){var t=e.call(this,"lesson")||this;return t.lessonType="lesson_replay",t}return u(t,e),t}(p),m=function(){function e(){this.leftSecond=0,this.progress=0,this.retryTimes=0}return l([(0,i.C)()],e.prototype,"leftSecond",void 0),l([(0,i.C)()],e.prototype,"progress",void 0),l([(0,i.C)()],e.prototype,"retryTimes",void 0),e}(),v=function(){function e(){}return l([(0,i.C)()],e.prototype,"label",void 0),l([(0,i.C)()],e.prototype,"muted",void 0),l([(0,i.C)()],e.prototype,"streamUrl",void 0),l([(0,i.C)()],e.prototype,"type",void 0),e}(),b=function(){function e(){}return l([(0,i.C)()],e.prototype,"cameraType",void 0),l([(0,i.C)()],e.prototype,"cameraId",void 0),l([(0,i.C)()],e.prototype,"mute",void 0),l([(0,i.C)()],e.prototype,"url",void 0),l([(0,i.C)()],e.prototype,"mediaProtocol",void 0),e}(),g=function(){function e(){this.description="",this.progress=null,this.streams=null,this.replayVideos=null,this.controllerConfig={}}return l([(0,i.C)()],e.prototype,"instructorNames",void 0),l([(0,i.C)()],e.prototype,"description",void 0),l([(0,i.C)(),(0,o.D)((function(){return m}))],e.prototype,"progress",void 0),l([(0,i.C)(),(0,o.D)((function(){return v}))],e.prototype,"streams",void 0),l([(0,i.C)()],e.prototype,"status",void 0),l([(0,i.C)()],e.prototype,"replayId",void 0),l([(0,i.C)(),(0,o.D)((function(){return b}))],e.prototype,"replayVideos",void 0),l([(0,i.C)(),(0,r.w)((function(e){return e.value||{}}),{toClassOnly:!0})],e.prototype,"controllerConfig",void 0),l([(0,i.C)(),(0,r.w)((function(e){return e.value.roomName}),{toClassOnly:!0})],e.prototype,"room",void 0),l([(0,i.C)()],e.prototype,"type",void 0),e}(),y=function(){function e(){}return l([(0,i.C)()],e.prototype,"id",void 0),l([(0,i.C)()],e.prototype,"displayName",void 0),l([(0,i.C)()],e.prototype,"type",void 0),l([(0,i.C)()],e.prototype,"percentage",void 0),e}(),E=function(){function e(){}return l([(0,i.C)()],e.prototype,"id",void 0),l([(0,i.C)()],e.prototype,"createdAt",void 0),l([(0,i.C)()],e.prototype,"scoreMethod",void 0),l([(0,i.C)()],e.prototype,"version",void 0),l([(0,i.C)()],e.prototype,"oldScore",void 0),l([(0,i.C)()],e.prototype,"score",void 0),l([(0,i.C)()],e.prototype,"oldFinalScore",void 0),l([(0,i.C)()],e.prototype,"finalScore",void 0),l([(0,i.C)()],e.prototype,"operatorName",void 0),l([(0,i.C)()],e.prototype,"operatorId",void 0),e}()},250507:(e,t,n)=>{"use strict";n.d(t,{Sn:()=>p,ZA:()=>h,uU:()=>_,NL:()=>m,pD:()=>v,lb:()=>b,MA:()=>g,H_:()=>y});n(382526),n(141817),n(932165),n(226699),n(66992),n(569600),n(821249),n(968309),n(978011),n(369070),n(438880),n(968304),n(241539),n(132023),n(978783),n(333948);var i=n(413447),r=n(247251),o=n(526617),a=n(48496),s=n(507710);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u,l=(u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=function(){function e(){this.departmentName=null,this.learningCenterName=null}return e.prototype.displayRoleNames=function(){return this.roleNames&&this.roleNames.length>0?this.roleNames.map((function(e){return s.Z.t("teachingTeam.courseRoles."+e)})).join(","):"--"},e.prototype.hasInstructor=function(){return this.roleNames.includes("instructor")},e.prototype.displayClassNames=function(){return this.roleNames.includes("instructor")?this.roleNames.includes("student_manager")&&this.classes.length>0?s.Z.t("teachingTeam.allSection")+","+this.classes.map((function(e){return e.name})).join(","):s.Z.t("teachingTeam.allSection"):0!==this.sections.length&&0!==this.classes.length?this.sections.map((function(e){return e.name})).join(",")+","+this.classes.map((function(e){return e.name})).join(","):this.sections.map((function(e){return e.name})).join(",")||this.classes.map((function(e){return e.name})).join(",")},d([(0,i.C)()],e.prototype,"id",void 0),d([(0,i.C)()],e.prototype,"name",void 0),d([(0,i.C)()],e.prototype,"userNo",void 0),d([(0,i.C)()],e.prototype,"roleNames",void 0),d([(0,i.C)()],e.prototype,"groupName",void 0),d([(0,i.C)()],e.prototype,"orgName",void 0),d([(0,i.C)()],e.prototype,"classes",void 0),d([(0,i.C)()],e.prototype,"sections",void 0),d([(0,i.C)(),(0,r.w)((function(e){var t,n=e.value,i=e.obj;return"string"==typeof i.department||(null===(t=i.department)||void 0===t?void 0:t.name)?i.department:n}),{toClassOnly:!0})],e.prototype,"departmentName",void 0),d([(0,i.C)(),(0,r.w)((function(e){var t,n=e.value,i=e.obj;return"string"==typeof i.learningCenter||(null===(t=i.learningCenter)||void 0===t?void 0:t.name)?i.learningCenter:n}),{toClassOnly:!0})],e.prototype,"learningCenterName",void 0),e}(),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),d([(0,i.C)()],t.prototype,"avatarBigUrl",void 0),d([(0,i.C)()],t.prototype,"isLeader",void 0),d([(0,i.C)()],t.prototype,"mobilePhone",void 0),d([(0,i.C)()],t.prototype,"classes",void 0),t}(f),h=function(){function e(){}return d([(0,i.C)()],e.prototype,"name",void 0),d([(0,i.C)()],e.prototype,"id",void 0),e}(),_=function(){function e(){}return d([(0,i.C)()],e.prototype,"name",void 0),d([(0,i.C)()],e.prototype,"id",void 0),e}(),m=(function(){function e(){}d([(0,i.C)()],e.prototype,"id",void 0),d([(0,i.C)()],e.prototype,"name",void 0),d([(0,i.C)()],e.prototype,"size",void 0),d([(0,i.C)()],e.prototype,"type",void 0),d([(0,i.C)()],e.prototype,"status",void 0),d([(0,i.C)()],e.prototype,"allowDownload",void 0),d([(0,i.C)()],e.prototype,"audio",void 0),d([(0,i.C)(),(0,r.w)((function(e){var t=e.value;return a.TimeUtils.toLocalDate(t)}),{toClassOnly:!0})],e.prototype,"createdAt",void 0),d([(0,i.C)()],e.prototype,"isCcVideo",void 0),d([(0,i.C)()],e.prototype,"link",void 0),d([(0,i.C)()],e.prototype,"originAllowDownload",void 0),d([(0,i.C)()],e.prototype,"ownerId",void 0),d([(0,i.C)()],e.prototype,"referenceId",void 0),d([(0,i.C)(),(0,r.w)((function(e){var t=e.value;return a.TimeUtils.toLocalDate(t)}),{toClassOnly:!0})],e.prototype,"referencedAt",void 0)}(),function(){function e(){this.refParentId=null}return d([(0,i.C)()],e.prototype,"id",void 0),d([(0,i.C)()],e.prototype,"name",void 0),d([(0,i.C)(),(0,r.w)((function(e){var t=e.value;return a.TimeUtils.toLocalDate(t)}),{toClassOnly:!0})],e.prototype,"createdAt",void 0),d([(0,i.C)(),(0,o.D)((function(){return f}))],e.prototype,"createdBy",void 0),d([(0,i.C)()],e.prototype,"refParentId",void 0),d([(0,i.C)()],e.prototype,"upload",void 0),d([(0,i.C)()],e.prototype,"allowDownload",void 0),e}()),v=function(){function e(){}return d([(0,i.C)()],e.prototype,"id",void 0),d([(0,i.C)()],e.prototype,"title",void 0),d([(0,i.C)(),(0,r.w)((function(e){var t=e.value;return a.TimeUtils.formatDatetime(t,"YYYY-MM-DD HH:mm")}),{toClassOnly:!0})],e.prototype,"startTime",void 0),d([(0,i.C)(),(0,r.w)((function(e){var t=e.value;return a.TimeUtils.formatDatetime(t,"YYYY-MM-DD HH:mm")}),{toClassOnly:!0})],e.prototype,"endTime",void 0),d([(0,i.C)()],e.prototype,"courseName",void 0),d([(0,i.C)()],e.prototype,"auditStatus",void 0),d([(0,i.C)()],e.prototype,"status",void 0),d([(0,i.C)()],e.prototype,"joinUrl",void 0),d([(0,i.C)()],e.prototype,"stage",void 0),d([(0,i.C)()],e.prototype,"canAdjust",void 0),d([(0,i.C)()],e.prototype,"canCancel",void 0),d([(0,i.C)()],e.prototype,"createdBy",void 0),d([(0,i.C)()],e.prototype,"remark",void 0),d([(0,i.C)()],e.prototype,"isPublic",void 0),e}(),b=function(){function e(){}return d([(0,i.C)()],e.prototype,"id",void 0),d([(0,i.C)()],e.prototype,"title",void 0),d([(0,i.C)(),(0,r.w)((function(e){var t=e.value;return a.TimeUtils.formatDatetime(t,"YYYY-MM-DD HH:mm")}),{toClassOnly:!0})],e.prototype,"startTime",void 0),d([(0,i.C)(),(0,r.w)((function(e){var t=e.value;return a.TimeUtils.formatDatetime(t,"YYYY-MM-DD HH:mm")}),{toClassOnly:!0})],e.prototype,"endTime",void 0),d([(0,i.C)()],e.prototype,"createdBy",void 0),d([(0,i.C)()],e.prototype,"host",void 0),d([(0,i.C)()],e.prototype,"joinUrl",void 0),d([(0,i.C)()],e.prototype,"auditStatus",void 0),d([(0,i.C)()],e.prototype,"stage",void 0),d([(0,i.C)()],e.prototype,"canAdjust",void 0),d([(0,i.C)()],e.prototype,"canCancel",void 0),d([(0,i.C)()],e.prototype,"remark",void 0),d([(0,i.C)()],e.prototype,"isPublic",void 0),e}(),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),d([(0,i.C)()],t.prototype,"participantIds",void 0),d([(0,i.C)()],t.prototype,"data",void 0),d([(0,i.C)()],t.prototype,"hostUser",void 0),d([(0,i.C)(),(0,r.w)((function(e){var t=e.value;return a.TimeUtils.toLocalDate(t)}),{toClassOnly:!0})],t.prototype,"createdAt",void 0),d([(0,i.C)()],t.prototype,"hostUserName",void 0),d([(0,i.C)()],t.prototype,"hostUserNo",void 0),d([(0,i.C)()],t.prototype,"hostUserOrgName",void 0),d([(0,i.C)()],t.prototype,"createdUserId",void 0),d([(0,i.C)()],t.prototype,"createdUserName",void 0),d([(0,i.C)()],t.prototype,"createdUserNo",void 0),d([(0,i.C)()],t.prototype,"createdOrgName",void 0),d([(0,i.C)()],t.prototype,"createdUserOrgName",void 0),d([(0,i.C)()],t.prototype,"participantSum",void 0),d([(0,i.C)()],t.prototype,"description",void 0),d([(0,i.C)()],t.prototype,"meetingCode",void 0),d([(0,i.C)()],t.prototype,"recordType",void 0),d([(0,i.C)()],t.prototype,"courseId",void 0),t}(b),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),d([(0,i.C)()],t.prototype,"onlineDays",void 0),d([(0,i.C)()],t.prototype,"activeDays",void 0),d([(0,i.C)()],t.prototype,"totalNumberOfBehaviors",void 0),d([(0,i.C)()],t.prototype,"numberOfTeachingActivities",void 0),d([(0,i.C)()],t.prototype,"numberOfAssignmentBeenCorrected",void 0),d([(0,i.C)()],t.prototype,"numberOfReviewTests",void 0),d([(0,i.C)()],t.prototype,"numberOfReviewForums",void 0),d([(0,i.C)()],t.prototype,"numberOfDiscussionPosts",void 0),d([(0,i.C)()],t.prototype,"numberOfDiscussionReplies",void 0),d([(0,i.C)()],t.prototype,"numberOfDiscussionBeenResponded",void 0),t}(p);!function(){function e(){}d([(0,i.C)()],e.prototype,"auditStatus",void 0),d([(0,i.C)()],e.prototype,"stage",void 0)}()},224592:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getCourseGroupByGroupSetId:()=>_,getCourseGroupSets:()=>p,getCourseStudents:()=>h});n(569600);var i=n(409669),r=n.n(i),o=n(356264),a=n(920976),s=(n(382526),n(141817),n(932165),n(66992),n(369070),n(438880),n(241539),n(978783),n(333948),n(413447));function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},l=function(){function e(){}return u([(0,s.C)()],e.prototype,"id",void 0),u([(0,s.C)()],e.prototype,"name",void 0),u([(0,s.C)()],e.prototype,"userNo",void 0),u([(0,s.C)()],e.prototype,"avatarSmallUrl",void 0),u([(0,s.C)()],e.prototype,"selected",void 0),e}(),d=function(){function e(){}return u([(0,s.C)()],e.prototype,"id",void 0),u([(0,s.C)()],e.prototype,"groupSetId",void 0),u([(0,s.C)()],e.prototype,"leaders",void 0),u([(0,s.C)()],e.prototype,"members",void 0),u([(0,s.C)()],e.prototype,"name",void 0),e}(),f=function(){function e(){}return u([(0,s.C)()],e.prototype,"id",void 0),u([(0,s.C)()],e.prototype,"name",void 0),u([(0,s.C)()],e.prototype,"groupCount",void 0),u([(0,s.C)()],e.prototype,"courseId",void 0),e}();function p(e){return r().get("/api/courses/"+e+"/group-sets").then((function(e){var t=(0,o.camelizeKeys)(e.data.group_sets);return(0,a.d8)(f,t,{excludeExtraneousValues:!0})}))}function h(e){return r().get("/api/course/"+e+"/students").then((function(e){var t=(0,o.camelizeKeys)(e.data.students);return(0,a.d8)(l,t,{excludeExtraneousValues:!0})}))}function _(e,t){var n="id,group_set_id,name,members,leaders,group_users(id,name,user_no)";return t&&(n=t.join(",")),r().get("/api/group-sets/"+e+"/groups?fields="+n).then((function(e){var t=(0,o.camelizeKeys)(e.data.groups);return(0,a.d8)(d,t,{excludeExtraneousValues:!0})}))}},218818:(e,t,n)=>{var i=n(904072);n(892222),e.exports={props:["announcement"],data:function(){return{}},computed:{cookieKey:function(){return"user-".concat(i("#userId").data("id"),"-announcement-").concat(this.announcement.id,"-closed")}},methods:{isShow:function(){return!i.cookie(this.cookieKey)},close:function(){return i.cookie(this.cookieKey,1,{expires:1,path:"/"}),this.$forceUpdate()}}}},501801:(e,t,n)=>{"use strict";n.r(t)},618511:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(218818);const r=n.n(i)();const o=(0,n(551900).Z)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow()?n("div",{staticClass:"header-warning"},[n("span",{staticClass:"content"},[e._v("\n    "+e._s(e.announcement.content)+"\n  ")]),e._v(" "),n("i",{staticClass:"font font-close right",on:{click:e.close}})]):e._e()}),[],!1,null,"507ad83a",null).exports},557945:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(968309);(0,n(353779).Z)(n(425303));const i={name:"svg-icon",props:{name:String},install:function(e){return e.component(this.name,this)}};const r=(0,n(551900).Z)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"svg-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#"+e.name}})])}),[],!1,null,null,null).exports},347660:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});n(209653);var i=n(557945);n(891058);const r={components:{svgIcon:i.Z},name:"feedback-card",props:{totalVotes:{type:Number},detail:{type:String},votes:{type:Number},voted:{type:Boolean},feedbackCard:{type:Object}},computed:{percent:function(){return this.totalVotes<1?0:parseInt(this.votes/this.totalVotes*100,10)},changeEditDetail:function(){return this.editDetail=this.detail}},data:function(){return{total:0,editDetail:"",isEdit:!1,isSelfCreate:!1}},methods:{initData:function(){this.isSelfCreate=this.feedbackCard.isSelfCreate,this.isEdit=this.feedbackCard.isEdit,this.editDetail=this.detail},changeVoted:function(){this.$emit("on-change-agree",this.voted)},saveData:function(e){this.$emit("on-change-detail",e),this.isEdit=!1},changeEditStatus:function(){this.isEdit=!this.isEdit},cancelEdit:function(){this.feedbackCard.id<1&&this.deleteFeedback(),this.editDetail=this.detail,this.changeEditStatus()},deleteFeedback:function(){this.$emit("on-delete-data",this.feedbackCard)}},created:function(){this.initData()}};var o=n(551900);const a=(0,o.Z)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isEdit?e._e():n("div",{staticClass:"feedback-card"},[n("div",{staticClass:"card-canvas"},[n("div",{staticClass:"card-left"},[n("div",{staticClass:"feedback-detail"},[e._v(e._s(e.detail))]),e._v(" "),n("div",{staticClass:"progress-bar"},[n("Progress",{attrs:{percent:e.percent,"stroke-color":"#ff9700","hide-info":""}})],1)]),e._v(" "),n("button",{staticClass:"card-right",class:{"selected-button":e.voted},on:{click:e.changeVoted}},[n("svg-icon",{staticClass:"agree-icon",attrs:{name:"agree-icon"}}),e._v(" "),n("div",{staticClass:"agree-count"},[e._v(e._s(e.votes))])],1)]),e._v(" "),e.isSelfCreate?n("div",{staticClass:"side-bar"},[n("div",{staticClass:"side-button-edit-hover",on:{click:e.changeEditStatus}},[n("svg-icon",{staticClass:"side-button",attrs:{name:"edit-gray"}})],1),e._v(" "),n("div",{staticClass:"side-button-delete-hover",on:{click:e.deleteFeedback}},[n("svg-icon",{staticClass:"side-button",attrs:{name:"delete-gray"}})],1)]):e._e()]),e._v(" "),e.isEdit?n("div",{staticClass:"feedback-card"},[n("div",{staticClass:"card-canvas"},[n("Input",{staticClass:"edit-detail",attrs:{type:"textarea",autosize:!0,maxlength:"400"},model:{value:e.editDetail,callback:function(t){e.editDetail=t},expression:"editDetail"}}),e._v(" "),n("div",{staticClass:"edit-button save",class:{"disable-edit":!e.editDetail},on:{click:function(t){return e.saveData(e.editDetail)}}},[n("svg-icon",{staticClass:"edit-icon",attrs:{name:"white-save"}}),e._v(" "),n("div",{staticClass:"edit-font"},[e._v(e._s(e.$t("save")))])],1),e._v(" "),n("div",{staticClass:"edit-button cancel-edit",on:{click:e.cancelEdit}},[n("svg-icon",{staticClass:"edit-icon",attrs:{name:"round-cancel"}}),e._v(" "),n("div",{staticClass:"edit-font"},[e._v(e._s(e.$t("cancel")))])],1)],1)]):e._e()])}),[],!1,null,"b78069b2",null).exports;var s=n(48496);function c(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l=n(532233),d=l.deleteVote,f=l.addVote,p=l.addFeedback,h=l.updateFeedback,_=l.deleteFeedback;n(224592).getCourseStudents;const m={name:"student-feedback",components:{feedbackCard:a,svgIcon:i.Z},props:{activity:{type:Object,required:!0},courseId:{type:Number,required:!0},currentUserId:{type:Number,required:!0}},data:function(){return{feedbackCards:{},totalVotes:10,newCard:{id:-1,detail:"",voted:!1,votes:0,isSelfCreate:!0,isEdit:!0}}},methods:{addFeedback:function(){this.$set(this.feedbackCards,-1,this.newCard)},initData:function(){this.totalVotes=this.getTotalVotes(this.activity.feedbacks),this.feedbackCards=this.marshalFeedbackToFeedbackCards(this.activity.feedbacks)},updateFeedbackDetail:function(e,t){var n=this;t<0?p(this.activity.id,e).then((function(e){n.$delete(n.feedbackCards,-1);var t=n.marshalFeedbackToFeedbackCard(e.feedbacks.pop());t.isSelfCreate=!0,t.voted=!1,n.$set(n.feedbackCards,t.id,t)})).catch((function(e){t<0&&n.$delete(n.feedbackCards,-1),s.Toast.error(e.response.data.message)})):h(this.activity.id,t,e).then((function(){n.feedbackCards[t].detail=e})).catch((function(e){s.Toast.error(e.response.data.message)}))},updateFeedbackCount:function(e,t){var n=this;e?d(t).then((function(){n.feedbackCards[t].voted=!1,n.feedbackCards[t].votes-=1,n.totalVotes-=1})).catch((function(e){s.Toast.error(e.response.data.message)})):f(t).then((function(){n.feedbackCards[t].voted=!0,n.feedbackCards[t].votes+=1,n.totalVotes+=1})).catch((function(e){s.Toast.error(e.response.data.message)}))},deleteFeedback:function(e){var t=this;if(e<1)return this.$delete(this.feedbackCards,e);_(e).then((function(){t.$delete(t.feedbackCards,e)})).catch((function(e){s.Toast.error(e.response.data.message)}))},marshalFeedbackToFeedbackCard:function(e){var t={};return t.id=e.id,t.detail=e.title,t.voted=e.voted||!1,t.votes=e.votes,t.isSelfCreate=this.currentUserId===e.created_by_id,t},marshalFeedbackToFeedbackCards:function(e){var t,n={},i=c(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n[r.id]=this.marshalFeedbackToFeedbackCard(r)}}catch(e){i.e(e)}finally{i.f()}return n},getTotalVotes:function(e){var t,n=0,i=c(e);try{for(i.s();!(t=i.n()).done;){n+=t.value.votes}}catch(e){i.e(e)}finally{i.f()}return n}},created:function(){this.initData()}};const v=(0,o.Z)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"feedback-canvas"},[n("div",{staticClass:"feedback"},[n("div",{staticClass:"feedback-detail-content"},[n("div",{staticClass:"title"},[e._v(e._s(e.$t("feedbackContent.studentTitle")))])]),e._v(" "),e._l(e.feedbackCards,(function(t,i){return n("div",{key:i,staticClass:"feedback-card-box"},[n("feedback-card",{staticClass:"feedback-card",attrs:{detail:t.detail,votes:t.votes,voted:t.voted,feedbackCard:t,totalVotes:e.totalVotes},on:{"on-change-detail":function(t){return e.updateFeedbackDetail(t,i)},"on-change-agree":function(t){return e.updateFeedbackCount(t,i)},"on-delete-data":function(t){return e.deleteFeedback(i)}}})],1)})),e._v(" "),n("button",{staticClass:"add-feedback",on:{click:e.addFeedback}},[n("svg-icon",{staticClass:"add-gray",attrs:{name:"round-add-gray-background"}}),e._v(" "),n("span",[e._v(e._s(e.$t("feedbackContent.add")))])],1)],2)])}),[],!1,null,"01da4287",null).exports},183784:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(187372),r=n(463234),o=n(963764);const a={name:"calendar-meeting-popup",methods:{showCalendarMeetingPopup:function(e,t){this.$Modal.show(r.Z,{meetingId:e,isUpdate:t},this)},showCancelMeetingPopup:function(e,t){var n=this;this.$Modal.show(i.Z,{activityId:e,activityTitle:t,activityType:"live_meeting"},this,{"meeting-deleted":function(e){e.remove(),o.element(n.$el).scope().$emit("meeting-deleted")}})}}};const s=(0,n(551900).Z)(a,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null).exports},463234:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});n(382526),n(141817),n(892222),n(969826),n(489554),n(185827),n(747042),n(335268),n(583710),n(209653),n(447941),n(241539),n(788674),n(117727),n(974916),n(115306),n(323123),n(454747),n(932564);var i=n(887757),r=n.n(i),o=(n(535666),n(10323)),a=n(825925),s=n(390701),c=n(804301),u=n.n(c),l=n(601042),d=n(730381),f=n(167666),p=n(554174),h=n(48496);function _(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function v(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){v(o,i,r,a,s,"next",e)}function s(e){v(o,i,r,a,s,"throw",e)}a(void 0)}))}}const g={props:{meetingId:{type:Number,default:0},isUpdate:{type:Boolean,default:!1}},name:"live-meeting-form",data:function(){var e,t=this,n={status:0,statuses:["auditing","agree","reject","updating","canceled"],state:"info"},i=o.O.editorConfigWithTools(["entry","activity","html"]),r={disabledDate:function(e){return t.checkDateDisabled(e)}},a=null===(e=window.globalData)||void 0===e?void 0:e.user;return{audit:n,editorConfig:i,visible:!1,loading:!1,errors:{},formItem:{title:"",start_time:"",end_time:"",host_user_id:a.id,scope_org_ids:"",data:{description:"",room_location_id:void 0,remark:"",org_id:a.orgId,origin_activity_id:this.meetingId,update_reason:"",event_format:0}},timeRangeForOpenUniversity:{date:"",timeRange:""},rooms:[],datePickerOptions:r,dayOfWeekMap:{1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat",0:"sun"},enableDayOfWeek:[],currentUser:a,orgs:[],showDescription:!1}},computed:{modalTitle:function(){return this.isUpdate?"".concat(this.$i18n.t("calendarMeeting.update")):this.$i18n.t("calendarMeeting.create")},timePickerSelections:function(){var e=this.timeRangeForOpenUniversity.date?this.timeRangeForOpenUniversity.date.getDay():-1;return e>=0&&this.timeRangeSelections?this.timeRangeSelections[this.dayOfWeekMap[e]]:[]}},components:{TreeSelect:u(),Selects:l.Z},created:function(){var e=this;this.initTimetableConfig(),this.isUpdate?setTimeout((function(){e.getMeetingDetail()})):(this.showDescription=!0,this.initOrgs())},methods:{getMeetingDetail:function(){var e=this;(0,p.getMeetingDetail)(this.meetingId).then((function(t){e.activity=t,e.bindActivityInfo(t)})).finally((function(){e.loading=!1}))},bindActivityInfo:function(e){var t=this;return b(r().mark((function n(){var i;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.formItem.data.description=e.data.description,t.showDescription=!0,t.formItem.title=e.title,t.formItem.scope_org_ids=e.participantIds,t.formItem.data.event_format=e.data.eventFormat||(e.data.roomLocationId?1:0),t.formItem.data.room_location_id=e.data.roomLocationId||void 0,t.formItem.data.remark=e.data.remark,i=t.getActivityDatetimeRange(),t.timeRangeForOpenUniversity.date=new Date(i.date),t.timeRangeForOpenUniversity.timeRange=i.timeRange,t.parseLiveTimeWithOpenUniversity(),n.next=13,t.initRoomLocation();case 13:case"end":return n.stop()}}),n)})))()},initRoomLocation:function(){var e=this;return b(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getEnableRoomsByTime();case 2:e.activity.data.roomLocationId&&(e.formItem.data.room_location_id=e.activity.data.roomLocationId);case 3:case"end":return t.stop()}}),t)})))()},getActivityDatetimeRange:function(){var e=function(e){return"0"===e[0]?e.substring(1):e},t=d(this.activity.startTime).format("YYYY-MM-DD"),n=e(d(this.activity.startTime).format("HH:mm")),i=e(d(this.activity.endTime).format("HH:mm"));return{date:t,timeRange:"".concat(n,"-").concat(i)}},scopeOrgsChanged:function(e){var t="";e.forEach((function(e){t+="".concat(e,",")})),t=t.slice(0,t.length-1),this.formItem.scope_org_ids=t},initTimetableConfig:function(){var e=this;(0,f.rv)("live_meeting").then((function(t){e.timeRangeSelections=e.reformatMeetingTimeRangeSelections(t.timePeriodsInWeek),e.enableDayOfWeek=t.enabledDays}))},initOrgs:function(){var e=this;(0,s.getCalendarMeetingOrgs)().then((function(t){e.orgs=t.data.orgs}))},submit:function(){var e=this;this.loading=!0,this.isUpdate?(0,p.updateLiveMeeting)(this.formItem,this.meetingId).then((function(t){e.loading=!1,h.Toast.success(t.data.message),e.cancel(),setTimeout((function(){window.location.reload()}))})).catch((function(t){e.loading=!1;var n=t.response.data;if(n.errors){var i=h._.merge(n.errors,n.errors.data);e.errors=h._.mapValues(i,0)}else h.Toast.error(n.message)})):(0,p.createCalendarMeeting)(this.formItem).then((function(t){var n=new Event("live-meeting-popup:close");window.dispatchEvent(n),e.loading=!1,h.Toast.success(t.data.message),e.cancel()})).catch((function(t){e.loading=!1;var n=t.response.data;if(n.errors){var i=h._.merge(n.errors,n.errors.data);e.errors=h._.mapValues(i,0)}else h.Toast.error(n.message)}))},cancel:function(){this.visible=!1,this.$refs.modal.$el.remove()},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){t?e.submit():e.$Message.error("Fail!")}))},getEnableRoomsByTime:function(){var e=this;return b(r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.ab)(window.globalData.user.orgId,e.formItem.start_time,e.formItem.end_time,e.meetingId,"live_meeting");case 2:n=t.sent,e.rooms=e.formatClassRoomTreeSelect(n);case 4:case"end":return t.stop()}}),t)})))()},formatClassRoomTreeSelect:function(e){return e.reduce((function(e,t){if(!t.building)return _(e);var n=t.building||"",i=e.find((function(e){return e.label===n})),r={id:t.id,label:t.roomName,roomCode:t.roomCode,seats:t.seats};if(!i){var o={id:n,label:n,children:[r]};return[].concat(_(e),[o])}return i.children.push(r),_(e)}),[])},reformatMeetingTimeRangeSelections:function(e){var t={mon:[],tue:[],wed:[],thu:[],fri:[],sat:[],sun:[]};return Object.keys(e).forEach((function(n){e[n].forEach((function(e){var i="".concat(e.startTime,"-").concat(e.endTime);t[n].push({label:i,value:i})}))})),t},checkDateDisabled:function(e){var t=this.dayOfWeekMap[e.getDay()],n=d().format("YYYY-MM-DD");return!this.enableDayOfWeek[t]||d(e).format("YYYY-MM-DD")<n},parseLiveTimeWithOpenUniversity:function(){var e=function(e){return d(e).toISOString().replace(".000Z","Z")},t=d(this.timeRangeForOpenUniversity.date).format("YYYY-MM-DD"),n=this.timeRangeForOpenUniversity.timeRange.split("-"),i="".concat(t," ").concat(n[0]),r="".concat(t," ").concat(n[1]);this.formItem.start_time=e(i),this.formItem.end_time=e(r)},clearClassroomSelect:function(){this.$refs.classroomSelect.clear(),this.formItem.data.room_location_id=void 0},onChangeEventFormat:function(){this.formItem.data.event_format||(this.formItem.data.room_location_id=void 0)},onChangeDate:function(){this.timeRangeForOpenUniversity.timeRange="",this.clearClassroomSelect()},onChangeTimeRange:function(){this.clearClassroomSelect(),this.parseLiveTimeWithOpenUniversity(),this.getEnableRoomsByTime()}}};const y=(0,n(551900).Z)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{ref:"modal",attrs:{title:e.modalTitle,width:"900","z-index":400},on:{"on-cancel":e.cancel},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.isUpdate?e._e():n("div",{staticClass:"alert-content"},[n("Alert",{attrs:{"show-icon":""}},[e._v(e._s(e.$t("tencent_meeting.createTips")))])],1),e._v(" "),e.isUpdate?n("div",{staticClass:"alert-content"},[n("Alert",{attrs:{"show-icon":""}},[e._v(e._s(e.$t("tencent_meeting.editTips")))])],1):e._e(),e._v(" "),n("Form",{ref:"form",staticStyle:{padding:"24px 32px"},attrs:{model:e.formItem,"label-position":"right","label-width":110}},[n("FormItem",{attrs:{label:e.$t("cloudClassroom.name"),required:"",error:e.errors.title}},[n("Input",{model:{value:e.formItem.title,callback:function(t){e.$set(e.formItem,"title",t)},expression:"formItem.title"}})],1),e._v(" "),n("FormItem",{attrs:{label:e.$t("tencent_meeting.introduction")}},[e.showDescription?n("VueSimditor",{attrs:{option:e.editorConfig},model:{value:e.formItem.data.description,callback:function(t){e.$set(e.formItem.data,"description",t)},expression:"formItem.data.description"}}):e._e()],1),e._v(" "),e.isUpdate?e._e():n("FormItem",{attrs:{label:e.$t("calendarMeeting.scope"),required:"",error:e.errors.scope_org_ids}},[n("Selects",{staticClass:"org-selector",attrs:{items:e.orgs,maxTagCount:4,filterable:!0,hasSelectAll:!0},on:{"selected-data-changed":e.scopeOrgsChanged}})],1),e._v(" "),n("FormItem",{attrs:{required:"",label:e.$t("tencent_meeting.liveTime"),error:e.errors.start_time}},[n("Row",[n("Date-picker",{staticClass:"datetime-selector",attrs:{type:"date",placeholder:e.$t("tencent_meeting.liveDatePlaceholder"),options:e.datePickerOptions,clearable:!1},on:{"on-change":e.onChangeDate},model:{value:e.timeRangeForOpenUniversity.date,callback:function(t){e.$set(e.timeRangeForOpenUniversity,"date",t)},expression:"timeRangeForOpenUniversity.date"}}),e._v(" "),n("span",{staticStyle:{"text-align":"center",width:"9px",margin:"0 6px"}},[e._v("-")]),e._v(" "),n("Select",{staticClass:"datetime-selector",attrs:{placeholder:e.$t("tencent_meeting.liveTimeRangePlaceholder")},on:{"on-change":e.onChangeTimeRange},model:{value:e.timeRangeForOpenUniversity.timeRange,callback:function(t){e.$set(e.timeRangeForOpenUniversity,"timeRange",t)},expression:"timeRangeForOpenUniversity.timeRange"}},e._l(e.timePickerSelections,(function(t,i){return n("Option",{key:i,attrs:{value:t.value}},[e._v("\n            "+e._s(t.label)+"\n          ")])})),1)],1),e._v(" "),n("div",{staticClass:"meeting-host-tip"},[n("span",[e._v("("+e._s(e.$t("tencent_meeting.liveTimeTips"))+")")])])],1),e._v(" "),n("FormItem",{attrs:{label:e.$t("cloudClassroom.eventFormat"),error:e.errors.room_location_id}},[n("RadioGroup",{on:{"on-change":e.onChangeEventFormat},model:{value:e.formItem.data.event_format,callback:function(t){e.$set(e.formItem.data,"event_format",t)},expression:"formItem.data.event_format"}},[n("Radio",{attrs:{label:0}},[e._v(e._s(e.$t("cloudClassroom.online")))]),e._v(" "),n("Radio",{attrs:{label:1}},[e._v(e._s(e.$t("cloudClassroom.classroom")))])],1),e._v(" "),n("TreeSelect",{ref:"classroomSelect",staticClass:"room-location-item",class:{"error-box":e.errors.room_location_id},attrs:{options:e.rooms,disabled:!e.formItem.data.event_format,"disable-branch-nodes":!0,placeholder:e.$t("authz.select"),noResultsText:e.$t("noMatchingData"),noOptionsText:e.$t("noOptions")},scopedSlots:e._u([{key:"value-label",fn:function(t){var i=t.node;return n("div",{},[e._v(e._s(i.label)+" ("+e._s(i.raw.roomCode)+")")])}},{key:"option-label",fn:function(t){var i=t.node;return[i.isBranch?n("div",{staticStyle:{"line-height":"30px"}},[e._v(e._s(i.label))]):n("div",[n("div",[e._v(e._s(i.label))]),e._v(" "),n("div",{staticClass:"room-info"},[e._v("\n              ("+e._s(e.$t("cloudClassroom.roomCode"))+": "+e._s(i.raw.roomCode)+") ("+e._s(e.$t("cloudClassroom.capacity"))+":\n              "+e._s(i.raw.seats)+")\n            ")])])]}}]),model:{value:e.formItem.data.room_location_id,callback:function(t){e.$set(e.formItem.data,"room_location_id",t)},expression:"formItem.data.room_location_id"}})],1),e._v(" "),n("FormItem",{staticClass:"meeting-host",attrs:{required:"",label:e.$t("tencent_meeting.meeting_host"),error:e.errors.host_user_id}},[n("span",[e._v(e._s(e.currentUser.name)+"("+e._s(e.currentUser.userNo)+")("+e._s(e.currentUser.mobile)+")")]),e._v(" "),n("div",{staticClass:"meeting-host-tip"},[n("span",[e._v("("+e._s(e.$t("meeting.meetingHostMustBindMobilePhone"))+")")])])]),e._v(" "),e.isUpdate?e._e():n("FormItem",[n("span",{staticClass:"label-slot",attrs:{slot:"label"},slot:"label"},[n("div",[e._v(e._s(e.$t("tencent_meeting.note")))]),e._v(" "),n("Tooltip",{staticClass:"remark-tips",attrs:{content:e.$t("instructionalResearchMeeting.remarkTips"),placement:"top-start"}},[n("i",{staticClass:"icon icon-tip"})])],1),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formItem.data.remark,expression:"formItem.data.remark"}],staticClass:"tips-text",attrs:{maxlength:"200"},domProps:{value:e.formItem.data.remark},on:{input:function(t){t.target.composing||e.$set(e.formItem.data,"remark",t.target.value)}}})]),e._v(" "),e.isUpdate?n("FormItem",{attrs:{required:"",label:e.$t("tencent_meeting.updateReason"),error:e.errors.update_reason}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formItem.data.update_reason,expression:"formItem.data.update_reason"}],staticClass:"tips-text",attrs:{maxlength:"200"},domProps:{value:e.formItem.data.update_reason},on:{input:function(t){t.target.composing||e.$set(e.formItem.data,"update_reason",t.target.value)}}})]):e._e()],1),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{staticClass:"btn-default btn-primary",attrs:{loading:e.loading},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("confirm")))]),e._v(" "),n("Button",{staticClass:"btn-default btn-minor",on:{click:e.cancel}},[e._v(e._s(e.$t("cancel")))])],1)],1)}),[],!1,null,"0f381d89",null).exports},603912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(209653);const i={props:{active:{type:Boolean},max:{type:Number},min:{type:Number},currentValue:{type:Number}},data:function(){return{value:this.currentValue}},methods:{changeValue:function(){this.$emit("change-value",this.value)}}};const r=(0,n(551900).Z)(i,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("InputNumber",{staticClass:"minimum-answer-input",attrs:{max:e.max,min:e.min,"controls-outside":"",size:"small",editable:!1,disabled:!e.active},on:{"on-change":function(t){return e.changeValue()}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})}),[],!1,null,"77265c06",null).exports},785586:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});n(489554),n(682772),n(747042),n(974916),n(804723),n(323123),n(454747);const i={name:"thumbnail",props:{images:{type:Array,default:function(){return[]}}},data:function(){return{thumbnails:[],ready:!1}},created:function(){var e=this;this.images.forEach((function(t){var n=e;if(t.width&&t.height){var i={src:t.src,msrc:t.src,w:t.width,h:t.height};n.thumbnails.push(i)}else{var r=new Image;r.src=t.src,r.onload=function(){var e=r.width,i=r.height,o={src:t.src,msrc:t.src,w:e,h:i};n.thumbnails.push(o)}}})),this.ready=!0}};var r=n(551900);const o={name:"subject-info",components:{thumbnail:(0,r.Z)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.ready?n("vue-preview",{class:{"many-columns":e.thumbnails.length>1,"one-column":1===e.thumbnails.length},attrs:{slides:e.thumbnails}}):e._e()],1)}),[],!1,null,"3b971804",null).exports},props:{content:{type:String,default:""}},created:function(){var e=window.location.href;e.indexOf("?")<0&&(e+="?thumbnail=true",window.history.replaceState({path:e},"",e))},data:function(){return{images:this.getSubjectImages(),contents:this.getContentWithoutImages()}},methods:{getSubjectImages:function(){var e=[];if(!this.content)return e;var t=/src=['"]?([^'"]*)['"]?/i,n=/height=['"]?([1-9]\d*)['"]?/i,i=/width=['"]?([1-9]\d*)['"]?/i,r=this.content.match(/<img.*?(?:>|\/>)/gi);if(r)for(var o=0;o<r.length;o++){var a=r[o].match(t),s=r[o].match(i),c=r[o].match(n),u={src:a[1],width:s?s[1]:0,height:c?c[1]:0};e.push(u)}return e},getContentWithoutImages:function(){var e="",t="",n=this.content.indexOf("<img");n<0?e=this.content.slice(0):(e=this.content.slice(0,n),this.content.split(/<img.*?(?:>|\/>)/gi).forEach((function(n){n!==e&&(t+=n)})));return{beforeContent:e,afterContent:t}}}};const a=(0,r.Z)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.contents?n("div",{staticClass:"content-center"},[n("div",{domProps:{innerHTML:e._s(e.contents.beforeContent)}}),e._v(" "),n("thumbnail",{attrs:{images:e.images}}),e._v(" "),n("div",{domProps:{innerHTML:e._s(e.contents.afterContent)}})],1):e._e()}),[],!1,null,"5512d720",null).exports}}]);